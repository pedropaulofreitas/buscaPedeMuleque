/*! jQuery UI - v1.11.3 - 2015-03-05
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js, droppable.js, resizable.js, sortable.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,o=i.name,t.href&&o&&"map"===i.nodeName.toLowerCase()?(s=e("img[usemap='#"+o+"']")[0],!!s&&n(s)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}/*!
 * jQuery UI Core 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?s["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?s["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}};/*!
 * jQuery UI Widget 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var r=0,i=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,s,a,l={},u=t.split(".")[0];return t=t.split(".")[1],i=u+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[u]=e[u]||{},o=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=r)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;a>s;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},r=t.split("."),t=r.shift(),r.length){for(i=s[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=r.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?i.delegate(c,u,a):n.bind(u,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var s,a=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}});var o=(e.widget,!1);e(document).mouseup(function(){o=!1});e.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),o=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});/*!
 * jQuery UI Draggable 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
e.widget("ui.draggable",e.ui.mouse,{version:"1.11.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],void(r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,s=r.scrollParentNotHidden[0],a=r.document[0];s!==a&&"HTML"!==s.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+s.offsetHeight-t.pageY<i.scrollSensitivity?s.scrollTop=o=s.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+s.offsetWidth-t.pageX<i.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(a).scrollTop()<i.scrollSensitivity?o=e(a).scrollTop(e(a).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<i.scrollSensitivity&&(o=e(a).scrollTop(e(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(a).scrollLeft()<i.scrollSensitivity?o=e(a).scrollLeft(e(a).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<i.scrollSensitivity&&(o=e(a).scrollLeft(e(a).scrollLeft()+i.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,s,a,l,u,c,f,h,p,d=r.options,m=d.snapTolerance,g=n.offset.left,v=g+r.helperProportions.width,b=n.offset.top,y=b+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)l=r.snapElements[h].left-r.margins.left,u=l+r.snapElements[h].width,c=r.snapElements[h].top-r.margins.top,f=c+r.snapElements[h].height,l-m>v||g>u+m||c-m>y||b>f+m||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=Math.abs(c-y)<=m,o=Math.abs(f-b)<=m,s=Math.abs(l-v)<=m,a=Math.abs(u-g)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left)),p=i||o||s||a,"outer"!==d.snapMode&&(i=Math.abs(c-b)<=m,o=Math.abs(f-y)<=m,s=Math.abs(l-g)<=m,a=Math.abs(u-v)<=m,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||o||s||a||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||o||s||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,s=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});s.length&&(i=parseInt(e(s[0]).css("zIndex"),10)||0,e(s).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+s.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}});e.ui.draggable;/*!
 * jQuery UI Droppable 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
e.widget("ui.droppable",{version:"1.11.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===r.options.scope&&n.accept.call(n.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,r,i){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,a=o+t.helperProportions.width,l=s+t.helperProportions.height,u=n.offset.left,c=n.offset.top,f=u+n.proportions().width,h=c+n.proportions().height;switch(r){case"fit":return o>=u&&f>=a&&s>=c&&h>=l;case"intersect":return u<o+t.helperProportions.width/2&&a-t.helperProportions.width/2<f&&c<s+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(i.pageY,c,n.proportions().height)&&e(i.pageX,u,n.proportions().width);case"touch":return(s>=c&&h>=s||l>=c&&h>=l||c>s&&l>h)&&(o>=u&&f>=o||a>=u&&f>=a||u>o&&a>f);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,o=e.ui.ddmanager.droppables[t.options.scope]||[],s=n?n.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<o.length;r++)if(!(o[r].options.disabled||t&&!o[r].accept.call(o[r].element[0],t.currentItem||t.element))){for(i=0;i<a.length;i++)if(a[i]===o[r].element[0]){o[r].proportions().height=0;continue e}o[r].visible="none"!==o[r].element.css("display"),o[r].visible&&("mousedown"===s&&o[r]._activate.call(o[r],n),o[r].offset=o[r].element.offset(),o[r].proportions({width:o[r].element[0].offsetWidth,height:o[r].element[0].offsetHeight}))}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,o,s=e.ui.intersect(t,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(i=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),o.length&&(r=e(o[0]).droppable("instance"),r.greedyChild="isover"===a)),r&&"isover"===a&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),r&&"isout"===a&&(r.isout=!1,r.isover=!0,r._over.call(r,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}};e.ui.droppable;/*!
 * jQuery UI Resizable 1.11.3
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
e.widget("ui.resizable",e.ui.mouse,{version:"1.11.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),o="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+o+"'></div>"),i.css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=i&&i[1]?i[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,r+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,o=this.axis,s=t.pageX-i.left||0,a=t.pageY-i.top||0,l=this._change[o];return this._updatePrevProperties(),l?(n=l.apply(this,[t,s,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=r?0:c.sizeDiff.width,s={width:c.helper.width()-o,height:c.helper.height()-i},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(s,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,r=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,i=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),r>o.minHeight&&(o.minHeight=r),n<o.maxWidth&&(o.maxWidth=n),i<o.maxHeight&&(o.maxHeight=i)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),o&&u&&(e.left=a-t.minWidth),r&&u&&(e.left=a-t.maxWidth),s&&c&&(e.top=l-t.minHeight),i&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,o,s,a,l=e(this).resizable("instance"),u=l.options,c=l.element,f=u.containment,h=f instanceof e?f.get(0):/parent/.test(f)?c.parent().get(0):f;h&&(l.containerElement=e(h),/document/.test(f)||f===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=l._num(t.css("padding"+r))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=l.containerOffset,i=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(h,"left")?h.scrollWidth:o,a=l._hasScroll(h)?h.scrollHeight:i,l.parentData={element:h,left:r.left,top:r.top,width:s,height:a}))},resize:function(t){var n,r,i,o,s=e(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||t.shiftKey,f={top:0,left:0},h=s.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(f=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-f.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-f.left:s.offset.left-l.left)),r=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-f.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),l=s.outerWidth()-t.sizeDiff.width,u=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0},l=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?l(i.alsoResize):e.each(i.alsoResize,function(e,t){l(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof r.grid?[r.grid,r.grid]:r.grid,u=l[0]||1,c=l[1]||1,f=Math.round((i.width-o.width)/u)*u,h=Math.round((i.height-o.height)/c)*c,p=o.width+f,d=o.height+h,m=r.maxWidth&&r.maxWidth<p,g=r.maxHeight&&r.maxHeight<d,v=r.minWidth&&r.minWidth>p,b=r.minHeight&&r.minHeight>d;r.grid=l,v&&(p+=u),b&&(d+=c),m&&(p-=u),g&&(d-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.top=s.top-h):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.left=s.left-f):((0>=d-c||0>=p-u)&&(t=n._getPaddingPlusBorderDimensions(this)),d-c>0?(n.size.height=d,n.position.top=s.top-h):(d=c-t.height,n.size.height=d,n.position.top=s.top+o.height-d),p-u>0?(n.size.width=p,n.position.left=s.left-f):(p=u-t.width,n.size.width=p,n.position.left=s.left+o.width-p))}});e.ui.resizable,e.widget("ui.sortable",e.ui.mouse,{version:"1.11.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(r=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(r=e(t.target)),r&&(!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i))?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,n,r){var i,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=e("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,o,s=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:t.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:t.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(t.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),t.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],o=this._intersectsWithPointer(r),o&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,o=e.left,s=o+e.width,a=e.top,l=a+e.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||r+u>a&&l>r+u,h="y"===this.options.axis||t+c>o&&s>t+c,p=f&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return r?this.floating?o&&"right"===o||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){a.push(this)}var r,i,o,s,a=[],l=[],u=this._connectWith();if(u&&t)for(r=u.length-1;r>=0;r--)for(o=e(u[r],this.document[0]),i=o.length-1;i>=0;i--)s=e.data(o[i],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=l.length-1;r>=0;r--)l[r][0].each(n);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,o,s,a,l,u,c=this.items,f=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n],this.document[0]),r=i.length-1;r>=0;r--)o=e.data(i[r],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(f.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(s=f[n][1],a=f[n][0],r=0,u=a.length;u>r;r++)l=e(a[r]),l.data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,o;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),o=i.offset(),r.left=o.left,r.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,o,s,a,l,u,c,f,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);
else{for(i=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",f=c?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(l=this.items[r].item.offset()[s],u=!1,t[f]-l>this.items[r][a]/2&&(u=!0),Math.abs(t[f]-l)<i&&(i=Math.abs(t[f]-l),o=this.items[r],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,o=t.pageX,s=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/i.grid[1])*i.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((o-this.originalPageX)/i.grid[0])*i.grid[0],o=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;r<i.length;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}),function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,o=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(r=t(o[i],n),-1!==r&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(r=s[i].length;r--;)n=s[i][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}.call(this),function(e){"use strict";function t(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var n=document.documentElement,r=function(){};n.addEventListener?r=function(e,t,n){e.addEventListener(t,n,!1)}:n.attachEvent&&(r=function(e,n,r){e[n+r]=r.handleEvent?function(){var n=t(e);r.handleEvent.call(r,n)}:function(){var n=t(e);r.call(e,n)},e.attachEvent("on"+n,e[n+r])});var i=function(){};n.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:n.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=void 0}});var o={bind:r,unbind:i};"function"==typeof define&&define.amd?define(o):"object"==typeof exports?module.exports=o:e.eventie=o}(window),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(n,r){return t(e,n,r)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.Unipointer=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,n){"use strict";function r(){}function i(){}i.prototype=new t,i.prototype.bindStartEvent=function(e){this._bindStartEvent(e,!0)},i.prototype.unbindStartEvent=function(e){this._bindStartEvent(e,!1)},i.prototype._bindStartEvent=function(t,r){r=void 0===r?!0:!!r;var i=r?"bind":"unbind";e.navigator.pointerEnabled?n[i](t,"pointerdown",this):e.navigator.msPointerEnabled?n[i](t,"MSPointerDown",this):(n[i](t,"mousedown",this),n[i](t,"touchstart",this))},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.getTouch=function(e){for(var t=0,n=e.length;n>t;t++){var r=e[t];if(r.identifier==this.pointerIdentifier)return r}},i.prototype.onmousedown=function(e){var t=e.button;t&&0!==t&&1!==t||this._pointerDown(e,e)},i.prototype.ontouchstart=function(e){this._pointerDown(e,e.changedTouches[0])},i.prototype.onMSPointerDown=i.prototype.onpointerdown=function(e){this._pointerDown(e,e)},i.prototype._pointerDown=function(e,t){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==t.pointerId?t.pointerId:t.identifier,this.pointerDown(e,t))},i.prototype.pointerDown=function(e,t){this._bindPostStartEvents(e),this.emitEvent("pointerDown",[e,t])};var o={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return i.prototype._bindPostStartEvents=function(t){if(t){for(var r=o[t.type],i=t.preventDefault?e:document,s=0,a=r.length;a>s;s++){var l=r[s];n.bind(i,l,this)}this._boundPointerEvents={events:r,node:i}}},i.prototype._unbindPostStartEvents=function(){var e=this._boundPointerEvents;if(e&&e.events){for(var t=0,r=e.events.length;r>t;t++){var i=e.events[t];n.unbind(e.node,i,this)}delete this._boundPointerEvents}},i.prototype.onmousemove=function(e){this._pointerMove(e,e)},i.prototype.onMSPointerMove=i.prototype.onpointermove=function(e){e.pointerId==this.pointerIdentifier&&this._pointerMove(e,e)},i.prototype.ontouchmove=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerMove(e,t)},i.prototype._pointerMove=function(e,t){this.pointerMove(e,t)},i.prototype.pointerMove=function(e,t){this.emitEvent("pointerMove",[e,t])},i.prototype.onmouseup=function(e){this._pointerUp(e,e)},i.prototype.onMSPointerUp=i.prototype.onpointerup=function(e){e.pointerId==this.pointerIdentifier&&this._pointerUp(e,e)},i.prototype.ontouchend=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerUp(e,t)},i.prototype._pointerUp=function(e,t){this._pointerDone(),this.pointerUp(e,t)},i.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t])},i.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.prototype.pointerDone=r,i.prototype.onMSPointerCancel=i.prototype.onpointercancel=function(e){e.pointerId==this.pointerIdentifier&&this._pointerCancel(e,e)},i.prototype.ontouchcancel=function(e){var t=this.getTouch(e.changedTouches);t&&this._pointerCancel(e,t)},i.prototype._pointerCancel=function(e,t){this._pointerDone(),this.pointerCancel(e,t)},i.prototype.pointerCancel=function(e,t){this.emitEvent("pointerCancel",[e,t])},i.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}},i}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventie/eventie","unipointer/unipointer"],function(n,r){return t(e,n,r)}):"object"==typeof exports?module.exports=t(e,require("eventie"),require("unipointer")):e.Unidragger=t(e,e.eventie,e.Unipointer)}(window,function(e,t,n){"use strict";function r(){}function i(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function o(){}function s(){return!1}o.prototype=new n,o.prototype.bindHandles=function(){this._bindHandles(!0)},o.prototype.unbindHandles=function(){this._bindHandles(!1)};var a=e.navigator;o.prototype._bindHandles=function(e){e=void 0===e?!0:!!e;var n;n=a.pointerEnabled?function(t){t.style.touchAction=e?"none":""}:a.msPointerEnabled?function(t){t.style.msTouchAction=e?"none":""}:function(){e&&u(s)};for(var r=e?"bind":"unbind",i=0,o=this.handles.length;o>i;i++){var s=this.handles[i];this._bindStartEvent(s,e),n(s),t[r](s,"click",this)}};var l="attachEvent"in document.documentElement,u=l?function(e){"IMG"==e.nodeName&&(e.ondragstart=s);for(var t=e.querySelectorAll("img"),n=0,r=t.length;r>n;n++){var i=t[n];i.ondragstart=s}}:r;o.prototype.pointerDown=function(n,r){if("INPUT"==n.target.nodeName&&"range"==n.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(n,r);var i=document.activeElement;i&&i.blur&&i.blur(),this._bindPostStartEvents(n),this.pointerDownScroll=o.getScrollPosition(),t.bind(e,"scroll",this),this.emitEvent("pointerDown",[n,r])},o.prototype._dragPointerDown=function(e,t){this.pointerDownPoint=n.getPointerPoint(t);var r="touchstart"==e.type,o=e.target.nodeName;r||"SELECT"==o||i(e)},o.prototype.pointerMove=function(e,t){var n=this._dragPointerMove(e,t);this.emitEvent("pointerMove",[e,t,n]),this._dragMove(e,t,n)},o.prototype._dragPointerMove=function(e,t){var r=n.getPointerPoint(t),i={x:r.x-this.pointerDownPoint.x,y:r.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(i)&&this._dragStart(e,t),i},o.prototype.hasDragStarted=function(e){return Math.abs(e.x)>3||Math.abs(e.y)>3},o.prototype.pointerUp=function(e,t){this.emitEvent("pointerUp",[e,t]),this._dragPointerUp(e,t)},o.prototype._dragPointerUp=function(e,t){this.isDragging?this._dragEnd(e,t):this._staticClick(e,t)},n.prototype.pointerDone=function(){t.unbind(e,"scroll",this)},o.prototype._dragStart=function(e,t){this.isDragging=!0,this.dragStartPoint=o.getPointerPoint(t),this.isPreventingClicks=!0,this.dragStart(e,t)},o.prototype.dragStart=function(e,t){this.emitEvent("dragStart",[e,t])},o.prototype._dragMove=function(e,t,n){this.isDragging&&this.dragMove(e,t,n)},o.prototype.dragMove=function(e,t,n){i(e),this.emitEvent("dragMove",[e,t,n])},o.prototype._dragEnd=function(e,t){this.isDragging=!1;var n=this;setTimeout(function(){delete n.isPreventingClicks}),this.dragEnd(e,t)},o.prototype.dragEnd=function(e,t){this.emitEvent("dragEnd",[e,t])},o.prototype.pointerDone=function(){t.unbind(e,"scroll",this),delete this.pointerDownScroll},o.prototype.onclick=function(e){this.isPreventingClicks&&i(e)},o.prototype._staticClick=function(e,t){if(!this.isIgnoringMouseUp||"mouseup"!=e.type){var n=e.target.nodeName;if(("INPUT"==n||"TEXTAREA"==n)&&e.target.focus(),this.staticClick(e,t),"mouseup"!=e.type){this.isIgnoringMouseUp=!0;var r=this;setTimeout(function(){delete r.isIgnoringMouseUp},400)}}},o.prototype.staticClick=function(e,t){this.emitEvent("staticClick",[e,t])},o.prototype.onscroll=function(){var e=o.getScrollPosition(),t=this.pointerDownScroll.x-e.x,n=this.pointerDownScroll.y-e.y;(Math.abs(t)>3||Math.abs(n)>3)&&this._pointerDone()},o.getPointerPoint=function(e){return{x:void 0!==e.pageX?e.pageX:e.clientX,y:void 0!==e.pageY?e.pageY:e.clientY}};var c=void 0!==e.pageYOffset;return o.getScrollPosition=function(){return{x:c?e.pageXOffset:document.body.scrollLeft,y:c?e.pageYOffset:document.body.scrollTop}},o.getPointerPoint=n.getPointerPoint,o}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?No(r):{},No(ea,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new Da(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new e.inputStyles[r.inputStyle](this),s=this.display=new t(n,i,o);s.wrapper.CodeMirror=this,u(this),a(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Fs&&s.input.focus(),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Lo,keySeq:null,specialChars:null};var l=this;ys&&11>xs&&setTimeout(function(){l.display.input.reset(!0)},20),Hn(this),Xo(),wn(this),this.curOp.forceUpdate=!0,Xi(this,i),r.autofocus&&!Fs||l.hasFocus()?setTimeout(Ro(vr,this),20):br(this);for(var c in ta)ta.hasOwnProperty(c)&&ta[c](this,r[c],na);C(this),r.finishInit&&r.finishInit(this);for(var f=0;f<sa.length;++f)sa[f](this);Sn(this),ws&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(s.lineDiv).textRendering&&(s.lineDiv.style.textRendering="auto")}function t(e,t,n){var r=this;this.input=n,r.scrollbarFiller=Ho("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Ho("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Ho("div",null,"CodeMirror-code"),r.selectionDiv=Ho("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Ho("div",null,"CodeMirror-cursors"),r.measure=Ho("div",null,"CodeMirror-measure"),r.lineMeasure=Ho("div",null,"CodeMirror-measure"),r.lineSpace=Ho("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Ho("div",[Ho("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Ho("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Ho("div",null,null,"position: absolute; height: "+Oa+"px; width: 1px;"),r.gutters=Ho("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Ho("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Ho("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),ys&&8>xs&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),ws||gs&&Fs||(r.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(r.wrapper):e(r.wrapper)),r.viewFrom=r.viewTo=t.first,r.reportedViewFrom=r.reportedViewTo=t.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,Rt(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function i(e){e.options.lineWrapping?(Ja(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Qa(e.display.wrapper,"CodeMirror-wrap"),h(e)),s(e),Bn(e),ln(e),setTimeout(function(){b(e)},100)}function o(e){var t=yn(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/xn(e.display)-3);return function(i){if(Ci(e.doc,i))return 0;var o=0;if(i.widgets)for(var s=0;s<i.widgets.length;s++)i.widgets[s].height&&(o+=i.widgets[s].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function s(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&eo(e,t)})}function a(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ln(e)}function l(e){u(e),Bn(e),setTimeout(function(){w(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;qo(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(Ho("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",c(e)}function c(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function f(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=mi(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=gi(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function h(e){var t=e.display,n=e.doc;t.maxLine=Qi(n,n.first),t.maxLineLength=f(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=f(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=Mo(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function d(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Vt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function m(e,t,n){this.cm=n;var r=this.vert=Ho("div",[Ho("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Ho("div",[Ho("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(r),e(i),Pa(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),Pa(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,ys&&8>xs&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Qa(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new e.scrollbarModel[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),Pa(e,"mousedown",function(){t.state.focused&&setTimeout(function(){t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?or(t,e):ir(t,e)},t),t.display.scrollbars.addClass&&Ja(t.display.wrapper,t.display.scrollbars.addClass)}function b(e,t){t||(t=d(e));var n=e.display.barWidth,r=e.display.barHeight;y(e,t);for(var i=0;4>i&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&L(e),y(e,d(e)),n=e.display.barWidth,r=e.display.barHeight}function y(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function x(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ht(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=no(t,r),s=no(t,i);if(n&&n.ensure){var a=n.ensure.from.line,l=n.ensure.to.line;o>a?(o=a,s=no(t,ro(Qi(t,a))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=s&&(o=no(t,ro(Qi(t,l))-e.wrapper.clientHeight),s=l)}return{from:o,to:Math.max(s,o+1)}}function w(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=D(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",s=0;s<n.length;s++)if(!n[s].hidden){e.options.fixedGutter&&n[s].gutter&&(n[s].gutter.style.left=o);var a=n[s].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function C(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=S(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Ho("div",[Ho("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,s=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-s)+1,r.lineNumWidth=r.lineNumInnerWidth+s,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(e),!0}return!1}function S(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function D(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function k(e,t,n){var r=e.display;this.viewport=t,this.visible=x(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Kt(e),this.force=n,this.dims=T(e),this.events=[]}function A(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Vt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Vt(e)+"px",t.scrollbarsClipped=!0)}function E(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return Nn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==$n(e))return!1;C(e)&&(Nn(e),t.dims=T(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),s=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(i,n.viewTo)),zs&&(o=xi(e.doc,o),s=wi(e.doc,s));var a=o!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Wn(e,o,s),n.viewOffset=ro(Qi(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=$n(e);if(!a&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Vo();return l>4&&(n.lineDiv.style.display="none"),M(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Vo()!=u&&u.offsetHeight&&u.focus(),qo(n.cursorDiv),qo(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Rt(e,400)),n.updateLineNumbers=null,!0}function _(e,t){for(var n=t.viewport,r=!0;(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Kt(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qt(e.display)-Yt(e),n.top)}),t.visible=x(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&E(e,t);r=!1){L(e);var i=d(e);Mt(e),b(e,i),P(e,i)}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function F(e,t){var n=new k(e,t);if(E(e,n)){L(e),_(e,n);var r=d(e);Mt(e),b(e,r),P(e,r),n.finish()}}function P(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Vt(e)+"px"}function L(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(ys&&8>xs){var s=o.node.offsetTop+o.node.offsetHeight;i=s-n,n=s}else{var a=o.node.getBoundingClientRect();i=a.bottom-a.top}var l=o.line.height-i;if(2>i&&(i=yn(t)),(l>.001||-.001>l)&&(eo(o.line,i),I(o.line),o.rest))for(var u=0;u<o.rest.length;u++)I(o.rest[u])}}}function I(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function T(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,s=0;o;o=o.nextSibling,++s)n[e.options.gutters[s]]=o.offsetLeft+o.clientLeft+i,r[e.options.gutters[s]]=o.clientWidth;return{fixedPos:D(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function M(e,t,n){function r(t){var n=t.nextSibling;return ws&&Ps&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,s=i.lineDiv,a=s.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==s){for(;a!=f.node;)a=r(a);var h=o&&null!=t&&u>=t&&f.lineNumber;f.changes&&(Mo(f.changes,"gutter")>-1&&(h=!1),O(e,f,u,n)),h&&(qo(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(S(e.options,u)))),a=f.node.nextSibling}else{var p=H(e,f,u,n);s.insertBefore(p,a)}u+=f.size}for(;a;)a=r(a)}function O(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?R(e,t):"gutter"==o?W(e,t,n,r):"class"==o?j(t):"widget"==o&&$(e,t,r)}t.changes=null}function B(e){return e.node==e.text&&(e.node=Ho("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),ys&&8>xs&&(e.node.style.zIndex=2)),e.node}function z(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=B(e);e.background=n.insertBefore(Ho("div",null,t),n.firstChild)}}function N(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):Ni(e,t)}function R(e,t){var n=t.text.className,r=N(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,j(t)):n&&(t.text.className=n)}function j(e){z(e),e.line.wrapClass?B(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function W(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=B(t);t.gutterBackground=Ho("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var i=B(t),s=t.gutter=Ho("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(Ho("div",S(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var a=0;a<e.options.gutters.length;++a){var l=e.options.gutters[a],u=o.hasOwnProperty(l)&&o[l];u&&s.appendChild(Ho("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function $(e,t,n){t.alignable&&(t.alignable=null);for(var r,i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}q(e,t,n)}function H(e,t,n,r){var i=N(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),j(t),W(e,t,n,r),q(e,t,r),t.node}function q(e,t,n){if(U(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)U(e,t.rest[r],t,n,!1)}function U(e,t,n,r,i){if(t.widgets)for(var o=B(n),s=0,a=t.widgets;s<a.length;++s){var l=a[s],u=Ho("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),V(l,u,n,r),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),ko(l,"redraw")}}function V(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function K(e){return Ns(e.line,e.ch)}function Y(e,t){return Rs(e,t)<0?t:e}function G(e,t){return Rs(e,t)<0?e:t}function X(e){e.state.focused||(e.display.input.focus(),vr(e))}function Q(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var s=e.state.pasteIncoming||"paste"==i,a=o.splitLines(t),l=null;if(s&&r.ranges.length>1)if(js&&js.join("\n")==t){if(r.ranges.length%js.length==0){l=[];for(var u=0;u<js.length;u++)l.push(o.splitLines(js[u]))}}else a.length==r.ranges.length&&(l=Oo(a,function(e){return[e]}));for(var u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),h=c.to();c.empty()&&(n&&n>0?f=Ns(f.line,f.ch-n):e.state.overwrite&&!s&&(h=Ns(h.line,Math.min(Qi(o,h.line).text.length,h.ch+To(a).length))));var p=e.curOp.updateInput,d={from:f,to:h,text:l?l[u%l.length]:a,origin:i||(s?"paste":e.state.cutIncoming?"cut":"+input")};Ar(e.doc,d),ko(e,"inputRead",e,d)}t&&!s&&Z(e,t),Nr(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function J(e,t){var n=e.clipboardData&&e.clipboardData.getData("text/plain");return n?(e.preventDefault(),t.isReadOnly()||t.options.disableInput||Pn(t,function(){Q(t,n,0,null,"paste")}),!0):void 0}function Z(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),s=!1;if(o.electricChars){for(var a=0;a<o.electricChars.length;a++)if(t.indexOf(o.electricChars.charAt(a))>-1){s=jr(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qi(e.doc,i.head.line).text.slice(0,i.head.ch))&&(s=jr(e,i.head.line,"smart"));s&&ko(e,"electricInput",e,i.head.line)}}}function et(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Ns(i,0),head:Ns(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function tt(e){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck","false")}function nt(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Lo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function rt(){var e=Ho("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),t=Ho("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ws?e.style.width="1000px":e.setAttribute("wrap","off"),_s&&(e.style.border="1px solid black"),tt(e),t}function it(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Lo,this.gracePeriod=!1}function ot(e,t){var n=Zt(e,t.line);if(!n||n.hidden)return null;var r=Qi(e.doc,t.line),i=Xt(n,r,t.line),o=io(r),s="left";if(o){var a=cs(o,t.ch);s=a%2?"right":"left"}var l=nn(i.map,t.ch,s);return l.offset="right"==l.collapse?l.end:l.start,l}function st(e,t){return t&&(e.bad=!0),e}function at(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return st(e.clipPos(Ns(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return lt(o,t,n)}}function lt(e,t,n){function r(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=0>i?u.map:c[i],s=0;s<o.length;s+=3){var a=o[s+2];if(a==t||a==n){var l=to(0>i?e.line:e.rest[i]),f=o[s]+r;return(0>r||a!=t)&&(f=o[s+(r?1:0)]),Ns(l,f)}}}var i=e.text.firstChild,o=!1;if(!t||!Ya(i,t))return st(Ns(to(e.line),0),!0);if(t==i&&(o=!0,t=i.childNodes[n],n=0,!t)){var s=e.rest?To(e.rest):e.line;return st(Ns(to(s),s.text.length),o)}var a=3==t.nodeType?t:null,l=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=e.measure,c=u.maps,f=r(a,l,n);if(f)return st(f,o);for(var h=l.nextSibling,p=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return st(Ns(f.line,f.ch-p),o);p+=h.textContent.length}for(var d=l.previousSibling,p=n;d;d=d.previousSibling){if(f=r(d,d.firstChild,-1))return st(Ns(f.line,f.ch+p),o);p+=h.textContent.length}}function ut(e,t,n,r,i){function o(e){return function(t){return t.id==e}}function s(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(null!=n)return""==n&&(n=t.textContent.replace(/\u200b/g,"")),void(a+=n);var c,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(Ns(r,0),Ns(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(a+=Ji(e.doc,c.from,c.to).join(u)))}if("false"==t.getAttribute("contenteditable"))return;for(var p=0;p<t.childNodes.length;p++)s(t.childNodes[p]);/^(pre|div|p)$/i.test(t.nodeName)&&(l=!0)}else if(3==t.nodeType){var d=t.nodeValue;if(!d)return;l&&(a+=u,l=!1),a+=d}}for(var a="",l=!1,u=e.doc.lineSeparator();s(t),t!=n;)t=t.nextSibling;return a}function ct(e,t){this.ranges=e,this.primIndex=t}function ft(e,t){this.anchor=e,this.head=t}function ht(e,t){var n=e[t];e.sort(function(e,t){return Rs(e.from(),t.from())}),t=Mo(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(Rs(o.to(),i.from())>=0){var s=G(o.from(),i.from()),a=Y(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new ft(l?a:s,l?s:a))}}return new ct(e,t)}function pt(e,t){return new ct([new ft(e,t||e)],0)}function dt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function mt(e,t){if(t.line<e.first)return Ns(e.first,0);var n=e.first+e.size-1;return t.line>n?Ns(n,Qi(e,n).text.length):gt(t,Qi(e,t.line).text.length)}function gt(e,t){var n=e.ch;return null==n||n>t?Ns(e.line,t):0>n?Ns(e.line,0):e}function vt(e,t){return t>=e.first&&t<e.first+e.size}function bt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=mt(e,t[r]);return n}function yt(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=Rs(n,i)<0;o!=Rs(r,i)<0?(i=n,n=r):o!=Rs(n,r)<0&&(n=r)}return new ft(i,n)}return new ft(r||n,n)}function xt(e,t,n,r){At(e,new ct([yt(e,e.sel.primary(),t,n)],0),r)}function wt(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=yt(e,e.sel.ranges[i],t[i],null);var o=ht(r,e.sel.primIndex);At(e,o,n)}function Ct(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,At(e,ht(i,e.sel.primIndex),r)}function St(e,t,n,r){At(e,pt(t,n),r)}function Dt(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ft(mt(e,t[n].anchor),mt(e,t[n].head))},origin:n&&n.origin};return Ta(e,"beforeSelectionChange",e,r),e.cm&&Ta(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?ht(r.ranges,r.ranges.length-1):t}function kt(e,t,n){var r=e.history.done,i=To(r);i&&i.ranges?(r[r.length-1]=t,Et(e,t,n)):At(e,t,n)}function At(e,t,n){Et(e,t,n),fo(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function Et(e,t,n){(Fo(e,"beforeSelectionChange")||e.cm&&Fo(e.cm,"beforeSelectionChange"))&&(t=Dt(e,t,n));var r=n&&n.bias||(Rs(t.primary().head,e.sel.primary().head)<0?-1:1);_t(e,Pt(e,t,r,!0)),n&&n.scroll===!1||!e.cm||Nr(e.cm)}function _t(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,_o(e.cm)),ko(e,"cursorActivity",e))}function Ft(e){_t(e,Pt(e,e.sel,null,!1),za)}function Pt(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var s=t.ranges[o],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=It(e,s.anchor,a&&a.anchor,n,r),u=It(e,s.head,a&&a.head,n,r);(i||l!=s.anchor||u!=s.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new ft(l,u))}return i?ht(i,t.primIndex):t}function Lt(e,t,n,r,i){var o=Qi(e,t.line);if(o.markedSpans)for(var s=0;s<o.markedSpans.length;++s){var a=o.markedSpans[s],l=a.marker;if((null==a.from||(l.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(l.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(i&&(Ta(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--s;continue}break}if(!l.atomic)continue;if(n){var u,c=l.find(0>r?1:-1);if((0>r?l.inclusiveRight:l.inclusiveLeft)&&(c=Tt(e,c,-r,c&&c.line==t.line?o:null)),c&&c.line==t.line&&(u=Rs(c,n))&&(0>r?0>u:u>0))return Lt(e,c,t,r,i)}var f=l.find(0>r?-1:1);return(0>r?l.inclusiveLeft:l.inclusiveRight)&&(f=Tt(e,f,r,f.line==t.line?o:null)),f?Lt(e,f,t,r,i):null}}return t}function It(e,t,n,r,i){var o=r||1,s=Lt(e,t,n,o,i)||!i&&Lt(e,t,n,o,!0)||Lt(e,t,n,-o,i)||!i&&Lt(e,t,n,-o,!0);return s?s:(e.cantEdit=!0,Ns(e.first,0))}function Tt(e,t,n,r){return 0>n&&0==t.ch?t.line>e.first?mt(e,Ns(t.line-1)):null:n>0&&t.ch==(r||Qi(e,t.line)).text.length?t.line<e.first+e.size-1?Ns(t.line+1,0):null:new Ns(t.line,t.ch+n)}function Mt(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ot(e,t){for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),s=0;s<n.sel.ranges.length;s++)if(t!==!1||s!=n.sel.primIndex){var a=n.sel.ranges[s];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var l=a.empty();(l||e.options.showCursorWhenSelecting)&&Bt(e,a.head,i),l||zt(e,a,o)}}return r}function Bt(e,t,n){var r=dn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(Ho("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(Ho("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function zt(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(Ho("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?c-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return pn(e,Ns(t,n),"div",f,r)}var a,l,f=Qi(s,t),h=f.text.length;return ts(io(f),n||0,null==i?h:i,function(e,t,s){var f,p,d,m=o(e,"left");if(e==t)f=m,p=d=m.left;else{if(f=o(t-1,"right"),"rtl"==s){var g=m;m=f,f=g}p=m.left,d=f.right}null==n&&0==e&&(p=u),f.top-m.top>3&&(r(p,m.top,null,m.bottom),p=u,m.bottom<f.top&&r(p,m.bottom,null,f.top)),null==i&&t==h&&(d=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),u+1>p&&(p=u),r(p,f.top,d-p,f.bottom)}),{start:a,end:l}}var o=e.display,s=e.doc,a=document.createDocumentFragment(),l=Ut(e.display),u=l.left,c=Math.max(o.sizerWidth,Kt(e)-o.sizer.offsetLeft)-l.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var p=Qi(s,f.line),d=Qi(s,h.line),m=bi(p)==bi(d),g=i(f.line,f.ch,m?p.text.length+1:null).end,v=i(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(u,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(u,g.bottom,null,v.top)}n.appendChild(a)}function Nt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,Ro(jt,e))}function jt(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=la(t.mode,$t(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var s=o.styles,a=o.text.length>e.options.maxHighlightLength,l=Mi(e,o,a?la(t.mode,r):r,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!s||s.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<s.length;++h)f=s[h]!=o.styles[h];f&&i.push(t.frontier),o.stateAfter=a?r:la(t.mode,r)}else o.text.length<=e.options.maxHighlightLength&&Bi(e,o.text,r),o.stateAfter=t.frontier%5==0?la(t.mode,r):null;return++t.frontier,+new Date>n?(Rt(e,e.options.workDelay),!0):void 0}),i.length&&Pn(e,function(){for(var t=0;t<i.length;t++)zn(e,i[t],"text")})}}function Wt(e,t,n){for(var r,i,o=e.doc,s=n?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;a>s;--a){if(a<=o.first)return o.first;var l=Qi(o,a-1);if(l.stateAfter&&(!n||a<=o.frontier))return a;var u=ja(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=a-1,r=u)}return i}function $t(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=Wt(e,t,n),s=o>r.first&&Qi(r,o-1).stateAfter;return s=s?la(r.mode,s):ua(r.mode),r.iter(o,t,function(n){Bi(e,n.text,s);var a=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=a?la(r.mode,s):null,++o}),n&&(r.frontier=o),s}function Ht(e){return e.lineSpace.offsetTop}function qt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Uo(e.measure,Ho("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Vt(e){return Oa-e.display.nativeBarWidth}function Kt(e){return e.display.scroller.clientWidth-Vt(e)-e.display.barWidth}function Yt(e){return e.display.scroller.clientHeight-Vt(e)-e.display.barHeight}function Gt(e,t,n){var r=e.options.lineWrapping,i=r&&Kt(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var s=t.text.firstChild.getClientRects(),a=0;a<s.length-1;a++){var l=s[a],u=s[a+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Xt(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(to(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Qt(e,t){t=bi(t);var n=to(t),r=e.display.externalMeasured=new Mn(e.doc,t,n);r.lineN=n;var i=r.built=Ni(e,r);return r.text=i.pre,Uo(e.display.lineMeasure,i.pre),r}function Jt(e,t,n,r){return tn(e,en(e,t),n,r)}function Zt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Rn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function en(e,t){var n=to(t),r=Zt(e,n);r&&!r.text?r=null:r&&r.changes&&(O(e,r,n,T(e)),e.curOp.forceUpdate=!0),r||(r=Qt(e,t));var i=Xt(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function tn(e,t,n,r,i){t.before&&(n=-1);var o,s=n+(r||"");return t.cache.hasOwnProperty(s)?o=t.cache[s]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Gt(e,t.view,t.rect),t.hasHeights=!0),o=rn(e,t,n,r),o.bogus||(t.cache[s]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function nn(e,t,n){for(var r,i,o,s,a=0;a<e.length;a+=3){var l=e[a],u=e[a+1];if(l>t?(i=0,o=1,s="left"):u>t?(i=t-l,o=i+1):(a==e.length-3||t==u&&e[a+3]>t)&&(o=u-l,i=o-1,t>=u&&(s="right")),null!=i){if(r=e[a+2],l==u&&n==(r.insertLeft?"left":"right")&&(s=n),"left"==n&&0==i)for(;a&&e[a-2]==e[a-3]&&e[a-1].insertLeft;)r=e[(a-=3)+2],s="left";if("right"==n&&i==u-l)for(;a<e.length-3&&e[a+3]==e[a+4]&&!e[a+5].insertLeft;)r=e[(a+=3)+2],s="right";break}}return{node:r,start:i,end:o,collapse:s,coverStart:l,coverEnd:u}}function rn(e,t,n,r){var i,o=nn(t.map,n,r),s=o.node,a=o.start,l=o.end,u=o.collapse;if(3==s.nodeType){for(var c=0;4>c;c++){for(;a&&$o(t.line.text.charAt(o.coverStart+a));)--a;for(;o.coverStart+l<o.coverEnd&&$o(t.line.text.charAt(o.coverStart+l));)++l;if(ys&&9>xs&&0==a&&l==o.coverEnd-o.coverStart)i=s.parentNode.getBoundingClientRect();else if(ys&&e.options.lineWrapping){var f=qa(s,a,l).getClientRects();i=f.length?f["right"==r?f.length-1:0]:qs
}else i=qa(s,a,l).getBoundingClientRect()||qs;if(i.left||i.right||0==a)break;l=a,a-=1,u="right"}ys&&11>xs&&(i=on(e.display.measure,i))}else{a>0&&(u=r="right");var f;i=e.options.lineWrapping&&(f=s.getClientRects()).length>1?f["right"==r?f.length-1:0]:s.getBoundingClientRect()}if(ys&&9>xs&&!a&&(!i||!i.left&&!i.right)){var h=s.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+xn(e.display),top:h.top,bottom:h.bottom}:qs}for(var p=i.top-t.rect.top,d=i.bottom-t.rect.top,m=(p+d)/2,g=t.view.measure.heights,c=0;c<g.length-1&&!(m<g[c]);c++);var v=c?g[c-1]:0,b=g[c],y={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:v,bottom:b};return i.left||i.right||(y.bogus=!0),e.options.singleCursorHeightPerLine||(y.rtop=p,y.rbottom=d),y}function on(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!es(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function sn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function an(e){e.display.externalMeasure=null,qo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)sn(e.display.view[t])}function ln(e){an(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function un(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function cn(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function fn(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=ki(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var s=ro(t);if("local"==r?s+=Ht(e.display):s-=e.display.viewOffset,"page"==r||"window"==r){var a=e.display.lineSpace.getBoundingClientRect();s+=a.top+("window"==r?0:cn());var l=a.left+("window"==r?0:un());n.left+=l,n.right+=l}return n.top+=s,n.bottom+=s,n}function hn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=un(),i-=cn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var s=e.display.lineSpace.getBoundingClientRect();return{left:r-s.left,top:i-s.top}}function pn(e,t,n,r,i){return r||(r=Qi(e.doc,t.line)),fn(e,r,Jt(e,r,t.ch,i),n)}function dn(e,t,n,r,i,o){function s(t,s){var a=tn(e,i,t,s?"right":"left",o);return s?a.left=a.right:a.right=a.left,fn(e,r,a,n)}function a(e,t){var n=l[t],r=n.level%2;return e==ns(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=rs(n)-(n.level%2?0:1),r=!0):e==rs(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=ns(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?s(e-1):s(e,r)}r=r||Qi(e.doc,t.line),i||(i=en(e,r));var l=io(r),u=t.ch;if(!l)return s(u);var c=cs(l,u),f=a(u,c);return null!=sl&&(f.other=a(u,sl)),f}function mn(e,t){var n=0,t=mt(e.doc,t);e.options.lineWrapping||(n=xn(e.display)*t.ch);var r=Qi(e.doc,t.line),i=ro(r)+Ht(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function gn(e,t,n,r){var i=Ns(e,t);return i.xRel=r,n&&(i.outside=!0),i}function vn(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return gn(r.first,0,!0,-1);var i=no(r,n),o=r.first+r.size-1;if(i>o)return gn(r.first+r.size-1,Qi(r,o).text.length,!0,1);0>t&&(t=0);for(var s=Qi(r,i);;){var a=bn(e,s,i,t,n),l=gi(s),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;i=to(s=u.to.line)}}function bn(e,t,n,r,i){function o(r){var i=dn(e,Ns(n,r),"line",t,u);return a=!0,s>i.bottom?i.left-l:s<i.top?i.left+l:(a=!1,i.left)}var s=i-ro(t),a=!1,l=2*e.display.wrapper.clientWidth,u=en(e,t),c=io(t),f=t.text.length,h=is(t),p=os(t),d=o(h),m=a,g=o(p),v=a;if(r>g)return gn(n,p,v,1);for(;;){if(c?p==h||p==hs(t,h,1):1>=p-h){for(var b=d>r||g-r>=r-d?h:p,y=r-(b==h?d:g);$o(t.text.charAt(b));)++b;var x=gn(n,b,b==h?m:v,-1>y?-1:y>1?1:0);return x}var w=Math.ceil(f/2),C=h+w;if(c){C=h;for(var S=0;w>S;++S)C=hs(t,C,1)}var D=o(C);D>r?(p=C,g=D,(v=a)&&(g+=1e3),f=w):(h=C,d=D,m=a,f-=w)}}function yn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Ws){Ws=Ho("pre");for(var t=0;49>t;++t)Ws.appendChild(document.createTextNode("x")),Ws.appendChild(Ho("br"));Ws.appendChild(document.createTextNode("x"))}Uo(e.measure,Ws);var n=Ws.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),qo(e.measure),n||1}function xn(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Ho("span","xxxxxxxxxx"),n=Ho("pre",[t]);Uo(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function wn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vs},Us?Us.ops.push(e.curOp):e.curOp.ownsGroup=Us={ops:[e.curOp],delayedCallbacks:[]}}function Cn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Sn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{Cn(n)}finally{Us=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Dn(n)}}function Dn(e){for(var t=e.ops,n=0;n<t.length;n++)kn(t[n]);for(var n=0;n<t.length;n++)An(t[n]);for(var n=0;n<t.length;n++)En(t[n]);for(var n=0;n<t.length;n++)_n(t[n]);for(var n=0;n<t.length;n++)Fn(t[n])}function kn(e){var t=e.cm,n=t.display;A(t),e.updateMaxLine&&h(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new k(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function An(e){e.updatedDisplay=e.mustUpdate&&E(e.cm,e.update)}function En(e){var t=e.cm,n=t.display;e.updatedDisplay&&L(t),e.barMeasure=d(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Jt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Vt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Kt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function _n(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&or(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.preparedSelection&&t.display.input.showSelection(e.preparedSelection),(e.updatedDisplay||e.startHeight!=t.doc.height)&&b(t,e.barMeasure),e.updatedDisplay&&P(t,e.barMeasure),e.selectionChanged&&Nt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),!e.focus||e.focus!=Vo()||document.hasFocus&&!document.hasFocus()||X(e.cm)}function Fn(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&_(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,w(t)),e.scrollToPos){var i=Mr(t,mt(r,e.scrollToPos.from),mt(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&Tr(t,i)}var o=e.maybeHiddenMarkers,s=e.maybeUnhiddenMarkers;if(o)for(var a=0;a<o.length;++a)o[a].lines.length||Ta(o[a],"hide");if(s)for(var a=0;a<s.length;++a)s[a].lines.length&&Ta(s[a],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ta(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Pn(e,t){if(e.curOp)return t();wn(e);try{return t()}finally{Sn(e)}}function Ln(e,t){return function(){if(e.curOp)return t.apply(e,arguments);wn(e);try{return t.apply(e,arguments)}finally{Sn(e)}}}function In(e){return function(){if(this.curOp)return e.apply(this,arguments);wn(this);try{return e.apply(this,arguments)}finally{Sn(this)}}}function Tn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);wn(t);try{return e.apply(this,arguments)}finally{Sn(t)}}}function Mn(e,t,n){this.line=t,this.rest=yi(t),this.size=this.rest?to(To(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ci(e,t)}function On(e,t,n){for(var r,i=[],o=t;n>o;o=r){var s=new Mn(e.doc,Qi(e.doc,o),o);r=o+s.size,i.push(s)}return i}function Bn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)zs&&xi(e.doc,t)<i.viewTo&&Nn(e);else if(n<=i.viewFrom)zs&&wi(e.doc,n+r)>i.viewFrom?Nn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)Nn(e);else if(t<=i.viewFrom){var o=jn(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Nn(e)}else if(n>=i.viewTo){var o=jn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Nn(e)}else{var s=jn(e,t,t,-1),a=jn(e,n,n+r,1);s&&a?(i.view=i.view.slice(0,s.index).concat(On(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=r):Nn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function zn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[Rn(e,t)];if(null!=o.node){var s=o.changes||(o.changes=[]);-1==Mo(s,n)&&s.push(n)}}}function Nn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Rn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function jn(e,t,n,r){var i,o=Rn(e,t),s=e.display.view;if(!zs||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var a=0,l=e.display.viewFrom;o>a;a++)l+=s[a].size;if(l!=t){if(r>0){if(o==s.length-1)return null;i=l+s[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;xi(e.doc,n)!=n;){if(o==(0>r?0:s.length-1))return null;n+=r*s[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Wn(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=On(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=On(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Rn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(On(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Rn(e,n)))),r.viewTo=n}function $n(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function Hn(e){function t(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),s=i.activeTouch,s.end=+new Date)}function n(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function r(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}var i=e.display;Pa(i.scroller,"mousedown",Ln(e,Yn)),ys&&11>xs?Pa(i.scroller,"dblclick",Ln(e,function(t){if(!Eo(e,t)){var n=Kn(e,t);if(n&&!Zn(e,t)&&!Vn(e.display,t)){Ea(t);var r=e.findWordAt(n);xt(e.doc,r.anchor,r.head)}}})):Pa(i.scroller,"dblclick",function(t){Eo(e,t)||Ea(t)}),Os||Pa(i.scroller,"contextmenu",function(t){yr(e,t)});var o,s={end:0};Pa(i.scroller,"touchstart",function(t){if(!Eo(e,t)&&!n(t)){clearTimeout(o);var r=+new Date;i.activeTouch={start:r,moved:!1,prev:r-s.end<=300?s:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),Pa(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),Pa(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Vn(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var s,a=e.coordsChar(i.activeTouch,"page");s=!o.prev||r(o,o.prev)?new ft(a,a):!o.prev.prev||r(o,o.prev.prev)?e.findWordAt(a):new ft(Ns(a.line,0),mt(e.doc,Ns(a.line+1,0))),e.setSelection(s.anchor,s.head),e.focus(),Ea(n)}t()}),Pa(i.scroller,"touchcancel",t),Pa(i.scroller,"scroll",function(){i.scroller.clientHeight&&(ir(e,i.scroller.scrollTop),or(e,i.scroller.scrollLeft,!0),Ta(e,"scroll",e))}),Pa(i.scroller,"mousewheel",function(t){sr(e,t)}),Pa(i.scroller,"DOMMouseScroll",function(t){sr(e,t)}),Pa(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Eo(e,t)||Fa(t)},over:function(t){Eo(e,t)||(nr(e,t),Fa(t))},start:function(t){tr(e,t)},drop:Ln(e,er),leave:function(t){Eo(e,t)||rr(e)}};var a=i.input.getField();Pa(a,"keyup",function(t){dr.call(e,t)}),Pa(a,"keydown",Ln(e,hr)),Pa(a,"keypress",Ln(e,mr)),Pa(a,"focus",Ro(vr,e)),Pa(a,"blur",Ro(br,e))}function qn(t,n,r){var i=r&&r!=e.Init;if(!n!=!i){var o=t.display.dragFunctions,s=n?Pa:Ia;s(t.display.scroller,"dragstart",o.start),s(t.display.scroller,"dragenter",o.enter),s(t.display.scroller,"dragover",o.over),s(t.display.scroller,"dragleave",o.leave),s(t.display.scroller,"drop",o.drop)}}function Un(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function Vn(e,t){for(var n=Co(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function Kn(e,t,n,r){var i=e.display;if(!n&&"true"==Co(t).getAttribute("cm-not-content"))return null;var o,s,a=i.lineSpace.getBoundingClientRect();try{o=t.clientX-a.left,s=t.clientY-a.top}catch(t){return null}var l,u=vn(e,o,s);if(r&&1==u.xRel&&(l=Qi(e.doc,u.line).text).length==u.ch){var c=ja(l,l.length,e.options.tabSize)-l.length;u=Ns(u.line,Math.max(0,Math.round((o-Ut(e.display).left)/xn(e.display))-c))}return u}function Yn(e){var t=this,n=t.display;if(!(Eo(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.shift=e.shiftKey,Vn(n,e))return void(ws||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Zn(t,e)){var r=Kn(t,e);switch(window.focus(),So(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?Gn(t,e,r):Co(e)==n.scroller&&Ea(e);break;case 2:ws&&(t.state.lastMiddleDown=+new Date),r&&xt(t.doc,r),setTimeout(function(){n.input.focus()},20),Ea(e);break;case 3:Os?yr(t,e):gr(t)}}}}function Gn(e,t,n){ys?setTimeout(Ro(X,e),0):e.curOp.focus=Vo();var r,i=+new Date;Hs&&Hs.time>i-400&&0==Rs(Hs.pos,n)?r="triple":$s&&$s.time>i-400&&0==Rs($s.pos,n)?(r="double",Hs={time:i,pos:n}):(r="single",$s={time:i,pos:n});var o,s=e.doc.sel,a=Ps?t.metaKey:t.ctrlKey;e.options.dragDrop&&el&&!e.isReadOnly()&&"single"==r&&(o=s.contains(n))>-1&&(Rs((o=s.ranges[o]).from(),n)<0||n.xRel>0)&&(Rs(o.to(),n)>0||n.xRel<0)?Xn(e,t,n,a):Qn(e,t,n,r,a)}function Xn(e,t,n,r){var i=e.display,o=+new Date,s=Ln(e,function(a){ws&&(i.scroller.draggable=!1),e.state.draggingText=!1,Ia(document,"mouseup",s),Ia(i.scroller,"drop",s),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(Ea(a),!r&&+new Date-200<o&&xt(e.doc,n),ws||ys&&9==xs?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});ws&&(i.scroller.draggable=!0),e.state.draggingText=s,i.scroller.dragDrop&&i.scroller.dragDrop(),Pa(document,"mouseup",s),Pa(i.scroller,"drop",s)}function Qn(e,t,n,r,i){function o(t){if(0!=Rs(g,t))if(g=t,"rect"==r){for(var i=[],o=e.options.tabSize,s=ja(Qi(u,n.line).text,n.ch,o),a=ja(Qi(u,t.line).text,t.ch,o),l=Math.min(s,a),p=Math.max(s,a),d=Math.min(n.line,t.line),m=Math.min(e.lastLine(),Math.max(n.line,t.line));m>=d;d++){var v=Qi(u,d).text,b=Wa(v,l,o);l==p?i.push(new ft(Ns(d,b),Ns(d,b))):v.length>b&&i.push(new ft(Ns(d,b),Ns(d,Wa(v,p,o))))}i.length||i.push(new ft(n,n)),At(u,ht(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y=c,x=y.anchor,w=t;if("single"!=r){if("double"==r)var C=e.findWordAt(t);else var C=new ft(Ns(t.line,0),mt(u,Ns(t.line+1,0)));Rs(C.anchor,x)>0?(w=C.head,x=G(y.from(),C.anchor)):(w=C.anchor,x=Y(y.to(),C.head))}var i=h.ranges.slice(0);i[f]=new ft(mt(u,x),w),At(u,ht(i,f),Na)}}function s(t){var n=++b,i=Kn(e,t,!0,"rect"==r);if(i)if(0!=Rs(i,g)){e.curOp.focus=Vo(),o(i);var a=x(l,u);(i.line>=a.to||i.line<a.from)&&setTimeout(Ln(e,function(){b==n&&s(t)}),150)}else{var c=t.clientY<v.top?-20:t.clientY>v.bottom?20:0;c&&setTimeout(Ln(e,function(){b==n&&(l.scroller.scrollTop+=c,s(t))}),50)}}function a(t){e.state.selectingText=!1,b=1/0,Ea(t),l.input.focus(),Ia(document,"mousemove",y),Ia(document,"mouseup",w),u.history.lastSelOrigin=null}var l=e.display,u=e.doc;Ea(t);var c,f,h=u.sel,p=h.ranges;if(i&&!t.shiftKey?(f=u.sel.contains(n),c=f>-1?p[f]:new ft(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),Ls?t.shiftKey&&t.metaKey:t.altKey)r="rect",i||(c=new ft(n,n)),n=Kn(e,t,!0,!0),f=-1;else if("double"==r){var d=e.findWordAt(n);c=e.display.shift||u.extend?yt(u,c,d.anchor,d.head):d}else if("triple"==r){var m=new ft(Ns(n.line,0),mt(u,Ns(n.line+1,0)));c=e.display.shift||u.extend?yt(u,c,m.anchor,m.head):m}else c=yt(u,c,n);i?-1==f?(f=p.length,At(u,ht(p.concat([c]),f),{scroll:!1,origin:"*mouse"})):p.length>1&&p[f].empty()&&"single"==r&&!t.shiftKey?(At(u,ht(p.slice(0,f).concat(p.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):Ct(u,f,c,Na):(f=0,At(u,new ct([c],0),Na),h=u.sel);var g=n,v=l.wrapper.getBoundingClientRect(),b=0,y=Ln(e,function(e){So(e)?s(e):a(e)}),w=Ln(e,a);e.state.selectingText=w,Pa(document,"mousemove",y),Pa(document,"mouseup",w)}function Jn(e,t,n,r){try{var i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&Ea(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!Fo(e,n))return wo(t);o-=a.top-s.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var u=s.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=no(e.doc,o),f=e.options.gutters[l];return Ta(e,n,e,c,f,t),wo(t)}}}function Zn(e,t){return Jn(e,t,"gutterClick",!0)}function er(e){var t=this;if(rr(t),!Eo(t,e)&&!Vn(t.display,e)){Ea(e),ys&&(Ks=+new Date);var n=Kn(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,a=function(e,r){if(!t.options.allowDropFileTypes||-1!=Mo(t.options.allowDropFileTypes,e.type)){var a=new FileReader;a.onload=Ln(t,function(){var e=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[r]=e,++s==i){n=mt(t.doc,n);var l={from:n,to:n,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Ar(t.doc,l),kt(t.doc,pt(n,Zs(l)))}}),a.readAsText(e)}},l=0;i>l;++l)a(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(function(){t.display.input.focus()},20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(Ps?e.altKey:e.ctrlKey))var u=t.listSelections();if(Et(t.doc,pt(n,n)),u)for(var l=0;l<u.length;++l)Ir(t.doc,"",u[l].anchor,u[l].head,"drag");t.replaceSelection(o,"around","paste"),t.display.input.focus()}}catch(e){}}}}function tr(e,t){if(ys&&(!e.state.draggingText||+new Date-Ks<100))return void Fa(t);if(!Eo(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!ks)){var n=Ho("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ds&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),Ds&&n.parentNode.removeChild(n)}}function nr(e,t){var n=Kn(e,t);if(n){var r=document.createDocumentFragment();Bt(e,n,r),e.display.dragCursor||(e.display.dragCursor=Ho("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),Uo(e.display.dragCursor,r)}}function rr(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ir(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,gs||F(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),gs&&F(e),Rt(e,100))}function or(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,w(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function sr(e,t){var n=Xs(t),r=n.x,i=n.y,o=e.display,s=o.scroller,a=s.scrollWidth>s.clientWidth,l=s.scrollHeight>s.clientHeight;if(r&&a||i&&l){if(i&&Ps&&ws)e:for(var u=t.target,c=o.view;u!=s;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(r&&!gs&&!Ds&&null!=Gs)return i&&l&&ir(e,Math.max(0,Math.min(s.scrollTop+i*Gs,s.scrollHeight-s.clientHeight))),or(e,Math.max(0,Math.min(s.scrollLeft+r*Gs,s.scrollWidth-s.clientWidth))),(!i||i&&l)&&Ea(t),void(o.wheelStartX=null);if(i&&null!=Gs){var h=i*Gs,p=e.doc.scrollTop,d=p+o.wrapper.clientHeight;0>h?p=Math.max(0,p+h-50):d=Math.min(e.doc.height,d+h+50),F(e,{top:p,bottom:d})}20>Ys&&(null==o.wheelStartX?(o.wheelStartX=s.scrollLeft,o.wheelStartY=s.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=s.scrollLeft-o.wheelStartX,t=s.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Gs=(Gs*Ys+n)/(Ys+1),++Ys)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function ar(e,t,n){if("string"==typeof t&&(t=ca[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ba}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function lr(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=ha(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&ha(t,e.options.extraKeys,n,e)||ha(t,e.options.keyMap,n,e)}function ur(e,t,n,r){var i=e.state.keySeq;if(i){if(pa(t))return"handled";Qs.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),t=i+" "+t}var o=lr(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&ko(e,"keyHandled",e,t,n),("handled"==o||"multi"==o)&&(Ea(n),Nt(e)),i&&!o&&/\'$/.test(t)?(Ea(n),!0):!!o}function cr(e,t){var n=da(t,!0);return n?t.shiftKey&&!e.state.keySeq?ur(e,"Shift-"+n,t,function(t){return ar(e,t,!0)})||ur(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?ar(e,t):void 0}):ur(e,n,t,function(t){return ar(e,t)}):!1}function fr(e,t,n){return ur(e,"'"+n+"'",t,function(t){return ar(e,t,!0)})}function hr(e){var t=this;if(t.curOp.focus=Vo(),!Eo(t,e)){ys&&11>xs&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=cr(t,e);Ds&&(Js=r?n:null,!r&&88==n&&!rl&&(Ps?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||pr(t)}}function pr(e){function t(e){18!=e.keyCode&&e.altKey||(Qa(n,"CodeMirror-crosshair"),Ia(document,"keyup",t),Ia(document,"mouseover",t))}var n=e.display.lineDiv;Ja(n,"CodeMirror-crosshair"),Pa(document,"keyup",t),Pa(document,"mouseover",t)}function dr(e){16==e.keyCode&&(this.doc.sel.shift=!1),Eo(this,e)}function mr(e){var t=this;if(!(Vn(t.display,e)||Eo(t,e)||e.ctrlKey&&!e.altKey||Ps&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(Ds&&n==Js)return Js=null,void Ea(e);if(!Ds||e.which&&!(e.which<10)||!cr(t,e)){var i=String.fromCharCode(null==r?n:r);fr(t,e,i)||t.display.input.onKeyPress(e)}}}function gr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,br(e))},100)}function vr(e){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ta(e,"focus",e),e.state.focused=!0,Ja(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),ws&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Nt(e))}function br(e){e.state.delayingBlurEvent||(e.state.focused&&(Ta(e,"blur",e),e.state.focused=!1,Qa(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function yr(e,t){Vn(e.display,t)||xr(e,t)||Eo(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xr(e,t){return Fo(e,"gutterContextMenu")?Jn(e,t,"gutterContextMenu",!1):!1}function wr(e,t){if(Rs(e,t.from)<0)return e;if(Rs(e,t.to)<=0)return Zs(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Zs(t).ch-t.to.ch),Ns(n,r)}function Cr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new ft(wr(i.anchor,t),wr(i.head,t)))}return ht(n,e.sel.primIndex)}function Sr(e,t,n){return e.line==t.line?Ns(n.line,e.ch-t.ch+n.ch):Ns(n.line+(e.line-t.line),e.ch)}function Dr(e,t,n){for(var r=[],i=Ns(e.first,0),o=i,s=0;s<t.length;s++){var a=t[s],l=Sr(a.from,i,o),u=Sr(Zs(a),i,o);if(i=a.to,o=u,"around"==n){var c=e.sel.ranges[s],f=Rs(c.head,c.anchor)<0;r[s]=new ft(f?u:l,f?l:u)}else r[s]=new ft(l,l)}return new ct(r,e.sel.primIndex)}function kr(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=mt(e,t)),n&&(this.to=mt(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Ta(e,"beforeChange",e,r),e.cm&&Ta(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Ar(e,t,n){if(e.cm){if(!e.cm.curOp)return Ln(e.cm,Ar)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(Fo(e,"beforeChange")||e.cm&&Fo(e.cm,"beforeChange"))||(t=kr(e,t,!0))){var r=Bs&&!n&&li(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)Er(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else Er(e,t)}}function Er(e,t){if(1!=t.text.length||""!=t.text[0]||0!=Rs(t.from,t.to)){var n=Cr(e,t);uo(e,t,n,e.cm?e.cm.curOp.id:0/0),Pr(e,t,n,oi(e,t));var r=[];Gi(e,function(e,n){n||-1!=Mo(r,e.history)||(xo(e.history,t),r.push(e.history)),Pr(e,t,null,oi(e,t))})}}function _r(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,s="undo"==t?i.done:i.undone,a="undo"==t?i.undone:i.done,l=0;l<s.length&&(r=s[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;r=s.pop(),r.ranges;){if(ho(r,a),n&&!r.equals(e.sel))return void At(e,r,{clearRedo:!1});o=r}var u=[];ho(o,a),a.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Fo(e,"beforeChange")||e.cm&&Fo(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,c&&!kr(e,f,!1))return void(s.length=0);u.push(so(e,f));var h=l?Cr(e,f):To(s);Pr(e,f,h,ai(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:Zs(f)});var p=[];Gi(e,function(e,t){t||-1!=Mo(p,e.history)||(xo(e.history,f),p.push(e.history)),Pr(e,f,null,ai(e,f))})}}}}function Fr(e,t){if(0!=t&&(e.first+=t,e.sel=new ct(Oo(e.sel.ranges,function(e){return new ft(Ns(e.anchor.line+t,e.anchor.ch),Ns(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)zn(e.cm,r,"gutter")}}function Pr(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ln(e.cm,Pr)(e,t,n,r);if(t.to.line<e.first)return void Fr(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Fr(e,i),t={from:Ns(e.first,0),to:Ns(t.to.line+i,t.to.ch),text:[To(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Ns(o,Qi(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ji(e,t.from,t.to),n||(n=Cr(e,t)),e.cm?Lr(e.cm,t,r):Vi(e,t,r),Et(e,n,za)}}function Lr(e,t,n){var r=e.doc,i=e.display,s=t.from,a=t.to,l=!1,u=s.line;e.options.lineWrapping||(u=to(bi(Qi(r,s.line))),r.iter(u,a.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&_o(e),Vi(r,t,n,o(e)),e.options.lineWrapping||(r.iter(u,s.line+t.text.length,function(e){var t=f(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,s.line),Rt(e,400);var c=t.text.length-(a.line-s.line)-1;t.full?Bn(e):s.line!=a.line||1!=t.text.length||Ui(e.doc,t)?Bn(e,s.line,a.line+1,c):zn(e,s.line,"text");var h=Fo(e,"changes"),p=Fo(e,"change");if(p||h){var d={from:s,to:a,text:t.text,removed:t.removed,origin:t.origin};p&&ko(e,"change",e,d),h&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function Ir(e,t,n,r,i){if(r||(r=n),Rs(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Ar(e,{from:n,to:r,text:t,origin:i})}function Tr(e,t){if(!Eo(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!Es){var o=Ho("div","\u200b",null,"position: absolute; top: "+(t.top-n.viewOffset-Ht(e.display))+"px; height: "+(t.bottom-t.top+Vt(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}function Mr(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,s=dn(e,t),a=n&&n!=t?dn(e,n):s,l=Br(e,Math.min(s.left,a.left),Math.min(s.top,a.top)-r,Math.max(s.left,a.left),Math.max(s.bottom,a.bottom)+r),u=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=l.scrollTop&&(ir(e,l.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(or(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return s}function Or(e,t,n,r,i){var o=Br(e,t,n,r,i);null!=o.scrollTop&&ir(e,o.scrollTop),null!=o.scrollLeft&&or(e,o.scrollLeft)}function Br(e,t,n,r,i){var o=e.display,s=yn(e.display);0>n&&(n=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=Yt(e),u={};i-n>l&&(i=n+l);var c=e.doc.height+qt(o),f=s>n,h=i>c-s;if(a>n)u.scrollTop=f?0:n;else if(i>a+l){var p=Math.min(n,(h?c:i)-l);p!=a&&(u.scrollTop=p)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=Kt(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),g=r-t>m;return g&&(r=t+m),10>t?u.scrollLeft=0:d>t?u.scrollLeft=Math.max(0,t-(g?0:10)):r>m+d-3&&(u.scrollLeft=r+(g?0:10)-m),u}function zr(e,t,n){(null!=t||null!=n)&&Rr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Nr(e){Rr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?Ns(t.line,t.ch-1):t,r=Ns(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function Rr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=mn(e,t.from),r=mn(e,t.to),i=Br(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function jr(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=$t(e,t):n="prev");var s=e.options.tabSize,a=Qi(o,t),l=ja(a.text,null,s);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==n&&(u=o.mode.indent(i,a.text.slice(c.length),a.text),u==Ba||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=t>o.first?ja(Qi(o,t-1).text,null,s):0:"add"==n?u=l+e.options.indentUnit:"subtract"==n?u=l-e.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(u/s);p;--p)h+=s,f+="	";if(u>h&&(f+=Io(u-h)),f!=c)return Ir(o,f,Ns(t,0),Ns(t,c.length),"+input"),a.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var d=o.sel.ranges[p];if(d.head.line==t&&d.head.ch<c.length){var h=Ns(t,c.length);Ct(o,p,new ft(h,h));break}}}function Wr(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Qi(e,dt(e,t)):i=to(t),null==i?null:(r(o,i)&&e.cm&&zn(e.cm,i,n),o)}function $r(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&Rs(o.from,To(r).to)<=0;){var s=r.pop();if(Rs(s.from,o.from)<0){o.from=s.from;
break}}r.push(o)}Pn(e,function(){for(var t=r.length-1;t>=0;t--)Ir(e.doc,"",r[t].from,r[t].to,"+delete");Nr(e)})}function Hr(e,t,n,r,i){function o(){var t=a+n;return t<e.first||t>=e.first+e.size?!1:(a=t,c=Qi(e,t))}function s(e){var t=(i?hs:ps)(c,l,n,!0);if(null==t){if(e||!o())return!1;l=i?(0>n?os:is)(c):0>n?c.text.length:0}else l=t;return!0}var a=t.line,l=t.ch,u=n,c=Qi(e,a);if("char"==r)s();else if("column"==r)s(!0);else if("word"==r||"group"==r)for(var f=null,h="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(0>n)||s(!d);d=!1){var m=c.text.charAt(l)||"\n",g=jo(m,p)?"w":h&&"\n"==m?"n":!h||/\s/.test(m)?null:"p";if(!h||d||g||(g="s"),f&&f!=g){0>n&&(n=1,s());break}if(g&&(f=g),n>0&&!s(!d))break}var v=It(e,Ns(a,l),t,u,!0);return Rs(t,v)||(v.hitSide=!0),v}function qr(e,t,n,r){var i,o=e.doc,s=t.left;if("page"==r){var a=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(a-(0>n?1.5:.5)*yn(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=vn(e,s,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Ur(t,n,r,i){e.defaults[t]=n,r&&(ta[t]=i?function(e,t,n){n!=na&&r(e,t,n)}:r)}function Vr(e){for(var t,n,r,i,o=e.split(/-(?!$)/),e=o[o.length-1],s=0;s<o.length-1;s++){var a=o[s];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Kr(e){return"string"==typeof e?fa[e]:e}function Yr(e,t,n,r,i){if(r&&r.shared)return Gr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ln(e.cm,Yr)(e,t,n,r,i);var o=new va(e,i),s=Rs(t,n);if(r&&No(r,o,!1),s>0||0==s&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Ho("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(vi(e,t.line,t,n,o)||t.line!=n.line&&vi(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");zs=!0}o.addToHistory&&uo(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var a,l=t.line,u=e.cm;if(e.iter(l,n.line+1,function(e){u&&o.collapsed&&!u.options.lineWrapping&&bi(e)==u.display.maxLine&&(a=!0),o.collapsed&&l!=t.line&&eo(e,0),ni(e,new Zr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){Ci(e,t)&&eo(t,0)}),o.clearOnEnter&&Pa(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Bs=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ga,o.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),o.collapsed)Bn(u,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=t.line;c<=n.line;c++)zn(u,c,"text");o.atomic&&Ft(u.doc),ko(u,"markerAdded",u,o)}return o}function Gr(e,t,n,r,i){r=No(r),r.shared=!1;var o=[Yr(e,t,n,r,i)],s=o[0],a=r.widgetNode;return Gi(e,function(e){a&&(r.widgetNode=a.cloneNode(!0)),o.push(Yr(e,mt(e,t),mt(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;s=To(o)}),new ba(o,s)}function Xr(e){return e.findMarks(Ns(e.first,0),e.clipPos(Ns(e.lastLine())),function(e){return e.parent})}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),s=e.clipPos(i.to);if(Rs(o,s)){var a=Yr(e,o,s,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function Jr(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Gi(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==Mo(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Zr(e,t,n){this.marker=e,this.from=t,this.to=n}function ei(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function ti(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function ni(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function ri(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);if(a||o.from==t&&"bookmark"==s.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Zr(s,o.from,l?null:o.to))}}return r}function ii(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],s=o.marker,a=null==o.to||(s.inclusiveRight?o.to>=t:o.to>t);if(a||o.from==t&&"bookmark"==s.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(s.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Zr(s,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function oi(e,t){if(t.full)return null;var n=vt(e,t.from.line)&&Qi(e,t.from.line).markedSpans,r=vt(e,t.to.line)&&Qi(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,s=0==Rs(t.from,t.to),a=ri(n,i,s),l=ii(r,o,s),u=1==t.text.length,c=To(t.text).length+(u?i:0);if(a)for(var f=0;f<a.length;++f){var h=a[f];if(null==h.to){var p=ei(l,h.marker);p?u&&(h.to=null==p.to?null:p.to+c):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=c),null==h.from){var p=ei(a,h.marker);p||(h.from=c,u&&(a||(a=[])).push(h))}else h.from+=c,u&&(a||(a=[])).push(h)}a&&(a=si(a)),l&&l!=a&&(l=si(l));var d=[a];if(!u){var m,g=t.text.length-2;if(g>0&&a)for(var f=0;f<a.length;++f)null==a[f].to&&(m||(m=[])).push(new Zr(a[f].marker,null,null));for(var f=0;g>f;++f)d.push(m);d.push(l)}return d}function si(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function ai(e,t){var n=go(e,t),r=oi(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],s=r[i];if(o&&s)e:for(var a=0;a<s.length;++a){for(var l=s[a],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else s&&(n[i]=s)}return n}function li(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=Mo(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var s=r[o],a=s.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Rs(u.to,a.from)<0||Rs(u.from,a.to)>0)){var c=[l,1],f=Rs(u.from,a.from),h=Rs(u.to,a.to);(0>f||!s.inclusiveLeft&&!f)&&c.push({from:u.from,to:a.from}),(h>0||!s.inclusiveRight&&!h)&&c.push({from:a.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function ui(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function ci(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function fi(e){return e.inclusiveLeft?-1:0}function hi(e){return e.inclusiveRight?1:0}function pi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=Rs(r.from,i.from)||fi(e)-fi(t);if(o)return-o;var s=Rs(r.to,i.to)||hi(e)-hi(t);return s?s:t.id-e.id}function di(e,t){var n,r=zs&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||pi(n,i.marker)<0)&&(n=i.marker);return n}function mi(e){return di(e,!0)}function gi(e){return di(e,!1)}function vi(e,t,n,r,i){var o=Qi(e,t),s=zs&&o.markedSpans;if(s)for(var a=0;a<s.length;++a){var l=s[a];if(l.marker.collapsed){var u=l.marker.find(0),c=Rs(u.from,n)||fi(l.marker)-fi(i),f=Rs(u.to,r)||hi(l.marker)-hi(i);if(!(c>=0&&0>=f||0>=c&&f>=0)&&(0>=c&&(Rs(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Rs(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function bi(e){for(var t;t=mi(e);)e=t.find(-1,!0).line;return e}function yi(e){for(var t,n;t=gi(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function xi(e,t){var n=Qi(e,t),r=bi(n);return n==r?t:to(r)}function wi(e,t){if(t>e.lastLine())return t;var n,r=Qi(e,t);if(!Ci(e,r))return t;for(;n=gi(r);)r=n.find(1,!0).line;return to(r)+1}function Ci(e,t){var n=zs&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Si(e,t,r))return!0}}function Si(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return Si(e,r.line,ei(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Si(e,t,i))return!0}function Di(e,t,n){ro(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zr(e,null,n)}function ki(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!Ya(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Uo(t.display.measure,Ho("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Ai(e,t,n,r){var i=new ya(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Wr(e,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ci(e,t)){var r=ro(t)<e.scrollTop;eo(t,t.height+ki(i)),r&&zr(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Ei(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ui(e),ci(e,n);var i=r?r(e):1;i!=e.height&&eo(e,i)}function _i(e){e.parent=null,ui(e)}function Fi(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Pi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Li(t,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=e.innerMode(t,r).mode);var s=t.token(n,r);if(n.pos>n.start)return s}throw new Error("Mode "+t.name+" failed to advance stream.")}function Ii(e,t,n,r){function i(e){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:e?la(s.mode,c):c}}var o,s=e.doc,a=s.mode;t=mt(s,t);var l,u=Qi(s,t.line),c=$t(e,t.line,n),f=new ma(u.text,e.options.tabSize);for(r&&(l=[]);(r||f.pos<t.ch)&&!f.eol();)f.start=f.pos,o=Li(a,f,c),r&&l.push(i(!0));return r?l:i()}function Ti(e,t,n,r,i,o,s){var a=n.flattenSpans;null==a&&(a=e.options.flattenSpans);var l,u=0,c=null,f=new ma(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Fi(Pi(n,r),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(a=!1,s&&Bi(e,t,r,f.pos),f.pos=t.length,l=null):l=Fi(Li(n,f,r,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!a||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var d=Math.min(f.pos,u+5e4);i(d,c),u=d}}function Mi(e,t,n,r){var i=[e.state.modeGen],o={};Ti(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var s=0;s<e.state.overlays.length;++s){var a=e.state.overlays[s],l=1,u=0;Ti(e,t.text,a.mode,!0,function(e,t){for(var n=l;e>u;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,u=Math.min(e,r)}if(t)if(a.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Oi(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=$t(e,to(t)),i=Mi(e,t,t.text.length>e.options.maxHighlightLength?la(e.doc.mode,r):r);t.stateAfter=r,t.styles=i.styles,i.classes?t.styleClasses=i.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function Bi(e,t,n,r){var i=e.doc.mode,o=new ma(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&Pi(i,n);!o.eol();)Li(i,o,n),o.start=o.pos}function zi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Ca:wa;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function Ni(e,t){var n=Ho("span",null,null,ws?"padding-right: .1px":null),r={pre:Ho("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,splitSpaces:(ys||ws)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,s=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=ji,Zo(e.display.measure)&&(o=io(s))&&(r.addToken=$i(r.addToken,o)),r.map=[];var a=t!=e.display.externalMeasured&&to(s);qi(s,r,Oi(e,s,a)),s.styleClasses&&(s.styleClasses.bgClass&&(r.bgClass=Yo(s.styleClasses.bgClass,r.bgClass||"")),s.styleClasses.textClass&&(r.textClass=Yo(s.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Jo(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return ws&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),Ta(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Yo(r.pre.className,r.textClass||"")),r}function Ri(e){var t=Ho("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ji(e,t,n,r,i,o,s){if(t){var a=e.splitSpaces?t.replace(/ {3,}/g,Wi):t,l=e.cm.state.specialChars,u=!1;if(l.test(t))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var h=l.exec(t),p=h?h.index-f:t.length-f;if(p){var d=document.createTextNode(a.slice(f,f+p));c.appendChild(ys&&9>xs?Ho("span",[d]):d),e.map.push(e.pos,e.pos+p,d),e.col+=p,e.pos+=p}if(!h)break;if(f+=p+1,"	"==h[0]){var m=e.cm.options.tabSize,g=m-e.col%m,d=c.appendChild(Ho("span",Io(g),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","	"),e.col+=g}else if("\r"==h[0]||"\n"==h[0]){var d=c.appendChild(Ho("span","\r"==h[0]?"\u240d":"\u2424","cm-invalidchar"));d.setAttribute("cm-text",h[0]),e.col+=1}else{var d=e.cm.options.specialCharPlaceholder(h[0]);d.setAttribute("cm-text",h[0]),c.appendChild(ys&&9>xs?Ho("span",[d]):d),e.col+=1}e.map.push(e.pos,e.pos+1,d),e.pos++}else{e.col+=t.length;var c=document.createTextNode(a);e.map.push(e.pos,e.pos+t.length,c),ys&&9>xs&&(u=!0),e.pos+=t.length}if(n||r||i||u||s){var v=n||"";r&&(v+=r),i&&(v+=i);var b=Ho("span",[c],v,s);return o&&(b.title=o),e.content.appendChild(b)}e.content.appendChild(c)}}function Wi(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":"\xa0";return t+=" "}function $i(e,t){return function(n,r,i,o,s,a,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<t.length;f++){var h=t[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return e(n,r,i,o,s,a,l);e(n,r.slice(0,h.to-u),i,o,null,a,l),o=null,r=r.slice(h.to-u),u=h.to}}}function Hi(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t}function qi(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var s,a,l,u,c,f,h,p=i.length,d=0,m=1,g="",v=0;;){if(v==d){l=u=c=f=a="",h=null,v=1/0;for(var b,y=[],x=0;x<r.length;++x){var w=r[x],C=w.marker;"bookmark"==C.type&&w.from==d&&C.widgetNode?y.push(C):w.from<=d&&(null==w.to||w.to>d||C.collapsed&&w.to==d&&w.from==d)?(null!=w.to&&w.to!=d&&v>w.to&&(v=w.to,u=""),C.className&&(l+=" "+C.className),C.css&&(a=(a?a+";":"")+C.css),C.startStyle&&w.from==d&&(c+=" "+C.startStyle),C.endStyle&&w.to==v&&(b||(b=[])).push(C.endStyle,w.to),C.title&&!f&&(f=C.title),C.collapsed&&(!h||pi(h.marker,C)<0)&&(h=w)):w.from>d&&v>w.from&&(v=w.from)}if(b)for(var x=0;x<b.length;x+=2)b[x+1]==v&&(u+=" "+b[x]);if(!h||h.from==d)for(var x=0;x<y.length;++x)Hi(t,0,y[x]);if(h&&(h.from||0)==d){if(Hi(t,(null==h.to?p+1:h.to)-d,h.marker,null==h.from),null==h.to)return;h.to==d&&(h=!1)}}if(d>=p)break;for(var S=Math.min(p,v);;){if(g){var D=d+g.length;if(!h){var k=D>S?g.slice(0,S-d):g;t.addToken(t,k,s?s+l:l,c,d+k.length==v?u:"",f,a)}if(D>=S){g=g.slice(S-d),d=S;break}d=D,c=""}g=i.slice(o,o=n[m++]),s=zi(n[m++],t.cm.options)}}else for(var m=1;m<n.length;m+=2)t.addToken(t,i.slice(o,o=n[m]),zi(n[m+1],t.cm.options))}function Ui(e,t){return 0==t.from.ch&&0==t.to.ch&&""==To(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Vi(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){Ei(e,n,i,r),ko(e,"change",e,t)}function s(e,t){for(var n=e,o=[];t>n;++n)o.push(new xa(u[n],i(n),r));return o}var a=t.from,l=t.to,u=t.text,c=Qi(e,a.line),f=Qi(e,l.line),h=To(u),p=i(u.length-1),d=l.line-a.line;if(t.full)e.insert(0,s(0,u.length)),e.remove(u.length,e.size-u.length);else if(Ui(e,t)){var m=s(0,u.length-1);o(f,f.text,p),d&&e.remove(a.line,d),m.length&&e.insert(a.line,m)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,a.ch)+h+c.text.slice(l.ch),p);else{var m=s(1,u.length-1);m.push(new xa(h+c.text.slice(l.ch),p,r)),o(c,c.text.slice(0,a.ch)+u[0],i(0)),e.insert(a.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,a.ch)+u[0]+f.text.slice(l.ch),i(0)),e.remove(a.line+1,d);else{o(c,c.text.slice(0,a.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),p);var m=s(1,u.length-1);d>1&&e.remove(a.line+1,d-1),e.insert(a.line+1,m)}ko(e,"change",e,t)}function Ki(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Yi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Gi(e,t,n){function r(e,i,o){if(e.linked)for(var s=0;s<e.linked.length;++s){var a=e.linked[s];if(a.doc!=i){var l=o&&a.sharedHist;(!n||l)&&(t(a.doc,l),r(a.doc,e,l))}}}r(e,null,!0)}function Xi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,s(e),n(e),e.options.lineWrapping||h(e),e.options.mode=t.modeOption,Bn(e)}function Qi(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function Ji(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function Zi(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function eo(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function to(e){if(null==e.parent)return null;for(var t=e.parent,n=Mo(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function no(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var s=e.lines[r],a=s.height;if(a>t)break;t-=a}return n+r}function ro(e){e=bi(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var s=o.children[r];if(s==n)break;t+=s.height}return t}function io(e){var t=e.order;return null==t&&(t=e.order=al(e.text)),t}function oo(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function so(e,t){var n={from:K(t.from),to:Zs(t),text:Ji(e,t.from,t.to)};return po(e,n,t.from.line,t.to.line+1),Gi(e,function(e){po(e,n,t.from.line,t.to.line+1)},!0),n}function ao(e){for(;e.length;){var t=To(e);if(!t.ranges)break;e.pop()}}function lo(e,t){return t?(ao(e.done),To(e.done)):e.done.length&&!To(e.done).ranges?To(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),To(e.done)):void 0}function uo(e,t,n,r){var i=e.history;i.undone.length=0;var o,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=lo(i,i.lastOp==r))){var a=To(o.changes);0==Rs(t.from,t.to)&&0==Rs(t.from,a.to)?a.to=Zs(t):o.changes.push(so(e,t))}else{var l=To(i.done);for(l&&l.ranges||ho(e.sel,i.done),o={changes:[so(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||Ta(e,"historyAdded")}function co(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fo(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||co(e,o,To(i.done),t))?i.done[i.done.length-1]=t:ho(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&ao(i.undone)}function ho(e,t){var n=To(t);n&&n.ranges&&n.equals(e)||t.push(e)}function po(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function mo(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function go(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(mo(n[r]));return i}function vo(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?ct.prototype.deepCopy.call(o):o);else{var s=o.changes,a=[];i.push({changes:a});for(var l=0;l<s.length;++l){var u,c=s[l];if(a.push({from:c.from,to:c.to,text:c.text}),t)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Mo(t,Number(u[1]))>-1&&(To(a)[f]=c[f],delete c[f])}}}return i}function bo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function yo(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],s=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var a=0;a<o.ranges.length;a++)bo(o.ranges[a].anchor,t,n,r),bo(o.ranges[a].head,t,n,r)}else{for(var a=0;a<o.changes.length;++a){var l=o.changes[a];if(n<l.from.line)l.from=Ns(l.from.line+r,l.from.ch),l.to=Ns(l.to.line+r,l.to.ch);else if(t<=l.to.line){s=!1;break}}s||(e.splice(0,i+1),i=0)}}}function xo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;yo(e.done,n,r,i),yo(e.undone,n,r,i)}function wo(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Co(e){return e.target||e.srcElement}function So(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Ps&&e.ctrlKey&&1==t&&(t=3),t}function Do(e,t,n){var r=e._handlers&&e._handlers[t];return n?r&&r.length>0?r.slice():La:r||La}function ko(e,t){function n(e){return function(){e.apply(null,o)}}var r=Do(e,t,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);Us?i=Us.delayedCallbacks:Ma?i=Ma:(i=Ma=[],setTimeout(Ao,0));for(var s=0;s<r.length;++s)i.push(n(r[s]))}}function Ao(){var e=Ma;Ma=null;for(var t=0;t<e.length;++t)e[t]()}function Eo(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ta(e,n||t.type,e,t),wo(t)||t.codemirrorIgnore}function _o(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==Mo(n,t[r])&&n.push(t[r])}function Fo(e,t){return Do(e,t).length>0}function Po(e){e.prototype.on=function(e,t){Pa(this,e,t)},e.prototype.off=function(e,t){Ia(this,e,t)}}function Lo(){this.id=null}function Io(e){for(;$a.length<=e;)$a.push(To($a)+" ");return $a[e]}function To(e){return e[e.length-1]}function Mo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function Oo(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Bo(){}function zo(e,t){var n;return Object.create?n=Object.create(e):(Bo.prototype=e,n=new Bo),t&&No(t,n),n}function No(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function Ro(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function jo(e,t){return t?t.source.indexOf("\\w")>-1&&Va(e)?!0:t.test(e):Va(e)}function Wo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function $o(e){return e.charCodeAt(0)>=768&&Ka.test(e)}function Ho(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function qo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Uo(e,t){return qo(e).appendChild(t)}function Vo(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Ko(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function Yo(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Ko(n[r]).test(t)&&(t+=" "+n[r]);return t}function Go(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Xo(){Za||(Qo(),Za=!0)}function Qo(){var e;Pa(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Go(Un)},100))}),Pa(window,"blur",function(){Go(br)})}function Jo(e){if(null==Ga){var t=Ho("span","\u200b");Uo(e,Ho("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ga=t.offsetWidth<=1&&t.offsetHeight>2&&!(ys&&8>xs))}var n=Ga?Ho("span","\u200b"):Ho("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Zo(e){if(null!=Xa)return Xa;var t=Uo(e,document.createTextNode("A\u062eA")),n=qa(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=qa(t,1,2).getBoundingClientRect();return Xa=r.right-n.right<3}function es(e){if(null!=il)return il;var t=Uo(e,Ho("span","x")),n=t.getBoundingClientRect(),r=qa(t,0,1).getBoundingClientRect();return il=Math.abs(n.left-r.left)>1}function ts(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var s=e[o];(s.from<n&&s.to>t||t==n&&s.to==t)&&(r(Math.max(s.from,t),Math.min(s.to,n),1==s.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function ns(e){return e.level%2?e.to:e.from}function rs(e){return e.level%2?e.from:e.to}function is(e){var t=io(e);return t?ns(t[0]):0}function os(e){var t=io(e);return t?rs(To(t)):e.text.length}function ss(e,t){var n=Qi(e.doc,t),r=bi(n);r!=n&&(t=to(r));var i=io(r),o=i?i[0].level%2?os(r):is(r):0;return Ns(t,o)}function as(e,t){for(var n,r=Qi(e.doc,t);n=gi(r);)r=n.find(1,!0).line,t=null;var i=io(r),o=i?i[0].level%2?is(r):os(r):r.text.length;return Ns(null==t?to(r):t,o)}function ls(e,t){var n=ss(e,t.line),r=Qi(e.doc,n.line),i=io(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),s=t.line==n.line&&t.ch<=o&&t.ch;return Ns(n.line,s?0:o)}return n}function us(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function cs(e,t){sl=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return us(e,i.level,e[n].level)?(i.from!=i.to&&(sl=n),r):(i.from!=i.to&&(sl=r),n);n=r}}return n}function fs(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&$o(e.text.charAt(t)));return t}function hs(e,t,n,r){var i=io(e);if(!i)return ps(e,t,n,r);for(var o=cs(i,t),s=i[o],a=fs(e,t,s.level%2?-n:n,r);;){if(a>s.from&&a<s.to)return a;if(a==s.from||a==s.to)return cs(i,a)==o?a:(s=i[o+=n],n>0==s.level%2?s.to:s.from);if(s=i[o+=n],!s)return null;a=n>0==s.level%2?fs(e,s.to,-1,r):fs(e,s.from,1,r)}}function ps(e,t,n,r){var i=t+n;if(r)for(;i>0&&$o(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var ds=navigator.userAgent,ms=navigator.platform,gs=/gecko\/\d/i.test(ds),vs=/MSIE \d/.test(ds),bs=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ds),ys=vs||bs,xs=ys&&(vs?document.documentMode||6:bs[1]),ws=/WebKit\//.test(ds),Cs=ws&&/Qt\/\d+\.\d+/.test(ds),Ss=/Chrome\//.test(ds),Ds=/Opera\//.test(ds),ks=/Apple Computer/.test(navigator.vendor),As=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(ds),Es=/PhantomJS/.test(ds),_s=/AppleWebKit/.test(ds)&&/Mobile\/\w+/.test(ds),Fs=_s||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(ds),Ps=_s||/Mac/.test(ms),Ls=/\bCrOS\b/.test(ds),Is=/win/i.test(ms),Ts=Ds&&ds.match(/Version\/(\d*\.\d*)/);Ts&&(Ts=Number(Ts[1])),Ts&&Ts>=15&&(Ds=!1,ws=!0);var Ms=Ps&&(Cs||Ds&&(null==Ts||12.11>Ts)),Os=gs||ys&&xs>=9,Bs=!1,zs=!1;m.prototype=No({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=Ps&&!As?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Lo,this.disableVert=new Lo},enableZeroWidthBar:function(e,t){function n(){var r=e.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},m.prototype),g.prototype=No({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype),e.scrollbarModel={"native":m,"null":g},k.prototype.signal=function(e,t){Fo(e,t)&&this.events.push(arguments)},k.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ta.apply(null,this.events[e])};var Ns=e.Pos=function(e,t){return this instanceof Ns?(this.line=e,void(this.ch=t)):new Ns(e,t)},Rs=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch},js=null;nt.prototype=No({init:function(e){function t(e){if(!Eo(r,e)){if(r.somethingSelected())js=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=js.join("\n"),Ha(o));else{if(!r.options.lineWiseCopyCut)return;var t=et(r);js=t.text,"cut"==e.type?r.setSelections(t.ranges,null,za):(n.prevInput="",o.value=t.text.join("\n"),Ha(o))}"cut"==e.type&&(r.state.cutIncoming=!0)}}var n=this,r=this.cm,i=this.wrapper=rt(),o=this.textarea=i.firstChild;e.wrapper.insertBefore(i,e.wrapper.firstChild),_s&&(o.style.width="0px"),Pa(o,"input",function(){ys&&xs>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),Pa(o,"paste",function(e){Eo(r,e)||J(e,r)||(r.state.pasteIncoming=!0,n.fastPoll())}),Pa(o,"cut",t),Pa(o,"copy",t),Pa(e.scroller,"paste",function(t){Vn(e,t)||Eo(r,t)||(r.state.pasteIncoming=!0,n.focus())}),Pa(e.lineSpace,"selectstart",function(t){Vn(e,t)||Ea(t)}),Pa(o,"compositionstart",function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}}),Pa(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,r=Ot(e);if(e.options.moveInputWithCursor){var i=dn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),s=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+s.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+s.left-o.left))}return r},showSelection:function(e){var t=this.cm,n=t.display;Uo(n.cursorDiv,e.cursors),Uo(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();t=rl&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var s=t?"-":n||r.getSelection();
this.textarea.value=s,r.state.focused&&Ha(this.textarea),ys&&xs>=9&&(this.hasSelection=s)}else e||(this.prevInput=this.textarea.value="",ys&&xs>=9&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Fs||Vo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){function e(){var r=n.poll();r||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))}var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,e)},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||nl(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=t.value;if(r==n&&!e.somethingSelected())return!1;if(ys&&xs>=9&&this.hasSelection===r||Ps&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="\u200b"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,s=Math.min(n.length,r.length);s>o&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var a=this;return Pn(e,function(){Q(e,r.slice(o),n.length-o,null,a.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?t.value=a.prevInput="":a.prevInput=r,a.composing&&(a.composing.range.clear(),a.composing.range=e.markText(a.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){ys&&xs>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){function t(){if(null!=s.selectionStart){var e=i.somethingSelected(),t="\u200b"+(e?s.value:"");s.value="\u21da",s.value=t,r.prevInput=e?"":"\u200b",s.selectionStart=1,s.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=f,s.style.cssText=c,ys&&9>xs&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=s.selectionStart){(!ys||ys&&9>xs)&&t();var e=0,n=function(){o.selForContextMenu==i.doc.sel&&0==s.selectionStart&&s.selectionEnd>0&&"\u200b"==r.prevInput?Ln(i,ca.selectAll)(i):e++<10?o.detectingSelectAll=setTimeout(n,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,s=r.textarea,a=Kn(i,e),l=o.scroller.scrollTop;if(a&&!Ds){var u=i.options.resetSelectionOnContextMenu;u&&-1==i.doc.sel.contains(a)&&Ln(i,At)(i.doc,pt(a),za);var c=s.style.cssText,f=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var h=r.wrapper.getBoundingClientRect();if(s.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px; z-index: 1000; background: "+(ys?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ws)var p=window.scrollY;if(o.input.focus(),ws&&window.scrollTo(null,p),o.input.reset(),i.somethingSelected()||(s.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),ys&&xs>=9&&t(),Os){Fa(e);var d=function(){Ia(window,"mouseup",d),setTimeout(n,20)};Pa(window,"mouseup",d)}else setTimeout(n,50)}},readOnlyChanged:function(e){e||this.reset()},setUneditable:Bo,needsContentAttribute:!1},nt.prototype),it.prototype=No({init:function(e){function t(e){if(!Eo(r,e)){if(r.somethingSelected())js=r.getSelections(),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=et(r);js=t.text,"cut"==e.type&&r.operation(function(){r.setSelections(t.ranges,0,za),r.replaceSelection("",null,"cut")})}if(e.clipboardData&&!_s)e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/plain",js.join("\n"));else{var n=rt(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=js.join("\n");var o=document.activeElement;Ha(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}}var n=this,r=n.cm,i=n.div=e.lineDiv;tt(i),Pa(i,"paste",function(e){Eo(r,e)||J(e,r)}),Pa(i,"compositionstart",function(e){var t=e.data;if(n.composing={sel:r.doc.sel,data:t,startData:t},t){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),s=o.indexOf(t,Math.max(0,i.head.ch-t.length));s>-1&&s<=i.head.ch&&(n.composing.sel=pt(Ns(i.head.line,s),Ns(i.head.line,s+t.length)))}}),Pa(i,"compositionupdate",function(e){n.composing.data=e.data}),Pa(i,"compositionend",function(e){var t=n.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||n.applyComposition(t),n.composing==t&&(n.composing=null)},50))}),Pa(i,"touchstart",function(){n.forceCompositionEnd()}),Pa(i,"input",function(){n.composing||(r.isReadOnly()||!n.pollContent())&&Pn(n.cm,function(){Bn(r)})}),Pa(i,"copy",t),Pa(i,"cut",t)},prepareSelection:function(){var e=Ot(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e){e&&this.cm.display.view.length&&(e.focus&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=at(this.cm,e.anchorNode,e.anchorOffset),r=at(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!r||r.bad||0!=Rs(G(n,r),t.from())||0!=Rs(Y(n,r),t.to())){var i=ot(this.cm,t.from()),o=ot(this.cm,t.to());if(i||o){var s=this.cm.display.view,a=e.rangeCount&&e.getRangeAt(0);if(i){if(!o){var l=s[s.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:s[0].measure.map[2],offset:0};try{var c=qa(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(!gs&&this.cm.state.focused?(e.collapse(i.node,i.offset),c.collapsed||e.addRange(c)):(e.removeAllRanges(),e.addRange(c)),a&&null==e.anchorNode?e.addRange(a):gs&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Uo(this.cm.display.cursorDiv,e.cursors),Uo(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return Ya(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():Pn(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=at(t,e.anchorNode,e.anchorOffset),r=at(t,e.focusNode,e.focusOffset);n&&r&&Pn(t,function(){At(t.doc,pt(n,r),za),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o;if(r.line==t.viewFrom||0==(o=Rn(e,r.line)))var s=to(t.view[0].line),a=t.view[0].node;else var s=to(t.view[o].line),a=t.view[o-1].node.nextSibling;var l=Rn(e,i.line);if(l==t.view.length-1)var u=t.viewTo-1,c=t.lineDiv.lastChild;else var u=to(t.view[l+1].line)-1,c=t.view[l+1].node.previousSibling;for(var f=e.doc.splitLines(ut(e,a,c,s,u)),h=Ji(e.doc,Ns(s,0),Ns(u,Qi(e.doc,u).text.length));f.length>1&&h.length>1;)if(To(f)==To(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),s++}for(var p=0,d=0,m=f[0],g=h[0],v=Math.min(m.length,g.length);v>p&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var b=To(f),y=To(h),x=Math.min(b.length-(1==f.length?p:0),y.length-(1==h.length?p:0));x>d&&b.charCodeAt(b.length-d-1)==y.charCodeAt(y.length-d-1);)++d;f[f.length-1]=b.slice(0,b.length-d),f[0]=f[0].slice(p);var w=Ns(s,p),C=Ns(u,h.length?To(h).length-d:0);return f.length>1||f[0]||Rs(w,C)?(Ir(e.doc,f,w,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Ln(this.cm,Bn)(this.cm):e.data&&e.data!=e.startData&&Ln(this.cm,Q)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Ln(this.cm,Q)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:Bo,resetPosition:Bo,needsContentAttribute:!0},it.prototype),e.inputStyles={textarea:nt,contenteditable:it},ct.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=Rs(n.anchor,r.anchor)||0!=Rs(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ft(K(this.ranges[t].anchor),K(this.ranges[t].head));return new ct(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Rs(t,r.from())>=0&&Rs(e,r.to())<=0)return n}return-1}},ft.prototype={from:function(){return G(this.anchor,this.head)},to:function(){return Y(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ws,$s,Hs,qs={left:0,right:0,top:0,bottom:0},Us=null,Vs=0,Ks=0,Ys=0,Gs=null;ys?Gs=-.53:gs?Gs=15:Ss?Gs=-.7:ks&&(Gs=-1/3);var Xs=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};e.wheelEventPixels=function(e){var t=Xs(e);return t.x*=Gs,t.y*=Gs,t};var Qs=new Lo,Js=null,Zs=e.changeEnd=function(e){return e.text?Ns(e.from.line+e.text.length-1,To(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,ta.hasOwnProperty(e)&&Ln(this,ta[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Kr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:In(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,Bn(this)}),removeOverlay:In(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void Bn(this)}}),indentLine:In(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),vt(this.doc,e)&&jr(this,e,t,n)}),indentSelection:In(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(jr(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Nr(this));else{var o=i.from(),s=i.to(),a=Math.max(n,o.line);n=Math.min(this.lastLine(),s.line-(s.ch?0:1))+1;for(var l=a;n>l;++l)jr(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[r].from().ch>0&&Ct(this.doc,r,new ft(o,u[r].to()),za)}}}),getTokenAt:function(e,t){return Ii(this,e,t)},getLineTokens:function(e,t){return Ii(this,Ns(e),t,!0)},getTokenTypeAt:function(e){e=mt(this.doc,e);var t,n=Oi(this,Qi(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var s=r+i>>1;if((s?n[2*s-1]:0)>=o)i=s;else{if(!(n[2*s+1]<o)){t=n[2*s+2];break}r=s+1}}var a=t?t.indexOf("cm-overlay "):-1;return 0>a?t:0==a?null:t.slice(0,a-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!aa.hasOwnProperty(t))return n;var r=aa[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var s=r[i[t][o]];s&&n.push(s)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var a=r._global[o];a.pred(i,this)&&-1==Mo(n,a.val)&&n.push(a.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=dt(n,null==e?n.first+n.size-1:e),$t(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?mt(this.doc,e):e?r.from():r.to(),dn(this,n,t||"page")},charCoords:function(e,t){return pn(this,mt(this.doc,e),t||"page")},coordsChar:function(e,t){return e=hn(this,e,t||"page"),vn(this,e.left,e.top)},lineAtHeight:function(e,t){return e=hn(this,{top:e,left:0},t||"page").top,no(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,r=!1;if("number"==typeof e){var i=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>i&&(e=i,r=!0),n=Qi(this.doc,e)}else n=e;return fn(this,n,{top:0,left:0},t||"page").top+(r?this.doc.height-ro(n):0)},defaultTextHeight:function(){return yn(this.display)},defaultCharWidth:function(){return xn(this.display)},setGutterMarker:In(function(e,t,n){return Wr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&Wo(r)&&(e.gutterMarkers=null),!0})}),clearGutter:In(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,zn(t,r,"gutter"),Wo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(e){if("number"==typeof e){if(!vt(this.doc,e))return null;var t=e;if(e=Qi(this.doc,e),!e)return null}else{var t=to(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=dn(this,mt(this.doc,e));var s=e.bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)s=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?s=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(s=e.bottom),a+t.offsetWidth>u&&(a=u-t.offsetWidth)}t.style.top=s+"px",t.style.left=t.style.right="","right"==i?(a=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),n&&Or(this,a,s,a+t.offsetWidth,s+t.offsetHeight)},triggerOnKeyDown:In(hr),triggerOnKeyPress:In(mr),triggerOnKeyUp:dr,execCommand:function(e){return ca.hasOwnProperty(e)?ca[e].call(null,this):void 0},triggerElectric:In(function(e){Z(this,e)}),findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,s=mt(this.doc,e);t>o&&(s=Hr(this.doc,s,i,n,r),!s.hitSide);++o);return s},moveH:In(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Hr(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},Ra)}),deleteH:In(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$r(this,function(n){var i=Hr(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var s=0,a=mt(this.doc,e);t>s;++s){var l=dn(this,a,"div");if(null==o?o=l.left:l.left=o,a=qr(this,l,i,n),a.hitSide)break}return a},moveV:In(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(s){if(o)return 0>e?s.from():s.to();var a=dn(n,s.head,"div");null!=s.goalColumn&&(a.left=s.goalColumn),i.push(a.left);var l=qr(n,a,e,t);return"page"==t&&s==r.sel.primary()&&zr(n,null,pn(n,l,"div").top-a.top),l},Ra),i.length)for(var s=0;s<r.sel.ranges.length;s++)r.sel.ranges[s].goalColumn=i[s]}),findWordAt:function(e){var t=this.doc,n=Qi(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var s=n.charAt(r),a=jo(s,o)?function(e){return jo(e,o)}:/\s/.test(s)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!jo(e)};r>0&&a(n.charAt(r-1));)--r;for(;i<n.length&&a(n.charAt(i));)++i}return new ft(Ns(e.line,r),Ns(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ja(this.display.cursorDiv,"CodeMirror-overwrite"):Qa(this.display.cursorDiv,"CodeMirror-overwrite"),Ta(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Vo()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:In(function(e,t){(null!=e||null!=t)&&Rr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Vt(this)-this.display.barHeight,width:e.scrollWidth-Vt(this)-this.display.barWidth,clientHeight:Yt(this),clientWidth:Kt(this)}},scrollIntoView:In(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Ns(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Rr(this),this.curOp.scrollToPos=e;else{var n=Br(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:In(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&an(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){zn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Ta(r,"refresh",this)}),operation:function(e){return Pn(this,e)},refresh:In(function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,ln(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==e||Math.abs(e-yn(this.display))>.5)&&s(this),Ta(this,"refresh",this)}),swapDoc:In(function(e){var t=this.doc;return t.cm=null,Xi(this,e),ln(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ko(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Po(e);var ea=e.defaults={},ta=e.optionHandlers={},na=e.Init={toString:function(){return"CodeMirror.Init"}};Ur("value","",function(e,t){e.setValue(t)},!0),Ur("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Ur("indentUnit",2,n,!0),Ur("indentWithTabs",!1),Ur("smartIndent",!0),Ur("tabSize",4,function(e){r(e),ln(e),Bn(e)},!0),Ur("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Ns(r,o))}r++});for(var i=n.length-1;i>=0;i--)Ir(e.doc,t,n[i],Ns(n[i].line,n[i].ch+t.length))}}),Ur("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,n,r){t.state.specialChars=new RegExp(n.source+(n.test("	")?"":"|	"),"g"),r!=e.Init&&t.refresh()}),Ur("specialCharPlaceholder",Ri,function(e){e.refresh()},!0),Ur("electricChars",!0),Ur("inputStyle",Fs?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Ur("rtlMoveVisually",!Is),Ur("wholeLineUpdateBefore",!0),Ur("theme","default",function(e){a(e),l(e)},!0),Ur("keyMap","default",function(t,n,r){var i=Kr(n),o=r!=e.Init&&Kr(r);o&&o.detach&&o.detach(t,i),i.attach&&i.attach(t,o||null)}),Ur("extraKeys",null),Ur("lineWrapping",!1,i,!0),Ur("gutters",[],function(e){p(e.options),l(e)},!0),Ur("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?D(e.display)+"px":"0",e.refresh()},!0),Ur("coverGutterNextToScrollbar",!1,function(e){b(e)},!0),Ur("scrollbarStyle","native",function(e){v(e),b(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),Ur("lineNumbers",!1,function(e){p(e.options),l(e)},!0),Ur("firstLineNumber",1,l,!0),Ur("lineNumberFormatter",function(e){return e},l,!0),Ur("showCursorWhenSelecting",!1,Mt,!0),Ur("resetSelectionOnContextMenu",!0),Ur("lineWiseCopyCut",!0),Ur("readOnly",!1,function(e,t){"nocursor"==t?(br(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),Ur("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),Ur("dragDrop",!0,qn),Ur("allowDropFileTypes",null),Ur("cursorBlinkRate",530),Ur("cursorScrollMargin",0),Ur("cursorHeight",1,Mt,!0),Ur("singleCursorHeightPerLine",!0,Mt,!0),Ur("workTime",100),Ur("workDelay",100),Ur("flattenSpans",!0,r,!0),Ur("addModeClass",!1,r,!0),Ur("pollInterval",100),Ur("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Ur("historyEventDelay",1250),Ur("viewportMargin",10,function(e){e.refresh()},!0),Ur("maxHighlightLength",1e4,r,!0),Ur("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),Ur("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),Ur("autofocus",null);var ra=e.modes={},ia=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[t]=n},e.defineMIME=function(e,t){ia[e]=t},e.resolveMode=function(t){if("string"==typeof t&&ia.hasOwnProperty(t))t=ia[t];else if(t&&"string"==typeof t.name&&ia.hasOwnProperty(t.name)){var n=ia[t.name];"string"==typeof n&&(n={name:n}),t=zo(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=ra[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(oa.hasOwnProperty(n.name)){var o=oa[n.name];for(var s in o)o.hasOwnProperty(s)&&(i.hasOwnProperty(s)&&(i["_"+s]=i[s]),i[s]=o[s])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var s in n.modeProps)i[s]=n.modeProps[s];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var oa=e.modeExtensions={};e.extendMode=function(e,t){var n=oa.hasOwnProperty(e)?oa[e]:oa[e]={};No(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){Da.prototype[e]=t},e.defineOption=Ur;var sa=[];e.defineInitHook=function(e){sa.push(e)};var aa=e.helpers={};e.registerHelper=function(t,n,r){aa.hasOwnProperty(t)||(aa[t]=e[t]={_global:[]}),aa[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),aa[t]._global.push({pred:r,val:i})};var la=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},ua=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ca=e.commands={selectAll:function(e){e.setSelection(Ns(e.firstLine(),0),Ns(e.lastLine()),za)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),za)},killLine:function(e){$r(e,function(t){if(t.empty()){var n=Qi(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Ns(t.head.line+1,0)}:{from:t.head,to:Ns(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){$r(e,function(t){return{from:Ns(t.from().line,0),to:mt(e.doc,Ns(t.to().line+1,0))}})},delLineLeft:function(e){$r(e,function(e){return{from:Ns(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){$r(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){$r(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(Ns(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(Ns(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return ss(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return ls(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return as(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},Ra)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},Ra)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?ls(e,t.head):r},Ra)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),s=ja(e.getLine(o.line),o.ch,r);t.push(new Array(r-s%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){Pn(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=Qi(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Ns(i.line,i.ch-1)),i.ch>0)i=new Ns(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Ns(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var s=Qi(e.doc,i.line-1).text;s&&e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+s.charAt(s.length-1),Ns(i.line-1,s.length-1),Ns(i.line,1),"+transpose")}n.push(new ft(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){Pn(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange(e.doc.lineSeparator(),r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0)}Nr(e)})},toggleOverwrite:function(e){e.toggleOverwrite()}},fa=e.keyMap={};fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fa["default"]=Ps?fa.macDefault:fa.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=Oo(n.split(" "),Vr),o=0;o<i.length;o++){var s,a;o==i.length-1?(a=i.join(" "),s=r):(a=i.slice(0,o+1).join(" "),s="...");var l=t[a];if(l){if(l!=s)throw new Error("Inconsistent bindings for "+a)}else t[a]=s}delete e[n]}for(var u in t)e[u]=t[u];return e};var ha=e.lookupKey=function(e,t,n,r){t=Kr(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ha(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var s=ha(e,t.fallthrough[o],n,r);if(s)return s}}},pa=e.isModifierKey=function(e){var t="string"==typeof e?e:ol[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},da=e.keyName=function(e,t){if(Ds&&34==e.keyCode&&e["char"])return!1;var n=ol[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(Ms?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Ms?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)
};e.fromTextArea=function(t,n){function r(){t.value=u.getValue()}if(n=n?No(n):{},n.value=t.value,!n.tabindex&&t.tabIndex&&(n.tabindex=t.tabIndex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Vo();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(Pa(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,s=o.submit;try{var a=o.submit=function(){r(),o.submit=s,o.submit(),o.submit=a}}catch(l){}}n.finishInit=function(e){e.save=r,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,r(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Ia(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=s))}},t.style.display="none";var u=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return u};var ma=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ma.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ja(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ja(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ja(this.string,null,this.tabSize)-(this.lineStart?ja(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var ga=0,va=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ga};Po(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&wn(e),Fo(this,"clear")){var n=this.find();n&&ko(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var s=this.lines[o],a=ei(s.markedSpans,this);e&&!this.collapsed?zn(e,to(s),"text"):e&&(null!=a.to&&(i=to(s)),null!=a.from&&(r=to(s))),s.markedSpans=ti(s.markedSpans,a),null==a.from&&this.collapsed&&!Ci(this.doc,s)&&e&&eo(s,yn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=bi(this.lines[o]),u=f(l);u>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&Bn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ft(e.doc)),e&&ko(e,"markerCleared",e,this),t&&Sn(e),this.parent&&this.parent.clear()}},va.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],s=ei(o.markedSpans,this);if(null!=s.from&&(n=Ns(t?o:to(o),s.from),-1==e))return n;if(null!=s.to&&(r=Ns(t?o:to(o),s.to),1==e))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&Pn(n,function(){var r=e.line,i=to(e.line),o=Zt(n,i);if(o&&(sn(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Ci(t.doc,r)&&null!=t.height){var s=t.height;t.height=null;var a=ki(t)-s;a&&eo(r,r.height+a)}})},va.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=Mo(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},va.prototype.detachLine=function(e){if(this.lines.splice(Mo(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var ga=0,ba=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Po(ba),ba.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ko(this,"clear")}},ba.prototype.find=function(e,t){return this.primary.find(e,t)};var ya=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Po(ya),ya.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=to(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=ki(this);eo(n,Math.max(0,n.height-o)),e&&Pn(e,function(){Di(e,n,-o),zn(e,r,"widget")})}},ya.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var r=ki(this)-e;r&&(eo(n,n.height+r),t&&Pn(t,function(){t.curOp.forceUpdate=!0,Di(t,n,r)}))};var xa=e.Line=function(e,t,n){this.text=e,ci(this,t),this.height=n?n(this):1};Po(xa),xa.prototype.lineNo=function(){return to(this)};var wa={},Ca={};Ki.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,_i(i),ko(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Yi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),s=r.height;if(r.removeInner(e,o),this.height-=s-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ki))){var a=[];this.collapse(a),this.children=[new Ki(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var s=i.lines.splice(i.lines.length-25,25),a=new Ki(s);i.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Yi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=Mo(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Yi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var s=Math.min(t,o-e);if(i.iterN(e,s,n))return!0;if(0==(t-=s))break;e=0}else e-=o}}};var Sa=0,Da=e.Doc=function(e,t,n,r){if(!(this instanceof Da))return new Da(e,t,n,r);null==n&&(n=0),Yi.call(this,[new Ki([new xa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Ns(n,0);this.sel=pt(i),this.history=new oo(null),this.id=++Sa,this.modeOption=t,this.lineSep=r,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Vi(this,{from:i,to:i,text:e}),At(this,pt(i),za)};Da.prototype=zo(Yi.prototype,{constructor:Da,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Zi(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Tn(function(e){var t=Ns(this.first,0),n=this.first+this.size-1;Ar(this,{from:t,to:Ns(n,Qi(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),At(this,pt(t))}),replaceRange:function(e,t,n,r){t=mt(this,t),n=n?mt(this,n):t,Ir(this,e,t,n,r)},getRange:function(e,t,n){var r=Ji(this,mt(this,e),mt(this,t));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return vt(this,e)?Qi(this,e):void 0},getLineNumber:function(e){return to(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qi(this,e)),bi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return mt(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Tn(function(e,t,n){St(this,mt(this,"number"==typeof e?Ns(e,t||0):e),null,n)}),setSelection:Tn(function(e,t,n){St(this,mt(this,e),mt(this,t||e),n)}),extendSelection:Tn(function(e,t,n){xt(this,mt(this,e),t&&mt(this,t),n)}),extendSelections:Tn(function(e,t){wt(this,bt(this,e),t)}),extendSelectionsBy:Tn(function(e,t){var n=Oo(this.sel.ranges,e);wt(this,bt(this,n),t)}),setSelections:Tn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new ft(mt(this,e[r].anchor),mt(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),At(this,ht(i,t),n)}}),addSelection:Tn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ft(mt(this,e),mt(this,t||e))),At(this,ht(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ji(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ji(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Tn(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var s=i.ranges[o];r[o]={from:s.from(),to:s.to(),text:this.splitLines(e[o]),origin:n}}for(var a=t&&"end"!=t&&Dr(this,r,t),o=r.length-1;o>=0;o--)Ar(this,r[o]);a?kt(this,a):this.cm&&Nr(this.cm)}),undo:Tn(function(){_r(this,"undo")}),redo:Tn(function(){_r(this,"redo")}),undoSelection:Tn(function(){_r(this,"undo",!0)}),redoSelection:Tn(function(){_r(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new oo(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:vo(this.history.done),undone:vo(this.history.undone)}},setHistory:function(e){var t=this.history=new oo(this.history.maxGeneration);t.done=vo(e.done.slice(0),null,!0),t.undone=vo(e.undone.slice(0),null,!0)},addLineClass:Tn(function(e,t,n){return Wr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(Ko(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:Tn(function(e,t,n){return Wr(this,e,"gutter"==t?"gutter":"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(Ko(n));if(!o)return!1;var s=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&s!=i.length?" ":"")+i.slice(s)||null}return!0})}),addLineWidget:Tn(function(e,t,n){return Ai(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Yr(this,mt(this,e),mt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=mt(this,e),Yr(this,e,e,n,"bookmark")},findMarksAt:function(e){e=mt(this,e);var t=[],n=Qi(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=mt(this,e),t=mt(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var s=o.markedSpans;if(s)for(var a=0;a<s.length;a++){var l=s[a];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+r;return o>e?(t=e,!0):(e-=o,void++n)}),mt(this,Ns(n,t))},indexFromPos:function(e){e=mt(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new Da(Zi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Da(Zi(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Qr(r,Xr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Jr(Xr(this));break}}if(t.history==this.history){var i=[t.id];Gi(t,function(e){i.push(e.id)},!0),t.history=new oo(null),t.history.done=vo(this.history.done,i),t.history.undone=vo(this.history.undone,i)}},iterLinkedDocs:function(e){Gi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):tl(e)},lineSeparator:function(){return this.lineSep||"\n"}}),Da.prototype.eachLine=Da.prototype.iter;var ka="iter insert remove copy getEditor constructor".split(" ");for(var Aa in Da.prototype)Da.prototype.hasOwnProperty(Aa)&&Mo(ka,Aa)<0&&(e.prototype[Aa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Da.prototype[Aa]));Po(Da);var Ea=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},_a=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},Fa=e.e_stop=function(e){Ea(e),_a(e)},Pa=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},La=[],Ia=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var r=Do(e,t,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Ta=e.signal=function(e,t){var n=Do(e,t,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Ma=null,Oa=30,Ba=e.Pass={toString:function(){return"CodeMirror.Pass"}},za={scroll:!1},Na={origin:"*mouse"},Ra={origin:"+move"};Lo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ja=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,s=i||0;;){var a=e.indexOf("	",o);if(0>a||a>=t)return s+(t-o);s+=a-o,s+=n-s%n,o=a+1}},Wa=e.findColumn=function(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var s=o-r;if(o==e.length||i+s>=t)return r+Math.min(s,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}},$a=[""],Ha=function(e){e.select()};_s?Ha=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:ys&&(Ha=function(e){try{e.select()}catch(t){}});var qa,Ua=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Va=e.isWordChar=function(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Ua.test(e))},Ka=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qa=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var Ya=e.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)};ys&&11>xs&&(Vo=function(){try{return document.activeElement}catch(e){return document.body}});var Ga,Xa,Qa=e.rmClass=function(e,t){var n=e.className,r=Ko(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Ja=e.addClass=function(e,t){var n=e.className;Ko(t).test(n)||(e.className+=(n?" ":"")+t)},Za=!1,el=function(){if(ys&&9>xs)return!1;var e=Ho("div");return"draggable"in e||"dragDrop"in e}(),tl=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),s=o.indexOf("\r");-1!=s?(n.push(o.slice(0,s)),t+=s+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},nl=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},rl=function(){var e=Ho("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),il=null,ol=e.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var e=0;10>e;e++)ol[e+48]=ol[e+96]=String(e);for(var e=65;90>=e;e++)ol[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)ol[e+111]=ol[e+63235]="F"+e}();var sl,al=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,s=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],h=0;c>h;++h)f.push(r=e(n.charCodeAt(h)));for(var h=0,p=u;c>h;++h){var r=f[h];"m"==r?f[h]=p:p=r}for(var h=0,d=u;c>h;++h){var r=f[h];"1"==r&&"r"==d?f[h]="n":s.test(r)&&(d=r,"r"==r&&(f[h]="R"))}for(var h=1,p=f[0];c-1>h;++h){var r=f[h];"+"==r&&"1"==p&&"1"==f[h+1]?f[h]="1":","!=r||p!=f[h+1]||"1"!=p&&"n"!=p||(f[h]=p),p=r}for(var h=0;c>h;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var m=h+1;c>m&&"%"==f[m];++m);for(var g=h&&"!"==f[h-1]||c>m&&"1"==f[m]?"1":"N",v=h;m>v;++v)f[v]=g;h=m-1}}for(var h=0,d=u;c>h;++h){var r=f[h];"L"==d&&"1"==r?f[h]="L":s.test(r)&&(d=r)}for(var h=0;c>h;++h)if(o.test(f[h])){for(var m=h+1;c>m&&o.test(f[m]);++m);for(var b="L"==(h?f[h-1]:u),y="L"==(c>m?f[m]:u),g=b||y?"L":"R",v=h;m>v;++v)f[v]=g;h=m-1}for(var x,w=[],h=0;c>h;)if(a.test(f[h])){var C=h;for(++h;c>h&&a.test(f[h]);++h);w.push(new t(0,C,h))}else{var S=h,D=w.length;for(++h;c>h&&"L"!=f[h];++h);for(var v=S;h>v;)if(l.test(f[v])){v>S&&w.splice(D,0,new t(1,S,v));var k=v;for(++v;h>v&&l.test(f[v]);++v);w.splice(D,0,new t(2,k,v)),S=v}else++v;h>S&&w.splice(D,0,new t(1,S,h))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new t(0,0,x[0].length))),1==To(w).level&&(x=n.match(/\s+$/))&&(To(w).to-=x[0].length,w.push(new t(0,c-x[0].length,c))),2==w[0].level&&w.unshift(new t(1,w[0].to,w[0].to)),w[0].level!=To(w).level&&w.push(new t(w[0].level,c,c)),w}}();return e.version="5.14.0",e}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],l=0;l<n.length;l++){if(!n[l].empty())return e.Pass;var u=n[l].head,c=t.getTokenAt(u),f=e.innerMode(t.getMode(),c.state),h=f.state;if("xml"!=f.mode.name||!h.tagName)return e.Pass;var p=t.getOption("autoCloseTags"),d="html"==f.mode.configuration,m="object"==typeof p&&p.dontCloseTags||d&&s,g="object"==typeof p&&p.indentTags||d&&a,v=h.tagName;c.end>u.ch&&(v=v.slice(0,v.length-c.end+u.ch));var b=v.toLowerCase();if(!v||"string"==c.type&&(c.end!=u.ch||!/[\"\']/.test(c.string.charAt(c.string.length-1))||1==c.string.length)||"tag"==c.type&&"closeTag"==h.type||c.string.indexOf("/")==c.string.length-1||m&&i(m,b)>-1||o(t,v,u,h,!0))return e.Pass;var y=g&&i(g,b)>-1;r[l]={indent:y,text:">"+(y?"\n\n":"")+"</"+v+">",newPos:y?e.Pos(u.line+1,0):e.Pos(u.line,u.ch+1)}}for(var l=n.length-1;l>=0;l--){var x=r[l];t.replaceRange(x.text,n[l].head,n[l].anchor,"+insert");var w=t.listSelections().slice(0);w[l]={head:x.newPos,anchor:x.newPos},t.setSelections(w),x.indent&&(t.indentLine(x.newPos.line,null,!0),t.indentLine(x.newPos.line+1,null,!0))}}function n(t,n){for(var r=t.listSelections(),i=[],s=n?"/":"</",a=0;a<r.length;a++){if(!r[a].empty())return e.Pass;var l=r[a].head,u=t.getTokenAt(l),c=e.innerMode(t.getMode(),u.state),f=c.state;if(n&&("string"==u.type||"<"!=u.string.charAt(0)||u.start!=l.ch-1))return e.Pass;var h;if("xml"!=c.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==c.mode.name)h=s+"script";else{if("htmlmixed"!=t.getMode().name||"css"!=c.mode.name)return e.Pass;h=s+"style"}else{if(!f.context||!f.context.tagName||o(t,f.context.tagName,l,f))return e.Pass;h=s+f.context.tagName}">"!=t.getLine(l.line).charAt(u.end)&&(h+=">"),i[a]=h}t.replaceSelections(i),r=t.listSelections();for(var a=0;a<r.length;a++)(a==r.length-1||r[a].head.line<r[a+1].head.line)&&t.indentLine(r[a].head.line)}function r(t){return t.getOption("disableInput")?e.Pass:n(t,!0)}function i(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}function o(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var s=Math.min(t.lastLine()+1,r.line+500),a=e.scanForClosingTag(t,r,null,s);if(!a||a.tag!=n)return!1;for(var l=i.context,u=o?1:0;l&&l.tagName==n;l=l.prev)++u;r=a.to;for(var c=1;u>c;c++){var f=e.scanForClosingTag(t,r,null,s);if(!f||f.tag!=n)return!1;r=f.to}return!0}e.defineOption("autoCloseTags",!1,function(n,i,o){if(o!=e.Init&&o&&n.removeKeyMap("autoCloseTags"),i){var s={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(s["'/'"]=function(e){return r(e)}),("object"!=typeof i||i.whenOpening)&&(s["'>'"]=function(e){return t(e)}),n.addKeyMap(s)}});var s=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];e.commands.closeTag=function(e){return n(e)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length||1,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.lastQuery=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,i(t))}function s(e,t,n,r){e.openDialog(t,r,{value:n,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){d(e)}})}function a(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r,selectValueOnOpen:!0}):i(prompt(n,r))}function l(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function u(e){return e.replace(/\\(.)/g,function(e,t){return"n"==t?"\n":"r"==t?"\r":t})}function c(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);if(t)try{e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i")}catch(n){}else e=u(e);return("string"==typeof e?""==e:e.test(""))&&(e=/x^/),e}function f(e,n,r){n.queryText=r,n.query=c(r),e.removeOverlay(n.overlay,i(n.query)),n.overlay=t(n.query,i(n.query)),e.addOverlay(n.overlay),e.showMatchesOnScrollbar&&(n.annotate&&(n.annotate.clear(),n.annotate=null),n.annotate=e.showMatchesOnScrollbar(n.query,i(n.query)))}function h(t,n,i){var o=r(t);if(o.query)return p(t,n);var l=t.getSelection()||o.lastQuery;if(i&&t.openDialog){var u=null;s(t,v,l,function(n,r){e.e_stop(r),n&&(n!=o.queryText&&(f(t,o,n),o.posFrom=o.posTo=t.getCursor()),u&&(u.style.opacity=1),p(t,r.shiftKey,function(e,n){var r;n.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(n,"window").top&&((u=r).style.opacity=.4)}))})}else a(t,v,"Search for:",l,function(e){e&&!o.query&&t.operation(function(){f(t,o,e),o.posFrom=o.posTo=t.getCursor(),p(t,n)})})}function p(t,n,i){t.operation(function(){var s=r(t),a=o(t,s.query,n?s.posFrom:s.posTo);(a.find(n)||(a=o(t,s.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),a.find(n)))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()},20),s.posFrom=a.from(),s.posTo=a.to(),i&&i(a.from(),a.to()))})}function d(e){e.operation(function(){var t=r(e);t.lastQuery=t.query,t.query&&(t.query=t.queryText=null,e.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function m(e,t,n){e.operation(function(){for(var r=o(e,t);r.findNext();)if("string"!=typeof t){var i=e.getRange(r.from(),r.to()).match(t);r.replace(n.replace(/\$(\d)/g,function(e,t){return i[t]}))}else r.replace(n)})}function g(e,t){if(!e.getOption("readOnly")){var n=e.getSelection()||r(e).lastQuery,i=t?"Replace all:":"Replace:";a(e,i+b,i,n,function(n){n&&(n=c(n),a(e,y,"Replace with:","",function(r){if(r=u(r),t)m(e,n,r);else{d(e);var i=o(e,n,e.getCursor("from")),s=function(){var t,u=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||u&&i.from().line==u.line&&i.from().ch==u.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),l(e,x,"Replace?",[function(){a(t)},s,function(){m(e,n,r)}]))},a=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),s()};s()}}))})}}var v='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',b=' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',y='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',x="Replace? <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>";e.commands.find=function(e){d(e),h(e)},e.commands.findPersistent=function(e){d(e),h(e,!1,!0)},e.commands.findNext=h,e.commands.findPrev=function(e){h(e,!0)},e.commands.clearSearch=d,e.commands.replace=g,e.commands.replaceAll=function(e){g(e,!0)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),i=i?e.clipPos(i):r(0,0),this.pos={from:i,to:i},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,i){if(n){t.lastIndex=0;for(var o,s,a=e.getLine(i.line).slice(0,i.ch),l=0;;){t.lastIndex=l;var u=t.exec(a);if(!u)break;if(o=u,s=o.index,l=o.index+(o[0].length||1),l==a.length)break}var c=o&&o[0].length||0;c||(0==s&&0==a.length?o=void 0:s!=e.getLine(i.line).length&&c++)}else{t.lastIndex=i.ch;var a=e.getLine(i.line),o=t.exec(a),c=o&&o[0].length||0,s=o&&o.index;s+c==a.length||c||(c=1)}return o&&c?{from:r(i.line,s),to:r(i.line,s+c),match:o}:void 0};else{var s=t;o&&(t=t.toLowerCase());var a=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)this.matches=t.length?function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch),u=a(l),c=u.lastIndexOf(t);if(c>-1)return c=n(l,u,c),{from:r(o.line,c),to:r(o.line,c+s.length)}}else{var l=e.getLine(o.line).slice(o.ch),u=a(l),c=u.indexOf(t);if(c>-1)return c=n(l,u,c)+o.ch,{from:r(o.line,c),to:r(o.line,c+s.length)}}}:function(){};else{var u=s.split("\n");this.matches=function(t,n){var i=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(a(e.getLine(n.line).slice(0,u[i].length))!=l[l.length-1])return;for(var o=r(n.line,u[i].length),s=n.line-1,c=i-1;c>=1;--c,--s)if(l[c]!=a(e.getLine(s)))return;var f=e.getLine(s),h=f.length-u[0].length;if(a(f.slice(h))!=l[0])return;return{from:r(s,h),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var f=e.getLine(n.line),h=f.length-u[0].length;if(a(f.slice(h))==l[0]){for(var p=r(n.line,h),s=n.line+1,c=1;i>c;++c,++s)if(l[c]!=a(e.getLine(s)))return;if(a(e.getLine(s).slice(0,u[i].length))==l[i])return{from:p,to:r(s,u[i].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var i=e.slice(0,r).toLowerCase().length;if(n>i)++r;else{if(!(i>n))return r;--r}}}var r=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=r(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=r(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=r(i.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(t,n){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,n),this.pos.to=r(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,r){return new t(this.doc,e,n,r)}),e.defineDocExtension("getSearchCursor",function(e,n,r){return new t(this,e,n,r)}),e.defineExtension("selectMatches",function(t,n){for(var r=[],i=this.getSearchCursor(t,this.getCursor("from"),n);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)r.push({anchor:i.from(),head:i.to()});r.length&&this.setSelections(r,0)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function s(e){if("string"==typeof e)f.value=e;else{if(u)return;u=!0,l.parentNode.removeChild(l),c.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var a,l=t(this,r,o.bottom),u=!1,c=this,f=l.getElementsByTagName("input")[0];return f?(f.focus(),o.value&&(f.value=o.value,o.selectValueOnOpen!==!1&&f.select()),o.onInput&&e.on(f,"input",function(e){o.onInput(e,f.value,s)}),o.onKeyUp&&e.on(f,"keyup",function(e){o.onKeyUp(e,f.value,s)}),e.on(f,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,s)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(f.blur(),e.e_stop(t),s()),13==t.keyCode&&i(f.value,t))}),o.closeOnBlur!==!1&&e.on(f,"blur",s)):(a=l.getElementsByTagName("button")[0])&&(e.on(a,"click",function(){s(),c.focus()}),o.closeOnBlur!==!1&&e.on(a,"blur",s),a.focus()),s}),e.defineExtension("openConfirm",function(r,i,o){function s(){u||(u=!0,a.parentNode.removeChild(a),c.focus())}n(this,null);var a=t(this,r,o&&o.bottom),l=a.getElementsByTagName("button"),u=!1,c=this,f=1;l[0].focus();for(var h=0;h<l.length;++h){var p=l[h];!function(t){e.on(p,"click",function(n){e.e_preventDefault(n),s(),t&&t(c)})}(i[h]),e.on(p,"blur",function(){--f,setTimeout(function(){0>=f&&s()},200)}),e.on(p,"focus",function(){++f})}}),e.defineExtension("openNotification",function(r,i){function o(){l||(l=!0,clearTimeout(s),a.parentNode.removeChild(a))}n(this,o);var s,a=t(this,r,i&&i.bottom),l=!1,u=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(a,"click",function(t){e.e_preventDefault(t),o()}),u&&(s=setTimeout(o,u)),o})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r,i){var o=e.getLineHandle(t.line),l=t.ch-1,u=l>=0&&a[o.text.charAt(l)]||a[o.text.charAt(++l)];if(!u)return null;var c=">"==u.charAt(1)?1:-1;if(r&&c>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(s(t.line,l+1)),h=n(e,s(t.line,l+(c>0?1:0)),c,f||null,i);return null==h?null:{from:s(t.line,l),to:h&&h.pos,match:h&&h.ch==u.charAt(0),forward:c>0}}function n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,u=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=f;h+=n){var p=e.getLine(h);if(p){var d=n>0?0:p.length-1,m=n>0?p.length:-1;if(!(p.length>o))for(h==t.line&&(d=t.ch-(0>n?1:0));d!=m;d+=n){var g=p.charAt(d);if(c.test(g)&&(void 0===r||e.getTokenTypeAt(s(h,d+1))==r)){var v=a[g];if(">"==v.charAt(1)==n>0)u.push(g);else{if(!u.length)return{pos:s(h,d),ch:g};u.pop()}}}}}return h-n==(n>0?e.lastLine():e.firstLine())?!1:null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,a=[],l=e.listSelections(),u=0;u<l.length;u++){var c=l[u].empty()&&t(e,l[u].head,!1,r);if(c&&e.getLine(c.from.line).length<=i){var f=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";a.push(e.markText(c.from,s(c.from.line,c.from.ch+1),{className:f})),c.to&&e.getLine(c.to.line).length<=i&&a.push(e.markText(c.to,s(c.to.line,c.to.ch+1),{className:f}))}}if(a.length){o&&e.state.focused&&e.focus();var h=function(){e.operation(function(){for(var e=0;e<a.length;e++)a[e].clear()})};if(!n)return h;setTimeout(h,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),s=e.Pos,a={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",i),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){return"pairs"==t&&"string"==typeof e?e:"object"==typeof e&&null!=e[t]?e[t]:f[t]}function n(e){return function(t){return a(t,e)}}function r(e){var t=e.state.closeBrackets;if(!t)return null;var n=e.getModeAt(e.getCursor());return n.closeBrackets||t}function i(n){var i=r(n);if(!i||n.getOption("disableInput"))return e.Pass;for(var o=t(i,"pairs"),s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var l=u(n,s[a].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}for(var a=s.length-1;a>=0;a--){var c=s[a].head;n.replaceRange("",h(c.line,c.ch-1),h(c.line,c.ch+1),"+delete")}}function o(n){var i=r(n),o=i&&t(i,"explode");if(!o||n.getOption("disableInput"))return e.Pass;for(var s=n.listSelections(),a=0;a<s.length;a++){if(!s[a].empty())return e.Pass;var l=u(n,s[a].head);if(!l||o.indexOf(l)%2!=0)return e.Pass}n.operation(function(){n.replaceSelection("\n\n",null),n.execCommand("goCharLeft"),s=n.listSelections();for(var e=0;e<s.length;e++){var t=s[e].head.line;n.indentLine(t,null,!0),n.indentLine(t+1,null,!0)}})}function s(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new h(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new h(t.head.line,t.head.ch+(n?1:-1))}}function a(n,i){var o=r(n);if(!o||n.getOption("disableInput"))return e.Pass;var a=t(o,"pairs"),u=a.indexOf(i);if(-1==u)return e.Pass;for(var f,p,d=t(o,"triples"),m=a.charAt(u+1)==i,g=n.listSelections(),v=u%2==0,b=0;b<g.length;b++){var y,x=g[b],w=x.head,p=n.getRange(w,h(w.line,w.ch+1));if(v&&!x.empty())y="surround";else if(!m&&v||p!=i)if(m&&w.ch>1&&d.indexOf(i)>=0&&n.getRange(h(w.line,w.ch-2),w)==i+i&&(w.ch<=2||n.getRange(h(w.line,w.ch-3),h(w.line,w.ch-2))!=i))y="addFour";else if(m){if(e.isWordChar(p)||!c(n,w,i))return e.Pass;y="both"}else{if(!v||n.getLine(w.line).length!=w.ch&&!l(p,a)&&!/\s/.test(p))return e.Pass;y="both"}else y=d.indexOf(i)>=0&&n.getRange(w,h(w.line,w.ch+3))==i+i+i?"skipThree":"skip";if(f){if(f!=y)return e.Pass}else f=y}var C=u%2?a.charAt(u-1):i,S=u%2?i:a.charAt(u+1);n.operation(function(){if("skip"==f)n.execCommand("goCharRight");else if("skipThree"==f)for(var e=0;3>e;e++)n.execCommand("goCharRight");else if("surround"==f){for(var t=n.getSelections(),e=0;e<t.length;e++)t[e]=C+t[e]+S;n.replaceSelections(t,"around"),t=n.listSelections().slice();for(var e=0;e<t.length;e++)t[e]=s(t[e]);n.setSelections(t)}else"both"==f?(n.replaceSelection(C+S,null),n.triggerElectric(C+S),n.execCommand("goCharLeft")):"addFour"==f&&(n.replaceSelection(C+C+C+C,"before"),n.execCommand("goCharRight"))})}function l(e,t){var n=t.lastIndexOf(e);return n>-1&&n%2==1}function u(e,t){var n=e.getRange(h(t.line,t.ch-1),h(t.line,t.ch+1));return 2==n.length?n:null}function c(t,n,r){var i=t.getLine(n.line),o=t.getTokenAt(n);if(/\bstring2?\b/.test(o.type))return!1;var s=new e.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(s.pos=s.start=o.start;;){var a=t.getMode().token(s,o.state);if(s.pos>=n.ch+1)return/\bstring2?\b/.test(a);s.start=s.pos}}var f={pairs:"()[]{}''\"\"",triples:"",explode:"[]{}"},h=e.Pos;e.defineOption("autoCloseBrackets",!1,function(t,n,r){r&&r!=e.Init&&(t.removeKeyMap(d),t.state.closeBrackets=null),n&&(t.state.closeBrackets=n,t.addKeyMap(d))});for(var p=f.pairs+"`",d={Backspace:i,Enter:o},m=0;m<p.length;m++)d["'"+p.charAt(m)+"'"]=n(p.charAt(m))}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,s){function a(e){var n=l(t,i);if(!n||n.to.line-n.from.line<u)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==s){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var u=r(t,o,"minFoldSize"),c=a(!0);if(r(t,o,"scanUp"))for(;!c&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),c=a(!1);if(c&&!c.cleared&&"unfold"!==s){var f=n(t,o);e.on(f,"mousedown",function(t){h.clear(),e.e_preventDefault(t)});var h=t.markText(c.from,c.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});h.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,c.from,c.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null),e.defineExtension("foldOption",function(e,t){return r(this,e,t)})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarksAt(f(t)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return n[r]}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(e,t,n){var o=e.state.foldGutter.options,s=t,a=e.foldOption(o,"minFoldSize"),l=e.foldOption(o,"rangeFinder");e.eachLine(t,n,function(t){var n=null;if(r(e,s))n=i(o.indicatorFolded);else{var u=f(s,0),c=l&&l(e,u);c&&c.to.line-c.from.line>=a&&(n=i(o.indicatorOpen))}e.setGutterMarker(t,o.gutter,n),++s})}function s(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function a(e,t,n){var i=e.state.foldGutter;if(i){var o=i.options;if(n==o.gutter){var s=r(e,t);s?s.clear():e.foldCode(f(t,0),o.rangeFinder)}}}function l(e){var t=e.state.foldGutter;if(t){var n=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){s(e)},n.foldOnChangeTimeSpan||600)}}function u(e){var t=e.state.foldGutter;if(t){var n=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?s(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}}function c(e,t){var n=e.state.foldGutter;if(n){var r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",a),r.off("change",l),r.off("viewportChange",u),r.off("fold",c),r.off("unfold",c),r.off("swapDoc",l)),i&&(r.state.foldGutter=new t(n(i)),s(r),r.on("gutterClick",a),r.on("change",l),r.on("viewportChange",u),r.on("fold",c),r.on("unfold",c),r.on("swapDoc",l))});var f=e.Pos}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var i=n.ch,l=0;;){var u=0>=i?-1:a.lastIndexOf(r,i-1);if(-1!=u){if(1==l&&u<n.ch)break;if(o=t.getTokenTypeAt(e.Pos(s,u+1)),!/^(comment|string)/.test(o))return u+1;i=u-1}else{if(1==l)break;l=1,i=a.length}}}var i,o,s=n.line,a=t.getLine(s),l="{",u="}",i=r("{");if(null==i&&(l="[",u="]",i=r("[")),null!=i){var c,f,h=1,p=t.lastLine();e:for(var d=s;p>=d;++d)for(var m=t.getLine(d),g=d==s?i:0;;){var v=m.indexOf(l,g),b=m.indexOf(u,g);if(0>v&&(v=m.length),0>b&&(b=m.length),g=Math.min(v,b),g==m.length)break;if(t.getTokenTypeAt(e.Pos(d,g+1))==o)if(g==v)++h;else if(!--h){c=d,f=g;break e}++g}if(null!=c&&(s!=c||f!=i))return{from:e.Pos(s,i),to:e.Pos(c,f)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);o>=i;++i){var s=t.getLine(i),a=s.indexOf(";");if(-1!=a)return{startCh:r.end,end:e.Pos(i,a)}}}var i,n=n.line,o=r(n);if(!o||r(n-1)||(i=r(n-2))&&i.end.line==n-1)return null;for(var s=o.end;;){var a=r(s.line+1);if(null==a)break;s=a.end}return{from:t.clipPos(e.Pos(n,o.startCh+1)),to:s}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var n=n.line,i=r(n);if(null==i||null!=r(n-1))return null;for(var o=n;;){var s=r(o+1);if(null==s)break;++o}return{from:e.Pos(n,i+1),to:t.clipPos(e.Pos(o))}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(h(e.line,t));return n&&/\btag\b/.test(n)}function i(e){return e.line>=e.max?void 0:(e.ch=0,e.text=e.cm.getLine(++e.line),!0)}function o(e){return e.line<=e.min?void 0:(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0)}function s(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function a(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function u(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function c(e,t){for(var n=[];;){var r,i=l(e),o=e.line,a=e.ch-(i?i[0].length:0);if(!i||!(r=s(e)))return;if("selfClose"!=r)if(i[1]){for(var u=n.length-1;u>=0;--u)if(n[u]==i[2]){n.length=u;break}if(0>u&&(!t||t==i[2]))return{tag:i[2],from:h(o,a),to:h(e.line,e.ch)}}else n.push(i[2])}}function f(e,t){for(var n=[];;){var r=u(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,s=a(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(0>l&&(!t||t==s[2]))return{tag:s[2],from:h(e.line,e.ch),to:h(i,o)}}}else a(e)}}var h=e.Pos,p="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=p+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+p+"]["+d+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,o=l(r);if(!o||r.line!=t.line||!(i=s(r)))return;if(!o[1]&&"selfClose"!=i){var t=h(r.line,r.ch),a=c(r,o[2]);return a&&{from:t,to:a.from}}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=s(o),u=l&&h(o.line,o.ch),p=l&&a(o);if(l&&p&&!(t(o,r)>0)){var d={from:h(o.line,o.ch),to:u,tag:p[2]};return"selfClose"==l?{open:d,close:null,at:"open"}:p[1]?{open:f(o,p[2]),close:d,at:"close"}:(o=new n(e,u.line,u.ch,i),{open:d,close:c(o,p[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r){for(var i=new n(e,t.line,t.ch,r);;){var o=f(i);if(!o)break;var s=new n(e,t.line,t.ch,r),a=c(s,o.tag);if(a)return{open:o,close:a}}},e.scanForClosingTag=function(e,t,r,i){var o=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return c(o,r)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","markdown",function(t,n){function r(n){var r=t.getTokenTypeAt(e.Pos(n,0));return r&&/\bheader\b/.test(r)}function i(e,t,n){var i=t&&t.match(/^#+/);return i&&r(e)?i[0].length:(i=n&&n.match(/^[=\-]+\s*$/),i&&r(e+1)?"="==n[0]?1:2:o)}var o=100,s=t.getLine(n.line),a=t.getLine(n.line+1),l=i(n.line,s,a);if(l===o)return void 0;for(var u=t.lastLine(),c=n.line,f=t.getLine(c+2);u>c&&!(i(c+1,a,f)<=l);)++c,a=f,f=t.getLine(c+2);return{from:e.Pos(n.line,s.length),to:e.Pos(c,t.getLine(c).length)}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerGlobalHelper("fold","comment",function(e){return e.blockCommentStart&&e.blockCommentEnd},function(t,n){var r=t.getModeAt(n),i=r.blockCommentStart,o=r.blockCommentEnd;if(i&&o){for(var s,a=n.line,l=t.getLine(a),u=n.ch,c=0;;){var f=0>=u?-1:l.lastIndexOf(i,u-1);if(-1!=f){if(1==c&&f<n.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(a,f+1)))&&(l.slice(f-o.length,f)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(a,f))))){s=f+i.length;break}u=f-1}else{if(1==c)return;c=1,u=l.length}}var h,p,d=1,m=t.lastLine();e:for(var g=a;m>=g;++g)for(var v=t.getLine(g),b=g==a?s:0;;){var y=v.indexOf(i,b),x=v.indexOf(o,b);if(0>y&&(y=v.length),0>x&&(x=v.length),b=Math.min(y,x),b==v.length)break;if(b==y)++d;else if(!--d){h=g,p=b;break e}++b}if(null!=h&&(a!=h||p!=s))return{from:e.Pos(a,s),to:e.Pos(h,p)}}})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){function i(t){var n=e.wheelEventPixels(t)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;e.on(this.inner,"mousedown",function(t){function n(){e.off(document,"mousemove",r),e.off(document,"mouseup",n)}function r(e){return 1!=e.which?n():void o.moveTo(a+(e[i]-s)*(o.total/o.size))}if(1==t.which){e.e_preventDefault(t);var i="horizontal"==o.orientation?"pageX":"pageY",s=t[i],a=o.pos;e.on(document,"mousemove",r),e.on(document,"mouseup",n)}}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?t.clientX<r.left?-1:t.clientX>r.right?1:0:t.clientY<r.top?-1:t.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)}),e.on(this.node,"mousewheel",i),e.on(this.node,"DOMMouseScroll",i)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.setPos=function(e){return 0>e&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen),e==this.pos?!1:(this.pos=e,this.inner.style["horizontal"==this.orientation?"left":"top"]=e*(this.size/this.total)+"px",!0)},t.prototype.moveTo=function(e){this.setPos(e)&&this.scroll(e,this.orientation)};var r=10;t.prototype.update=function(e,t,n){this.screen=t,this.total=e,this.size=n;var i=this.screen*(this.size/this.total);r>i&&(this.size-=r-i,i=r),this.inner.style["horizontal"==this.orientation?"width":"height"]=i+"px",this.setPos(this.pos)},n.prototype.update=function(e){if(null==this.width){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.setPos(e)},n.prototype.setScrollLeft=function(e){this.horiz.setPos(e)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.runMode=function(t,n,r,i){var o=e.getMode(e.defaults,n),s=/MSIE \d/.test(navigator.userAgent),a=s&&(null==document.documentMode||document.documentMode<9);if(r.appendChild){var l=i&&i.tabSize||e.defaults.tabSize,u=r,c=0;u.innerHTML="",r=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(a?"\r":e)),void(c=0);for(var n="",r=0;;){var i=e.indexOf("	",r);if(-1==i){n+=e.slice(r),c+=e.length-r;break}c+=i-r,n+=e.slice(r,i);var o=l-c%l;c+=o;for(var s=0;o>s;++s)n+=" ";r=i+1}if(t){var f=u.appendChild(document.createElement("span"));f.className="cm-"+t.replace(/ +/g," cm-"),f.appendChild(document.createTextNode(n))}else u.appendChild(document.createTextNode(n))}}for(var f=e.splitLines(t),h=i&&i.state||e.startState(o),p=0,d=f.length;d>p;++p){p&&r("\n");var m=new e.StringStream(f[p]);for(!m.string&&o.blankLine&&o.blankLine(h);!m.eol();){var g=o.token(m,h);r(m.current(),g,p,m.start,h),m.start=m.pos}}}}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};e.defineMode("xml",function(r,i){function o(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(l("atom","]]>")):null:e.match("--")?n(l("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(u(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=l("meta","?>"),"meta"):(A=e.eat("/")?"closeTag":"openTag",t.tokenize=s,"tag bracket");if("&"==r){var i;return i=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),i?"atom":"error"}return e.eatWhile(/[^&<]/),null}function s(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=o,A=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return A="equals",null;if("<"==n){t.tokenize=o,t.state=p,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=s;break}return"string"};return t.isInAttribute=!0,t}function l(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=o;break}n.next()}return e}}function u(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=u(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=o;break}return n.tokenize=u(e-1),n.tokenize(t,n)}}return"meta"}}function c(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(S.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function f(e){e.context&&(e.context=e.context.prev)}function h(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!S.contextGrabbers.hasOwnProperty(n)||!S.contextGrabbers[n].hasOwnProperty(t))return;f(e)}}function p(e,t,n){return"openTag"==e?(n.tagStart=t.column(),d):"closeTag"==e?m:p}function d(e,t,n){return"word"==e?(n.tagName=t.current(),E="tag",b):(E="error",d)}function m(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&S.implicitlyClosed.hasOwnProperty(n.context.tagName)&&f(n),n.context&&n.context.tagName==r||S.matchClosing===!1?(E="tag",g):(E="tag error",v)}return E="error",v}function g(e,t,n){return"endTag"!=e?(E="error",g):(f(n),p)}function v(e,t,n){return E="error",g(e,t,n)}function b(e,t,n){if("word"==e)return E="attribute",y;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||S.autoSelfClosers.hasOwnProperty(r)?h(n,r):(h(n,r),n.context=new c(n,r,i==n.indented)),p}return E="error",b}function y(e,t,n){return"equals"==e?x:(S.allowMissing||(E="error"),b(e,t,n))}function x(e,t,n){return"string"==e?w:"word"==e&&S.allowUnquoted?(E="string",b):(E="error",b(e,t,n))}function w(e,t,n){return"string"==e?w:b(e,t,n)}var C=r.indentUnit,S={},D=i.htmlMode?t:n;for(var k in D)S[k]=D[k];for(var k in i)S[k]=i[k];var A,E;return o.isInText=!0,{startState:function(e){var t={tokenize:o,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;A=null;var n=t.tokenize(e,t);return(n||A)&&"comment"!=n&&(E=null,t.state=t.state(A||n,e,t),E&&(n="error"==E?n+" error":E)),n},indent:function(t,n,r){var i=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+C;if(i&&i.noIndent)return e.Pass;if(t.tokenize!=s&&t.tokenize!=o)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return S.multilineTagIndentPastTag!==!1?t.tagStart+t.tagName.length+2:t.tagStart+C*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;i;){if(i.tagName==a[2]){i=i.prev;break}if(!S.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(a)for(;i;){var l=S.contextGrabbers[i.tagName];if(!l||!l.hasOwnProperty(a[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+C:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=b)}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return d=t,e}function i(e,t){var n=e.next();if(v[n]){var i=v[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=s,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?r("variable-2","variable-definition"):r("variable-2","variable")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function s(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),r(null,"(")}function a(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n,r){return e.context=new a(n,t.indentation()+(r===!1?0:g),e.context),n}function u(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function c(e,t,n){return P[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return c(e,t,n)}function h(e){var t=e.current().toLowerCase();m=E.hasOwnProperty(t)?"atom":A.hasOwnProperty(t)?"keyword":"variable"}var p=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var d,m,g=t.indentUnit,v=n.tokenHooks,b=n.documentTypes||{},y=n.mediaTypes||{},x=n.mediaFeatures||{},w=n.mediaValueKeywords||{},C=n.propertyKeywords||{},S=n.nonStandardPropertyKeywords||{},D=n.fontProperties||{},k=n.counterDescriptors||{},A=n.colorKeywords||{},E=n.valueKeywords||{},_=n.allowNested,F=n.supportsAtComponent===!0,P={};return P.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return u(n);if(F&&/@component/.test(e))return l(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return l(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return l(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)m="builtin";else if("word"==e)m="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(_&&"("==e)return l(n,t,"parens")}return n.context.type},P.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return C.hasOwnProperty(r)?(m="property","maybeprop"):S.hasOwnProperty(r)?(m="string-2","maybeprop"):_?(m=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(m+=" error","maybeprop")}return"meta"==e?"block":_||"hash"!=e&&"qualifier"!=e?P.top(e,t,n):(m="error","block")},P.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):c(e,t,n)},P.prop=function(e,t,n){if(";"==e)return u(n);if("{"==e&&_)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else m+=" error";return"prop"},P.propBlock=function(e,t,n){return"}"==e?u(n):"word"==e?(m="property","maybeprop"):n.context.type},P.parens=function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?u(n):"("==e?l(n,t,"parens"):"interpolation"==e?l(n,t,"interpolation"):("word"==e&&h(t),"parens")},P.pseudo=function(e,t,n){return"word"==e?(m="variable-3",n.context.type):c(e,t,n)},P.documentTypes=function(e,t,n){return"word"==e&&b.hasOwnProperty(t.current())?(m="tag",n.context.type):P.atBlock(e,t,n)},P.atBlock=function(e,t,n){if("("==e)return l(n,t,"atBlock_parens");if("}"==e||";"==e)return f(e,t,n);if("{"==e)return u(n)&&l(n,t,_?"block":"top");if("interpolation"==e)return l(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();m="only"==r||"not"==r||"and"==r||"or"==r?"keyword":y.hasOwnProperty(r)?"attribute":x.hasOwnProperty(r)?"property":w.hasOwnProperty(r)?"keyword":C.hasOwnProperty(r)?"property":S.hasOwnProperty(r)?"string-2":E.hasOwnProperty(r)?"atom":A.hasOwnProperty(r)?"keyword":"error"}return n.context.type},P.atComponentBlock=function(e,t,n){return"}"==e?f(e,t,n):"{"==e?u(n)&&l(n,t,_?"block":"top",!1):("word"==e&&(m="error"),n.context.type)},P.atBlock_parens=function(e,t,n){return")"==e?u(n):"{"==e||"}"==e?f(e,t,n,2):P.atBlock(e,t,n)},P.restricted_atBlock_before=function(e,t,n){return"{"==e?l(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(m="variable","restricted_atBlock_before"):c(e,t,n)},P.restricted_atBlock=function(e,t,n){return"}"==e?(n.stateArg=null,u(n)):"word"==e?(m="@font-face"==n.stateArg&&!D.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!k.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},P.keyframes=function(e,t,n){return"word"==e?(m="variable","keyframes"):"{"==e?l(n,t,"top"):c(e,t,n)},P.at=function(e,t,n){return";"==e?u(n):"{"==e||"}"==e?f(e,t,n):("word"==e?m="tag":"hash"==e&&(m="builtin"),"at")},P.interpolation=function(e,t,n){return"}"==e?u(n):"{"==e||";"==e?f(e,t,n):("word"==e?m="variable":"variable"!=e&&"("!=e&&")"!=e&&(m="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:p?"block":"top",stateArg:null,context:new a(p?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(d=n[1],n=n[0]),m=n,t.state=P[t.state](d,e,t),m},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"==r&&("parens"==n.type||"atBlock_parens"==n.type)||"{"==r&&("at"==n.type||"atBlock"==n.type))&&(i=Math.max(0,n.indent-g),n=n.prev):(n=n.prev,i=n.indent)),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var r=["domain","regexp","url","url-prefix"],i=t(r),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],s=t(o),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],l=t(a),u=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],c=t(u),f=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],h=t(f),p=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],d=t(p),m=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],g=t(m),v=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],b=t(v),y=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],x=t(y),w=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],C=t(w),S=r.concat(o).concat(a).concat(u).concat(f).concat(p).concat(y).concat(w);e.registerHelper("hintWords","css",S),e.defineMIME("text/css",{documentTypes:i,mediaTypes:s,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:d,fontProperties:g,counterDescriptors:b,colorKeywords:x,valueKeywords:C,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:C,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:s,mediaFeatures:l,mediaValueKeywords:c,propertyKeywords:h,nonStandardPropertyKeywords:d,colorKeywords:x,valueKeywords:C,fontProperties:g,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:i,mediaTypes:s,mediaFeatures:l,propertyKeywords:h,nonStandardPropertyKeywords:d,fontProperties:g,counterDescriptors:b,colorKeywords:x,valueKeywords:C,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css",helperType:"gss"})}),// CodeMirror, copyright (c) by Marijn Haverbeke and others
function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}e.defineMode("javascript",function(n,r){function i(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function o(e,t,n){return xt=e,wt=n,t}function s(e,n){var r=e.next();if('"'==r||"'"==r)return n.tokenize=a(r),n.tokenize(e,n);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return o("number","number");if("."==r&&e.match(".."))return o("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return o(r);if("="==r&&e.eat(">"))return o("=>","operator");if("0"==r&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),o("number","number");if("0"==r&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),o("number","number");if("0"==r&&e.eat(/b/i))return e.eatWhile(/[01]/i),o("number","number");if(/\d/.test(r))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),o("number","number");if("/"==r)return e.eat("*")?(n.tokenize=l,l(e,n)):e.eat("/")?(e.skipToEnd(),o("comment","comment")):t(e,n,1)?(i(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),o("regexp","string-2")):(e.eatWhile(Ft),o("operator","operator",e.current()));if("`"==r)return n.tokenize=u,u(e,n);if("#"==r)return e.skipToEnd(),o("error","error");if(Ft.test(r))return e.eatWhile(Ft),o("operator","operator",e.current());if(Et.test(r)){e.eatWhile(Et);var s=e.current(),c=_t.propertyIsEnumerable(s)&&_t[s];return c&&"."!=n.lastType?o(c.type,c.style,s):o("variable","variable",s)}}function a(e){return function(t,n){var r,i=!1;if(Dt&&"@"==t.peek()&&t.match(Pt))return n.tokenize=s,o("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||i);)i=!i&&"\\"==r;return i||(n.tokenize=s),o("string","string")}}function l(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=s;break}r="*"==n}return o("comment","comment")}function u(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=s;break}r=!r&&"\\"==n}return o("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var s=e.string.charAt(o),a=Lt.indexOf(s);if(a>=0&&3>a){if(!r){++o;break}if(0==--r)break}else if(a>=3&&6>a)++r;else if(Et.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!r){++o;break}}}i&&!r&&(t.fatArrowAt=o)}}function f(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function p(e,t,n,r,i){var o=e.cc;for(Tt.state=e,Tt.stream=i,Tt.marked=null,Tt.cc=o,Tt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var s=o.length?o.pop():kt?S:C;if(s(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Tt.marked?Tt.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)Tt.cc.push(arguments[e])}function m(){return d.apply(null,arguments),!0}function g(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var n=Tt.state;if(Tt.marked="def",n.context){if(t(n.localVars))return;n.localVars={name:e,next:n.localVars}}else{if(t(n.globalVars))return;r.globalVars&&(n.globalVars={name:e,next:n.globalVars})}}function v(){Tt.state.context={prev:Tt.state.context,vars:Tt.state.localVars},Tt.state.localVars=Mt}function b(){Tt.state.localVars=Tt.state.context.vars,Tt.state.context=Tt.state.context.prev}function y(e,t){var n=function(){var n=Tt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new f(r,Tt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function x(){var e=Tt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?m():";"==e?d():m(t)}return t}function C(e,t){return"var"==e?m(y("vardef",t.length),Y,w(";"),x):"keyword a"==e?m(y("form"),S,C,x):"keyword b"==e?m(y("form"),C,x):"{"==e?m(y("}"),q,x):";"==e?m():"if"==e?("else"==Tt.state.lexical.info&&Tt.state.cc[Tt.state.cc.length-1]==x&&Tt.state.cc.pop()(),m(y("form"),S,C,x,Z)):"function"==e?m(ot):"for"==e?m(y("form"),et,C,x):"variable"==e?m(y("stat"),z):"switch"==e?m(y("form"),S,y("}","switch"),w("{"),q,x,x):"case"==e?m(S,w(":")):"default"==e?m(w(":")):"catch"==e?m(y("form"),v,w("("),st,w(")"),C,x,b):"class"==e?m(y("form"),at,x):"export"==e?m(y("stat"),ft,x):"import"==e?m(y("stat"),ht,x):"module"==e?m(y("form"),G,y("}"),w("{"),q,x,x):d(y("stat"),S,w(";"),x)}function S(e){return k(e,!1)}function D(e){return k(e,!0)}function k(e,t){if(Tt.state.fatArrowAt==Tt.stream.start){var n=t?T:I;if("("==e)return m(v,y(")"),$(G,")"),x,w("=>"),n,b);if("variable"==e)return d(v,G,w("=>"),n,b)}var r=t?F:_;return It.hasOwnProperty(e)?m(r):"function"==e?m(ot,r):"keyword c"==e?m(t?E:A):"("==e?m(y(")"),A,bt,w(")"),x,r):"operator"==e||"spread"==e?m(t?D:S):"["==e?m(y("]"),gt,x,r):"{"==e?H(R,"}",null,r):"quasi"==e?d(P,r):"new"==e?m(M(t)):m()}function A(e){return e.match(/[;\}\)\],]/)?d():d(S)}function E(e){return e.match(/[;\}\)\],]/)?d():d(D)}function _(e,t){return","==e?m(S):F(e,t,!1)}function F(e,t,n){var r=0==n?_:F,i=0==n?S:D;return"=>"==e?m(v,n?T:I,b):"operator"==e?/\+\+|--/.test(t)?m(r):"?"==t?m(S,w(":"),i):m(i):"quasi"==e?d(P,r):";"!=e?"("==e?H(D,")","call",r):"."==e?m(N,r):"["==e?m(y("]"),A,w("]"),x,r):void 0:void 0}function P(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?m(P):m(S,L)}function L(e){return"}"==e?(Tt.marked="string-2",Tt.state.tokenize=u,m(P)):void 0}function I(e){return c(Tt.stream,Tt.state),d("{"==e?C:S)}function T(e){return c(Tt.stream,Tt.state),d("{"==e?C:D)}function M(e){return function(t){return"."==t?m(e?B:O):d(e?D:S)}}function O(e,t){return"target"==t?(Tt.marked="keyword",m(_)):void 0}function B(e,t){return"target"==t?(Tt.marked="keyword",m(F)):void 0}function z(e){return":"==e?m(x,C):d(_,w(";"),x)}function N(e){return"variable"==e?(Tt.marked="property",m()):void 0}function R(e,t){return"variable"==e||"keyword"==Tt.style?(Tt.marked="property",m("get"==t||"set"==t?j:W)):"number"==e||"string"==e?(Tt.marked=Dt?"property":Tt.style+" property",m(W)):"jsonld-keyword"==e?m(W):"modifier"==e?m(R):"["==e?m(S,w("]"),W):"spread"==e?m(S):void 0}function j(e){return"variable"!=e?d(W):(Tt.marked="property",m(ot))}function W(e){return":"==e?m(D):"("==e?d(ot):void 0}function $(e,t){function n(r){if(","==r){var i=Tt.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),m(e,n)}return r==t?m():m(w(t))}return function(r){return r==t?m():d(e,n)}}function H(e,t,n){for(var r=3;r<arguments.length;r++)Tt.cc.push(arguments[r]);return m(y(t,n),$(e,t),x)}function q(e){return"}"==e?m():d(C,q)}function U(e){return At&&":"==e?m(K):void 0}function V(e,t){return"="==t?m(D):void 0}function K(e){return"variable"==e?(Tt.marked="variable-3",m()):void 0}function Y(){return d(G,U,Q,J)}function G(e,t){return"modifier"==e?m(G):"variable"==e?(g(t),m()):"spread"==e?m(G):"["==e?H(G,"]"):"{"==e?H(X,"}"):void 0}function X(e,t){return"variable"!=e||Tt.stream.match(/^\s*:/,!1)?("variable"==e&&(Tt.marked="property"),"spread"==e?m(G):"}"==e?d():m(w(":"),G,Q)):(g(t),m(Q))}function Q(e,t){return"="==t?m(D):void 0}function J(e){return","==e?m(Y):void 0}function Z(e,t){return"keyword b"==e&&"else"==t?m(y("form","else"),C,x):void 0}function et(e){return"("==e?m(y(")"),tt,w(")"),x):void 0}function tt(e){return"var"==e?m(Y,w(";"),rt):";"==e?m(rt):"variable"==e?m(nt):d(S,w(";"),rt)}function nt(e,t){return"in"==t||"of"==t?(Tt.marked="keyword",m(S)):m(_,rt)}function rt(e,t){return";"==e?m(it):"in"==t||"of"==t?(Tt.marked="keyword",m(S)):d(S,w(";"),it)}function it(e){")"!=e&&m(S)}function ot(e,t){return"*"==t?(Tt.marked="keyword",m(ot)):"variable"==e?(g(t),m(ot)):"("==e?m(v,y(")"),$(st,")"),x,C,b):void 0}function st(e){return"spread"==e?m(st):d(G,U,V)}function at(e,t){return"variable"==e?(g(t),m(lt)):void 0}function lt(e,t){return"extends"==t?m(S,lt):"{"==e?m(y("}"),ut,x):void 0}function ut(e,t){return"variable"==e||"keyword"==Tt.style?"static"==t?(Tt.marked="keyword",m(ut)):(Tt.marked="property","get"==t||"set"==t?m(ct,ot,ut):m(ot,ut)):"*"==t?(Tt.marked="keyword",m(ut)):";"==e?m(ut):"}"==e?m():void 0}function ct(e){return"variable"!=e?d():(Tt.marked="property",m())}function ft(e,t){return"*"==t?(Tt.marked="keyword",m(mt,w(";"))):"default"==t?(Tt.marked="keyword",m(S,w(";"))):d(C)}function ht(e){return"string"==e?m():d(pt,mt)}function pt(e,t){return"{"==e?H(pt,"}"):("variable"==e&&g(t),"*"==t&&(Tt.marked="keyword"),m(dt))}function dt(e,t){return"as"==t?(Tt.marked="keyword",m(pt)):void 0}function mt(e,t){return"from"==t?(Tt.marked="keyword",m(S)):void 0}function gt(e){return"]"==e?m():d(D,vt)}function vt(e){return"for"==e?d(bt,w("]")):","==e?m($(E,"]")):d($(D,"]"))}function bt(e){return"for"==e?m(et,bt):"if"==e?m(S,bt):void 0}function yt(e,t){return"operator"==e.lastType||","==e.lastType||Ft.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}var xt,wt,Ct=n.indentUnit,St=r.statementIndent,Dt=r.jsonld,kt=r.json||Dt,At=r.typescript,Et=r.wordCharacters||/[\w$\xa1-\uffff]/,_t=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},s={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":e("new"),"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(At){var a={type:"variable",style:"variable-3"},l={"interface":e("class"),"implements":r,namespace:r,module:e("module"),"enum":e("module"),"public":e("modifier"),"private":e("modifier"),"protected":e("modifier"),"abstract":e("modifier"),as:i,string:a,number:a,"boolean":a,any:a};for(var u in l)s[u]=l[u]}return s}(),Ft=/[+\-*&%=<>!?|~^]/,Pt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Lt="([{}])",It={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Tt={state:null,column:null,marked:null,cc:null},Mt={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(e){var t={tokenize:s,lastType:"sof",cc:[],lexical:new f((e||0)-Ct,0,"block",!1),localVars:r.localVars,context:r.localVars&&{vars:r.localVars},indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=l&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==xt?n:(t.lastType="operator"!=xt||"++"!=wt&&"--"!=wt?xt:"incdec",p(t,n,xt,wt,e))},indent:function(t,n){if(t.tokenize==l)return e.Pass;if(t.tokenize!=s)return 0;var i=n&&n.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(n))for(var a=t.cc.length-1;a>=0;--a){var u=t.cc[a];if(u==x)o=o.prev;else if(u!=Z)break}"stat"==o.type&&"}"==i&&(o=o.prev),St&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,f=i==c;return"vardef"==c?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==c&&"{"==i?o.indented:"form"==c?o.indented+Ct:"stat"==c?o.indented+(yt(t,n)?St||Ct:0):"switch"!=o.info||f||0==r.doubleIndentSwitch?o.align?o.column+(f?0:1):o.indented+(f?0:Ct):o.indented+(/^(?:case|default)\b/.test(n)?Ct:2*Ct)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:kt?null:"/*",blockCommentEnd:kt?null:"*/",lineComment:kt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:kt?"json":"javascript",jsonldMode:Dt,jsonMode:kt,expressionAllowed:t,skipExpression:function(e){var t=e.cc[e.cc.length-1];(t==S||t==D)&&e.cc.pop()}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.emmetCodeMirror=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";function r(e,t){return arguments.length>2&&"object"!=typeof t&&(t={line:arguments[1],ch:arguments[2]}),e.indexFromPos(t)}function i(e,t){return e.posFromIndex(t)}var o=function(e){return e&&e.__esModule?e["default"]:e},s=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(n,"__esModule",{value:!0});var l=o(e("./emmet")),u={"text/html":"html","application/xml":"xml","text/xsl":"xsl","text/css":"css","text/x-less":"less","text/x-scss":"scss","text/x-sass":"sass"};n.modeMap=u;var c=function(){function e(t){var n=void 0===arguments[1]?0:arguments[1];a(this,e),this.context=t,this.selectionIndex=n||0}return s(e,{selectionList:{value:function(){var e=this.context;return e.listSelections().map(function(t){var n=r(e,t.anchor),i=r(e,t.head);return{start:Math.min(n,i),end:Math.max(n,i)}})}},getCaretPos:{value:function(){return this.getSelectionRange().start}},setCaretPos:{value:function(e){this.createSelection(e)}},getSelectionRange:{value:function(){return this.selectionList()[this.selectionIndex]}},createSelection:{value:function(e,t){"undefined"==typeof t&&(t=e);var n=this.selectionList(),r=this.context;n[this.selectionIndex]={start:e,end:t},this.context.setSelections(n.map(function(e){return{head:i(r,e.start),anchor:i(r,e.end)}}))}},getSelection:{value:function(){var e=this.getSelectionRange();return e.start=i(this.context,e.start),e.end=i(this.context,e.end),this.context.getRange(e.start,e.end)}},getCurrentLineRange:{value:function(){var e=i(this.context,this.getCaretPos());return{start:r(this.context,e.line,0),end:r(this.context,e.line,this.context.getLine(e.line).length)}}},getCurrentLine:{value:function(){var e=i(this.context,this.getCaretPos());return this.context.getLine(e.line)||""}},replaceContent:{value:function(e,t,n,r){"undefined"==typeof n&&(n="undefined"==typeof t?this.getContent().length:t),"undefined"==typeof t&&(t=0),e=this.normalize(e),r||(e=l.utils.common.padString(e,l.utils.common.getLinePaddingFromPosition(this.getContent(),t)));var o=l.tabStops.extract(e,{escape:function(e){return e}});e=o.text;var s=o.tabstops[0]||{start:e.length,end:e.length};s.start+=t,s.end+=t,this.context.replaceRange(e,i(this.context,t),i(this.context,n)),this.createSelection(s.start,s.end)}},normalize:{value:function(e){var t="	",n=this.context;return n.getOption("indentWithTabs")||(t=l.utils.common.repeatString(" ",n.getOption("indentUnit"))),l.utils.editor.normalize(e,{indentation:t})}},getContent:{value:function(){return this.context.getValue()}},getSyntax:{value:function(){var e=this.context,t=(e.posFromIndex(this.getCaretPos()),e.getModeAt(e.getCursor())),n=t.name;return"xml"===n&&t.configuration&&(n=t.configuration),n||l.utils.action.detectSyntax(this,n)}},getProfileName:{value:function(){return this.context.getOption("profile")?this.context.getOption("profile"):l.utils.action.detectProfile(this)}},prompt:{value:function(e){var t=function(){return e.apply(this,arguments)};return t.toString=function(){return e.toString()},t}(function(e){return prompt(e)})},getFilePath:{value:function(){return location.href}},isValidSyntax:{value:function(){return l.resources.hasSyntax(this.getSyntax())}}}),e}();n["default"]=c},{"./emmet":2}],2:[function(e,t){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},r=n(e("emmet"));e("emmet/bundles/snippets"),t.exports=r},{emmet:37,"emmet/bundles/snippets":3}],3:[function(e){var t=e("../lib/assets/resources"),n=e("../lib/snippets.json");t.setVocabulary(n,"system")},{"../lib/assets/resources":30,"../lib/snippets.json":66}],4:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e[e.length-1]}function n(e,t){var n=l.outputInfo(e),r=n.content,i=c(e.getSelectionRange());if(p&&!p.range.equal(i)&&(p=null),p&&i.length())if("in"==t){if("tag"==p.type&&!p.close)return!1;if(p.range.equal(p.outerRange))p.range=p.innerRange;else{var o=a.narrowToNonSpace(r,p.innerRange);p=s.find(r,o.start+1),p&&p.range.equal(i)&&p.outerRange.equal(i)&&(p.range=p.innerRange)}}else!p.innerRange.equal(p.outerRange)&&p.range.equal(p.innerRange)&&i.equal(p.range)?p.range=p.outerRange:(p=s.find(r,i.start),p&&p.range.equal(i)&&p.innerRange.equal(i)&&(p.range=p.outerRange));else p=s.find(r,i.start);return p&&(p.innerRange.equal(i)&&(p.range=p.outerRange),!p.range.equal(i))?(e.createSelection(p.range.start,p.range.end),!0):(p=null,!1)}function r(e,n){var r=[e.range(!0)];r.push(e.valueRange(!0));var i=h.nestedSectionsInRule(e),o=e.list();if(o.length||i.length){var s=Number.POSITIVE_INFINITY,a=-1;o.length&&(s=o[0].namePosition(!0),a=t(o).range(!0).end),i.length&&(i[0].start<s&&(s=i[0].start),t(i).end>a&&(a=t(i).end)),r.push(c.create2(s,a))}r=r.concat(i);var l=f.propertyFromPosition(e,n)||o[0];if(l){r.push(l.range(!0));var u=l.valueRange(!0);l.end()||(u._unterminated=!0),r.push(u)}return r}function i(e,t){var n;if("string"==typeof e){var i=h.matchEnclosingRule(e,t);i&&(n=f.parse(i.substring(e),{offset:i.start}))}else n=e;if(!n)return null;var o=r(n,t);return o=o.filter(function(e){return!!e.length}),a.unique(o,function(e){return e.valueOf()})}function o(e,n){var r=l.outputInfo(e),o=r.content,s=c(e.getSelectionRange()),u=i(r.content,s.start);if(!u&&s.length())try{var h=f.parse(s.substring(r.content),{offset:s.start});u=i(h,s.start)}catch(p){}if(!u)return!1;u=c.sort(u,!0);var d=a.find(u,function(e){return e.equal(s)});if(d||(d=a.find(u,function(e){return e._unterminated?e.include(s.start):e.inside(s.start)})),!d)return!1;var m=u.indexOf(d);if(d.equal(s)&&(m+="out"==n?1:-1),0>m||m>=u.length)if(m>=u.length&&"out"==n){pos=d.start-1;var g=i(o,pos);g&&(d=t(g.filter(function(e){return e.inside(pos)})))}else d=0>m&&"in"==n?null:null;else d=u[m];return d?(e.createSelection(d.start,d.end),!0):!1}var s=e("../assets/htmlMatcher"),a=e("../utils/common"),l=e("../utils/editor"),u=e("../utils/action"),c=e("../assets/range"),f=e("../editTree/css"),h=e("../utils/cssSections"),p=null;return{balance:function(e,t){t=String((t||"out").toLowerCase());var r=l.outputInfo(e);return u.isSupportedCSS(r.syntax)?o(e,t):n(e,t)},balanceInwardAction:function(e){return this.balance(e,"in")},balanceOutwardAction:function(e){return this.balance(e,"out")},goToMatchingPairAction:function(e){var t=String(e.getContent()),n=e.getCaretPos();"<"==t.charAt(n)&&n++;var r=s.tag(t,n);return r&&r.close?(e.setCaretPos(r.open.range.inside(n)?r.close.range.start:r.open.range.start),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../editTree/css":35,"../utils/action":68,"../utils/common":71,"../utils/cssSections":72,"../utils/editor":73}],5:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){return n=n||0,t.charAt(n)==e.charAt(0)&&t.substr(n,e.length)==e}function n(e,t,n){var r=e.getFilePath(),a="application/octet-stream";if(null===r)throw"You should save your file before using this action";var l=i.locateFile(r,t);if(null===l)throw"Can't find "+t+" file";return i.read(l,function(r,u){if(r)throw"Unable to read "+l+": "+r;var c=o.encode(String(u));if(!c)throw"Can't encode file content to base64";c="data:"+(s.mimeTypes[String(i.getExt(l))]||a)+";base64,"+c,e.replaceContent("$0"+c,n,n+t.length)}),!0}function r(e,t,n){var r=String(e.prompt("Enter path to file (absolute or relative)"));if(!r)return!1;var s=i.createPath(e.getFilePath(),r);if(!s)throw"Can't save file";return i.save(s,o.decode(t.replace(/^data\:.+?;.+?,/,""))),e.replaceContent("$0"+r,n,n+t.length),!0}var i=e("../plugin/file"),o=e("../utils/base64"),s=e("../utils/action"),a=e("../utils/editor");return{encodeDecodeDataUrlAction:function(e){var i=String(e.getSelection()),o=e.getCaretPos(),s=a.outputInfo(e);if(!i)for(var l,u=s.content;o-->=0;){if(t("src=",u,o)){(l=u.substr(o).match(/^(src=(["'])?)([^'"<>\s]+)\1?/))&&(i=l[3],o+=l[1].length);break}if(t("url(",u,o)){(l=u.substr(o).match(/^(url\((['"])?)([^'"\)\s]+)\1?/))&&(i=l[3],o+=l[1].length);break}}return i?t("data:",i)?r(e,i,o):n(e,i,o):!1}}})},{"../plugin/file":61,"../utils/action":68,"../utils/base64":69,"../utils/editor":73}],6:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e,t,n){function r(e){for(var t=e;t>=0;){var n=o.charAt(t);if("\n"==n||"\r"==n)break;t--}return o.substring(t,e)}t=t||1,n=n||0;for(var i=e.getCaretPos()+n,o=String(e.getContent()),s=o.length,a=-1,l=/^\s+$/;s>=i&&i>=0;){i+=t;var u=o.charAt(i),c=o.charAt(i+1),f=o.charAt(i-1);switch(u){case'"':case"'":c==u&&"="==f&&(a=i+1);break;case">":"<"==c&&(a=i+1);break;case"\n":case"\r":l.test(r(i-1))&&(a=i)}if(-1!=a)break}return a}return{previousEditPointAction:function(t){var n=t.getCaretPos(),r=e(t,-1);return r==n&&(r=e(t,-1,-2)),-1!=r?(t.setCaretPos(r),!0):!1},nextEditPointAction:function(t){var n=e(t,1);return-1!=n?(t.setCaretPos(n),!0):!1}}})},{}],7:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/action"),n=e("../utils/common"),r=e("../utils/math"),i=e("../assets/range");return{evaluateMathAction:function(e){var o=e.getContent(),s=".+-*/\\",a=i(e.getSelectionRange());if(a.length()||(a=t.findExpressionBounds(e,function(e){return n.isNumeric(e)||-1!=s.indexOf(e)})),a&&a.length()){var l=a.substring(o);l=l.replace(/([\d\.\-]+)\\([\d\.\-]+)/g,"round($1/$2)");try{var u=n.prettifyNumber(r.evaluate(l));return e.replaceContent(u,a.start,a.end),e.setCaretPos(a.start+u.length),!0}catch(c){}}return!1}}})},{"../assets/range":29,"../utils/action":68,"../utils/common":71,"../utils/math":74}],8:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=r(e.getSelectionRange()),n=String(e.getContent());if(t.length())return t.substring(n);var i=e.getCurrentLineRange();return a.extractAbbreviation(n.substring(i.start,t.start))}var n=e("../assets/handlerList"),r=e("../assets/range"),i=e("../assets/preferences"),o=e("../utils/common"),s=e("../utils/editor"),a=e("../utils/action"),l=e("../resolver/cssGradient"),u=e("../parser/abbreviation"),c=n.create();return c.add(function(e,n,r){var o=e.getSelectionRange().end,s=t(e);if(s){var l=u.expand(s,{syntax:n,profile:r,contextNode:a.captureContext(e)});if(l){var c=o-s.length,f=o,h=i.getArray("css.syntaxes");if(h&&~h.indexOf(n)){var p=e.getContent();";"==p.charAt(o)&&";"==l.charAt(l.length-1)&&f++}return e.replaceContent(l,c,f),!0}}return!1},{order:-1}),c.add(l.expandAbbreviationHandler.bind(l)),{expandAbbreviationAction:function(e,t,n){var r=o.toArray(arguments),i=s.outputInfo(e,t,n);return r[1]=i.syntax,r[2]=i.profile,c.exec(!1,r)},expandAbbreviationWithTabAction:function(e,t,n){var i=e.getSelection(),s="	";if(i){var a=r(e.getSelectionRange()),l=o.padString(i,s);e.replaceContent(s+"${0}",e.getCaretPos());var u=r(e.getCaretPos(),a.length());return e.replaceContent(l,u.start,u.end,!0),e.createSelection(u.start,u.start+l.length),!0}return this.expandAbbreviationAction(e,t,n)||e.replaceContent(s,e.getCaretPos()),!0},_defaultHandler:function(e,t,n){var r=e.getSelectionRange().end,i=this.findAbbreviation(e);if(i){var o=a.captureContext(e),s=u.expand(i,t,n,o);if(s)return e.replaceContent(s,r-i.length,r),!0}return!1},addHandler:function(e,t){c.add(e,t)},removeHandler:function(e){c.remove(e)},findAbbreviation:t}})},{"../assets/handlerList":24,"../assets/preferences":27,"../assets/range":29,"../parser/abbreviation":53,"../resolver/cssGradient":63,"../utils/action":68,"../utils/common":71,"../utils/editor":73}],9:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e=e.replace(/^\-/,""),~e.indexOf(".")?e.split(".")[0].length:e.length}var n=e("../utils/common"),r=e("../utils/action");return{increment01Action:function(e){return this.incrementNumber(e,.1)},increment1Action:function(e){return this.incrementNumber(e,1)},increment10Action:function(e){return this.incrementNumber(e,10)},decrement01Action:function(e){return this.incrementNumber(e,-.1)},decrement1Action:function(e){return this.incrementNumber(e,-1)},decrement10Action:function(e){return this.incrementNumber(e,-10)},incrementNumber:function(e,i){var o=!1,s=!1,a=r.findExpressionBounds(e,function(e,t,r){return n.isNumeric(e)?!0:"."==e?n.isNumeric(r.charAt(t+1))?s?!1:s=!0:!1:"-"==e?o?!1:o=!0:!1});if(a&&a.length()){var l=a.substring(String(e.getContent())),u=parseFloat(l);if(!isNaN(u)){if(u=n.prettifyNumber(u+i),/^(\-?)0+[1-9]/.test(l)){var c="";RegExp.$1&&(c="-",u=u.substring(1));var f=u.split(".");f[0]=n.zeroPadString(f[0],t(l)),u=c+f.join(".")}return e.replaceContent(u,a.start,a.end),e.createSelection(a.start,a.start+u.length),!0}}return!1}}})},{"../utils/action":68,"../utils/common":71}],10:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/preferences"),n=(e("../utils/common"),e("../assets/resources"),e("../assets/htmlMatcher"),e("../utils/editor"));return t.define("css.closeBraceIndentation","\n","Indentation before closing brace of CSS rule. Some users prefere indented closing brace of CSS rule for better readability. This preference\u2019s value will be automatically inserted before closing brace when user adds newline in newly created CSS rule (e.g. when \u201cInsert formatted linebreak\u201d action will be performed in CSS file). If you\u2019re such user, you may want to write put a value like <code>\\n\\t</code> in this preference."),{insertLineBreakAction:function(e){if(!this.insertLineBreakOnlyAction(e)){for(var t,r=n.getCurrentLinePadding(e),i=String(e.getContent()),o=e.getCaretPos(),s=i.length,a="\n",l=e.getCurrentLineRange(),u="",c=l.end+1;s>c&&(t=i.charAt(c)," "==t||"	"==t);c++)u+=t;u.length>r.length?e.replaceContent(a+u,o,o,!0):e.replaceContent(a,o)}return!0},insertLineBreakOnlyAction:function(){return!1}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/resources":30,"../utils/common":71,"../utils/editor":73}],11:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,r){e=e.toLowerCase(),r=r||{},"string"==typeof r&&(r={label:r}),r.label||(r.label=n(e)),i[e]={name:e,fn:t,options:r}}function n(e){return r.trim(e.charAt(0).toUpperCase()+e.substring(1).replace(/_[a-z]/g,function(e){return" "+e.charAt(1).toUpperCase()}))}var r=e("../utils/common"),i={},o={base64:e("./base64"),editPoints:e("./editPoints"),evaluateMath:e("./evaluateMath"),expandAbbreviation:e("./expandAbbreviation"),incrementDecrement:e("./incrementDecrement"),lineBreaks:e("./lineBreaks"),balance:e("./balance"),mergeLines:e("./mergeLines"),reflectCSSValue:e("./reflectCSSValue"),removeTag:e("./removeTag"),selectItem:e("./selectItem"),selectLine:e("./selectLine"),splitJoinTag:e("./splitJoinTag"),toggleComment:e("./toggleComment"),updateImageSize:e("./updateImageSize"),wrapWithAbbreviation:e("./wrapWithAbbreviation"),updateTag:e("./updateTag")},s=function(e,t){var n=o[e];return n[t].bind(n)};return t("encode_decode_data_url",s("base64","encodeDecodeDataUrlAction"),"Encode\\Decode data:URL image"),t("prev_edit_point",s("editPoints","previousEditPointAction"),"Previous Edit Point"),t("next_edit_point",s("editPoints","nextEditPointAction"),"Next Edit Point"),t("evaluate_math_expression",s("evaluateMath","evaluateMathAction"),"Numbers/Evaluate Math Expression"),t("expand_abbreviation_with_tab",s("expandAbbreviation","expandAbbreviationWithTabAction"),{hidden:!0}),t("expand_abbreviation",s("expandAbbreviation","expandAbbreviationAction"),"Expand Abbreviation"),t("insert_formatted_line_break_only",s("lineBreaks","insertLineBreakOnlyAction"),{hidden:!0}),t("insert_formatted_line_break",s("lineBreaks","insertLineBreakAction"),{hidden:!0}),t("balance_inward",s("balance","balanceInwardAction"),"Balance (inward)"),t("balance_outward",s("balance","balanceOutwardAction"),"Balance (outward)"),t("matching_pair",s("balance","goToMatchingPairAction"),"HTML/Go To Matching Tag Pair"),t("merge_lines",s("mergeLines","mergeLinesAction"),"Merge Lines"),t("reflect_css_value",s("reflectCSSValue","reflectCSSValueAction"),"CSS/Reflect Value"),t("remove_tag",s("removeTag","removeTagAction"),"HTML/Remove Tag"),t("select_next_item",s("selectItem","selectNextItemAction"),"Select Next Item"),t("select_previous_item",s("selectItem","selectPreviousItemAction"),"Select Previous Item"),t("update_image_size",s("updateImageSize","updateImageSizeAction"),"Update Image Size"),t("wrap_with_abbreviation",s("wrapWithAbbreviation","wrapWithAbbreviationAction"),"Wrap With Abbreviation"),t("update_tag",s("updateTag","updateTagAction"),"HTML/Update Tag"),[1,-1,10,-10,.1,-.1].forEach(function(e){var n=e>0?"increment":"decrement",r=String(Math.abs(e)).replace(".","").substring(0,2),i=n+"_number_by_"+r,o=n+r+"Action",a="Numbers/"+n.charAt(0).toUpperCase()+n.substring(1)+" number by "+Math.abs(e);t(i,s("incrementDecrement",o),a)}),{add:t,get:function(e){return i[e.toLowerCase()]},run:function(e,t){Array.isArray(t)||(t=r.toArray(arguments,1));var n=this.get(e);if(!n)throw new Error('Action "'+e+'" is not defined');return n.fn.apply(n,t)},getAll:function(){return i},getList:function(){var e=this.getAll();return Object.keys(e).map(function(t){return e[t]})},getMenu:function(e){var t=[];return e=e||[],this.getList().forEach(function(i){if(!i.options.hidden&&!~e.indexOf(i.name)){var o=n(i.name),s=t;if(i.options.label){var a=i.options.label.split("/");o=a.pop();for(var l,u;l=a.shift();)u=r.find(s,function(e){return"submenu"==e.type&&e.name==l}),u||(u={name:l,type:"submenu",items:[]},s.push(u)),s=u.items}s.push({type:"action",name:i.name,label:o})}}),t},getActionNameForMenuTitle:function(e,t){return r.find(t||this.getMenu(),function(t){return"action"!=t.type?this.getActionNameForMenuTitle(e,t.items):t.label==e||t.name==e?t.name:void 0},this)}}})},{"../utils/common":71,"./balance":4,"./base64":5,"./editPoints":6,"./evaluateMath":7,"./expandAbbreviation":8,"./incrementDecrement":9,"./lineBreaks":10,"./mergeLines":12,"./reflectCSSValue":13,"./removeTag":14,"./selectItem":15,"./selectLine":16,"./splitJoinTag":17,"./toggleComment":18,"./updateImageSize":19,"./updateTag":20,"./wrapWithAbbreviation":21}],12:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/htmlMatcher"),n=e("../utils/common"),r=e("../utils/editor"),i=e("../assets/range");return{mergeLinesAction:function(e){var o=r.outputInfo(e),s=i(e.getSelectionRange());if(!s.length()){var a=t.find(o.content,e.getCaretPos());a&&(s=a.outerRange)}if(s.length()){for(var l=s.substring(o.content),u=n.splitByLines(l),c=1;c<u.length;c++)u[c]=u[c].replace(/^\s+/,"");l=u.join("").replace(/\s{2,}/," ");
var f=l.length;return l=n.escapeText(l),e.replaceContent(l,s.start,s.end),e.createSelection(s.start,s.start+f),!0}return!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../utils/common":71,"../utils/editor":73}],13:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){var t=d.outputInfo(e),n=e.getCaretPos(),r=f.parseFromPosition(t.content,n);if(r){var i=r.itemFromPosition(n,!0);if(i){var o=r.source,s=r.options.offset,a=n-s-i.range().start;return g.exec(!1,[i]),o!==r.source?{data:r.source,start:s,end:s+o.length,caret:s+i.range().start+a}:void 0}}}function i(e){e=f.baseName(e);var t,n="^(?:\\-\\w+\\-)?";return new RegExp("opacity"!=e&&"filter"!=e||!u.get("css.reflect.oldIEOpacity")?(t=e.match(/^border-radius-(top|bottom)(left|right)/))?n+"(?:"+e+"|border-"+t[1]+"-"+t[2]+"-radius)$":(t=e.match(/^border-(top|bottom)-(left|right)-radius/))?n+"(?:"+e+"|border-radius-"+t[1]+t[2]+")$":n+e+"$":n+"(?:opacity|filter)$")}function o(e,t){var n=/^\-(\w+)\-/,r=n.test(e)?RegExp.$1.toLowerCase():"",i=f.findParts(t);return i.reverse(),i.forEach(function(e){var i=e.substring(t).replace(n,""),o=c.vendorPrefixes(i);o&&(r&&~o.indexOf(r)&&(i="-"+r+"-"+i),t=h.replaceSubstring(t,i,e))}),t}function s(e,t){var n=a(e.name(),e.value(),t.name(),t.value());n=o(t.name(),n),t.value(n)}function a(e,t,n,r){if(e=f.baseName(e),n=f.baseName(n),"opacity"==e&&"filter"==n)return r.replace(/opacity=[^)]*/i,"opacity="+Math.floor(100*parseFloat(t)));if("filter"==e&&"opacity"==n){var i=t.match(/opacity=([^)]*)/i);return i?h.prettifyNumber(parseInt(i[1],10)/100):r}return t}var l=e("../assets/handlerList"),u=e("../assets/preferences"),c=e("../resolver/css"),f=e("../editTree/css"),h=e("../utils/common"),p=e("../utils/action"),d=e("../utils/editor"),m=e("../resolver/cssGradient");u.define("css.reflect.oldIEOpacity",!1,"Support IE6/7/8 opacity notation, e.g. <code>filter:alpha(opacity=...)</code>.		Note that CSS3 and SVG also provides <code>filter</code> property so this option is disabled by default.");var g=l.create();return n=n||{},n.exports={reflectCSSValueAction:function(e){return"css"!=e.getSyntax()?!1:p.compoundUpdate(e,r(e))},_defaultHandler:function(e){var t=i(e.name());e.parent.list().forEach(function(n){t.test(n.name())&&s(e,n)})},addHandler:function(e,t){g.add(e,t)},removeHandler:function(e){g.remove(e)}},g.add(n.exports._defaultHandler.bind(n.exports),{order:-1}),g.add(m.reflectValueHandler.bind(m)),n.exports})},{"../assets/handlerList":24,"../assets/preferences":27,"../editTree/css":35,"../resolver/css":62,"../resolver/cssGradient":63,"../utils/action":68,"../utils/common":71,"../utils/editor":73}],14:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n=e("../utils/editor"),r=e("../assets/htmlMatcher");return{removeTagAction:function(e){var i=n.outputInfo(e),o=r.tag(i.content,e.getCaretPos());if(o){if(o.close){var s=t.narrowToNonSpace(i.content,o.innerRange),a=t.findNewlineBounds(i.content,s.start),l=t.getLinePadding(a.substring(i.content)),u=s.substring(i.content);u=t.unindentString(u,l),e.replaceContent(t.getCaretPlaceholder()+t.escapeText(u),o.outerRange.start,o.outerRange.end)}else e.replaceContent(t.getCaretPlaceholder(),o.range.start,o.range.end);return!0}return!1}}})},{"../assets/htmlMatcher":25,"../utils/common":71,"../utils/editor":73}],15:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n,r){for(var i,o,s=y.outputInfo(e).content,a=s.length,l=v(-1,0),u=v(e.getSelectionRange()),c=u.start,f=1e5;c>=0&&a>c&&--f>0;){if(i=n(s,c,t)){if(l.equal(i))break;if(l=i.clone(),o=r(i.substring(s),i.start,u.clone()))return e.createSelection(o.start,o.end),!0;c=t?i.start:i.end-1}c+=t?-1:1}return!1}function n(e){var n=!0;return t(e,!1,function(e,t){return n?(n=!1,a(e,t)):l(e,t)},function(e,t,n){return s(e,t,n,!1)})}function r(e){return t(e,!0,l,function(e,t,n){return s(e,t,n,!0)})}function i(e,t,n){n=n||0;var r,i,s=[],a=-1,l="",c="";return t.forEach(function(t){switch(t.type){case"tag":i=e.substring(t.start,t.end),/^<[\w\:\-]/.test(i)&&s.push(v({start:t.start+1,end:t.end}));break;case"attribute":a=t.start,l=e.substring(t.start,t.end);break;case"string":s.push(v(a,t.end-a)),r=v(t),c=r.substring(e),u(c.charAt(0))&&r.start++,u(c.charAt(c.length-1))&&r.end--,s.push(r),"class"==l&&(s=s.concat(o(r.substring(e),r.start)))}}),s=s.filter(function(e){return e.length()?(e.shift(n),!0):void 0}),b.unique(s,function(e){return e.toString()})}function o(e,t){t=t||0;var n=[],r=w.create(e);r.eatSpace(),r.start=r.pos;for(var i;i=r.next();)/[\s\u00a0]/.test(i)&&(n.push(v(r.start+t,r.pos-r.start-1)),r.eatSpace(),r.start=r.pos);return n.push(v(r.start+t,r.pos-r.start)),n}function s(e,t,n,r){var o=i(e,C.parse(e),t);r&&o.reverse();var s=b.find(o,function(e){return e.equal(n)});if(s){var a=o.indexOf(s);return a<o.length-1?o[a+1]:null}if(r)return b.find(o,function(e){return e.start<n.start});if(!s){var l=o.filter(function(e){return e.inside(n.end)});if(l.length>1)return l[1]}return b.find(o,function(e){return e.end>n.end})}function a(e,t){for(var n;t>=0;){if(n=l(e,t))return n;t--}return null}function l(e,t){var n;return"<"==e.charAt(t)&&(n=e.substring(t,e.length).match(k))?v(t,n[0]):void 0}function u(e){return'"'==e||"'"==e}function c(e){var t=[e.nameRange(!0)],n=D.nestedSectionsInRule(e);return n.forEach(function(e){t.push(v.create2(e.start,e._selectorEnd))}),e.list().forEach(function(e){t=t.concat(f(e))}),t=v.sort(t),t=t.filter(function(e){return!!e.length()}),b.unique(t,function(e){return e.toString()})}function f(e){var t=e.valueRange(!0),n=[e.range(!0),t],r=e.value();return e.valueParts().forEach(function(e){var i=e.clone();n.push(i.shift(t.start));var o=w.create(e.substring(r));if(o.match(/^[\w\-]+\(/,!0)){o.start=o.pos,o.backUp(1),o.skipToPair("(",")"),o.backUp(1);var s=o.current();n.push(v(i.start+o.start,s)),S.findParts(s).forEach(function(e){n.push(v(i.start+o.start+e.start,e.substring(s)))})}}),n}function h(e,t,n){var r=c(e);n&&r.reverse();var i=b.find(r,function(e){return e.equal(t)});if(i)return r[r.indexOf(i)+1];var o=r.filter(function(e){return e.inside(t.end)});if(o.length)return o.sort(function(e,t){return e.length()-t.length()})[0];i=b.find(r,n?function(e){return e.end<t.start}:function(e){return e.end>t.start});return i||(i=r[0]),i}function p(e){return t(e,!1,D.locateRule.bind(D),m)}function d(e){return t(e,!0,D.locateRule.bind(D),g)}function m(e,t,n){var r=S.parse(e,{offset:t});return h(r,n,!1)}function g(e,t,n){var r=S.parse(e,{offset:t});return h(r,n,!0)}var v=e("../assets/range"),b=e("../utils/common"),y=e("../utils/editor"),x=e("../utils/action"),w=e("../assets/stringStream"),C=e("../parser/xml"),S=e("../editTree/css"),D=e("../utils/cssSections"),k=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/;return{selectNextItemAction:function(e){return x.isSupportedCSS(e.getSyntax())?p(e):n(e)},selectPreviousItemAction:function(e){return x.isSupportedCSS(e.getSyntax())?d(e):r(e)}}})},{"../assets/range":29,"../assets/stringStream":31,"../editTree/css":35,"../parser/xml":60,"../utils/action":68,"../utils/common":71,"../utils/cssSections":72,"../utils/editor":73}],16:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{selectLineAction:function(e){var t=e.getCurrentLineRange();return e.createSelection(t.start,t.end),!0}}})},{}],17:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var i=t.selfClosing()||" /",o=n.open.range.substring(n.source).replace(/\s*>$/,i+">"),s=e.getCaretPos();return o.length+n.outerRange.start<s&&(s=o.length+n.outerRange.start),o=r.escapeText(o),e.replaceContent(o,n.outerRange.start,n.outerRange.end),e.setCaretPos(s),!0}function n(e,t,n){var i=e.getCaretPos(),o=t.tag_nl===!0?"\n	\n":"",s=n.outerContent().replace(/\s*\/>$/,">");return i=n.outerRange.start+s.length,s+=o+"</"+n.open.name+">",s=r.escapeText(s),e.replaceContent(s,n.outerRange.start,n.outerRange.end),e.setCaretPos(i),!0}var r=e("../utils/common"),i=(e("../assets/resources"),e("../assets/htmlMatcher")),o=e("../utils/editor"),s=e("../assets/profile");return{splitJoinTagAction:function(e,r){var a=o.outputInfo(e,null,r),l=s.get(a.profile),u=i.tag(a.content,e.getCaretPos());return u?u.close?t(e,l,u):n(e,l,u):!1}}})},{"../assets/htmlMatcher":25,"../assets/profile":28,"../assets/resources":30,"../utils/common":71,"../utils/editor":73}],18:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=a(e.getSelectionRange()),n=c.outputInfo(e);if(!t.length()){var r=f.tag(n.content,e.getCaretPos());r&&(t=r.outerRange)}return o(e,"<!--","-->",t)}function n(e){var t=a(e.getSelectionRange()),n=c.outputInfo(e);if(!t.length()){var i=h.parseFromPosition(n.content,e.getCaretPos());if(i){var s=r(i,e.getCaretPos());t=s?s.range(!0):a(i.nameRange(!0).start,i.source)}}return t.length()||(t=a(e.getCurrentLineRange()),l.narrowToNonSpace(n.content,t)),o(e,"/*","*/",t)}function r(e,t){var n=t-(e.options.offset||0),r=/^[\s\n\r]/;return l.find(e.list(),function(t){return t.range().end===n?r.test(e.source.charAt(n)):t.range().inside(n)})}function i(e,t,n,r){for(var i=-1,o=-1,s=function(t,n){return e.substr(n,t.length)==t};t--;)if(s(n,t)){i=t;break}if(-1!=i){t=i;for(var l=e.length;l>=t++;)if(s(r,t)){o=t+r.length;break}}return-1!=i&&-1!=o?a(i,o-i):null}function o(e,t,n,r){function o(e){return e.replace(new RegExp("^"+l.escapeForRegexp(t)+"\\s*"),function(e){return a-=e.length,""}).replace(new RegExp("\\s*"+l.escapeForRegexp(n)+"$"),"")}var s=c.outputInfo(e).content,a=e.getCaretPos(),u=null,f=i(s,a,t,n);return f&&f.overlap(r)?(r=f,u=o(r.substring(s))):(u=t+" "+r.substring(s).replace(new RegExp(l.escapeForRegexp(t)+"\\s*|\\s*"+l.escapeForRegexp(n),"g"),"")+" "+n,a+=t.length+1),null!==u?(u=l.escapeText(u),e.setCaretPos(r.start),e.replaceContent(c.unindent(e,u),r.start,r.end),e.setCaretPos(a),!0):!1}var s=e("../assets/preferences"),a=e("../assets/range"),l=e("../utils/common"),u=e("../utils/action"),c=e("../utils/editor"),f=e("../assets/htmlMatcher"),h=e("../editTree/css");return{toggleCommentAction:function(e){var r=c.outputInfo(e);if(u.isSupportedCSS(r.syntax)){var i=e.getCaretPos(),o=f.tag(r.content,i);o&&o.open.range.inside(i)&&(r.syntax="html")}var a=s.getArray("css.syntaxes");return~a.indexOf(r.syntax)?n(e):t(e)}}})},{"../assets/htmlMatcher":25,"../assets/preferences":27,"../assets/range":29,"../editTree/css":35,"../utils/action":68,"../utils/common":71,"../utils/editor":73}],19:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=e.getCaretPos(),n=o.outputInfo(e),l=a.parseFromPosition(n.content,t,!0);l&&"img"==(l.name()||"").toLowerCase()&&r(e,l.value("src"),function(n){if(n){var r=l.range(!0);l.value("width",n.width),l.value("height",n.height,l.indexOf("width")+1),s.compoundUpdate(e,i.extend(r,{data:l.toString(),caret:t}))}})}function n(e){var t=e.getCaretPos(),n=o.outputInfo(e),a=l.parseFromPosition(n.content,t,!0);if(a){var u,c=a.itemFromPosition(t,!0);c&&(u=/url\((["']?)(.+?)\1\)/i.exec(c.value()||""))&&r(e,u[2],function(n){if(n){var r=a.range(!0);a.value("width",n.width+"px"),a.value("height",n.height+"px",a.indexOf("width")+1),s.compoundUpdate(e,i.extend(r,{data:a.toString(),caret:t}))}})}}function r(e,t,n){var r;if(t){if(/^data:/.test(t))return r=u.decode(t.replace(/^data\:.+?;.+?,/,"")),n(s.getImageSize(r));var i=c.locateFile(e.getFilePath(),t);if(null===i)throw"Can't find "+t+" file";c.read(i,function(e,t){if(e)throw"Unable to read "+i+": "+e;t=String(t),n(s.getImageSize(t))})}}var i=e("../utils/common"),o=e("../utils/editor"),s=e("../utils/action"),a=e("../editTree/xml"),l=e("../editTree/css"),u=e("../utils/base64"),c=e("../plugin/file");return{updateImageSizeAction:function(e){return s.isSupportedCSS(e.getSyntax())?n(e):t(e),!0}}})},{"../editTree/css":35,"../editTree/xml":36,"../plugin/file":61,"../utils/action":68,"../utils/base64":69,"../utils/common":71,"../utils/editor":73}],20:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var r=(t.attribute("class")||"").split(/\s+/g);n&&r.push("+"+t.name());var o=function(e){return i.replaceCounter(e,t.counter)};r.forEach(function(t){if(t){t=o(t);var n=t.charAt(0);"+"==n?e.addClass(t.substr(1)):"-"==n?e.removeClass(t.substr(1)):e.value("class",t)}}),t.attributeList().forEach(function(t){if("class"!=t.name.toLowerCase()){var n=t.name.charAt(0);if("+"==n){var r=t.name.substr(1),i=e.get(r);i?i.value(i.value()+o(t.value)):e.value(r,o(t.value))}else"-"==n?e.remove(t.name.substr(1)):e.value(t.name,o(t.value))}})}var n=e("../editTree/xml"),r=(e("../utils/editor"),e("../utils/action")),i=e("../utils/common"),o=e("../parser/abbreviation");return{updateTagAction:function(e,t){if(t=t||e.prompt("Enter abbreviation"),!t)return!1;var n=e.getContent(),i=r.captureContext(e),o=this.getUpdatedTag(t,i,n);return o?(o.name()!=i.name&&i.match.close&&e.replaceContent("</"+o.name()+">",i.match.close.range.start,i.match.close.range.end,!0),e.replaceContent(o.source,i.match.open.range.start,i.match.open.range.end,!0),!0):!1},getUpdatedTag:function(e,r,i,s){if(!r)return null;var a=o.parse(e,s||{}),l=n.parse(r.match.open.range.substring(i),{offset:r.match.outerRange.start});a.children.forEach(function(e,n){t(l,e,n)});var u=a.children[0];return u.data("nameResolved")||l.name(u.name()),l}}})},{"../editTree/xml":36,"../parser/abbreviation":53,"../utils/action":68,"../utils/common":71,"../utils/editor":73}],21:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/range"),n=e("../assets/htmlMatcher"),r=e("../utils/common"),i=e("../utils/editor"),o=e("../utils/action"),s=e("../parser/abbreviation");return{wrapWithAbbreviationAction:function(e,a,l,u){var c=i.outputInfo(e,l,u);if(a=a||e.prompt("Enter abbreviation"),!a)return null;a=String(a);var f=t(e.getSelectionRange());if(!f.length()){var h=n.tag(c.content,f.start);if(!h)return!1;f=r.narrowToNonSpace(c.content,h.range)}var p=r.escapeText(f.substring(c.content)),d=s.expand(a,{pastedContent:i.unindent(e,p),syntax:c.syntax,profile:c.profile,contextNode:o.captureContext(e)});return d?(e.replaceContent(d,f.start,f.end),!0):!1}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../parser/abbreviation":53,"../utils/action":68,"../utils/common":71,"../utils/editor":73}],22:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){var n=[],r=e,i=t;return r.length>i.length&&(r=t,i=e),i.forEach(function(e){~r.indexOf(e)&&n.push(e)}),n}function n(e,t){"string"==typeof e&&(e=JSON.parse(e)),t||(e=i(e)),d=e.vendors,p=e.css,m=e.era}function i(e){return"string"==typeof e&&(e=JSON.parse(e)),{vendors:o(e),css:s(e),era:a(e)}}function o(e){var t={};return Object.keys(e.agents).forEach(function(n){var r=e.agents[n];t[n]={prefix:r.prefix,versions:r.versions}}),t}function s(e){{var t={};e.cats.CSS}return Object.keys(e.data).forEach(function(n){var r=e.data[n];n in h&&h[n].forEach(function(e){t[e]=r.stats})}),t}function a(e){return Object.keys(e.eras).sort(function(e,t){return parseInt(e.substr(1))-parseInt(t.substr(1))})}function l(){var e=Object.keys(d),n=c.getArray("caniuse.vendors");return n&&"all"!=n[0]?t(e,n):e}function u(){var e=c.get("caniuse.era"),t=m.indexOf(e);return~t||(t=m.indexOf("e-2")),t}var c=e("./preferences"),f=e("../utils/common");c.define("caniuse.enabled",!0,"Enable support of Can I Use database. When enabled,		CSS abbreviation resolver will look at Can I Use database first before detecting		CSS properties that should be resolved"),c.define("caniuse.vendors","all","A comma-separated list vendor identifiers		(as described in Can I Use database) that should be supported		when resolving vendor-prefixed properties. Set value to <code>all</code>		to support all available properties"),c.define("caniuse.era","e-2","Browser era, as defined in Can I Use database.		Examples: <code>e0</code> (current version), <code>e1</code> (near future)		<code>e-2</code> (2 versions back) and so on.");var h={"border-image":["border-image"],"css-boxshadow":["box-shadow"],"css3-boxsizing":["box-sizing"],multicolumn:["column-width","column-count","columns","column-gap","column-rule-color","column-rule-style","column-rule-width","column-rule","column-span","column-fill"],"border-radius":["border-radius","border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],transforms2d:["transform"],"css-hyphens":["hyphens"],"css-transitions":["transition","transition-property","transition-duration","transition-timing-function","transition-delay"],"font-feature":["font-feature-settings"],"css-animation":["animation","animation-name","animation-duration","animation-timing-function","animation-iteration-count","animation-direction","animation-play-state","animation-delay","animation-fill-mode","@keyframes"],"css-gradients":["linear-gradient"],"css-masks":["mask-image","mask-source-type","mask-repeat","mask-position","mask-clip","mask-origin","mask-size","mask","mask-type","mask-box-image-source","mask-box-image-slice","mask-box-image-width","mask-box-image-outset","mask-box-image-repeat","mask-box-image","clip-path","clip-rule"],"css-featurequeries":["@supports"],flexbox:["flex","inline-flex","flex-direction","flex-wrap","flex-flow","order","flex"],calc:["calc"],"object-fit":["object-fit","object-position"],"css-grid":["grid","inline-grid","grid-template-rows","grid-template-columns","grid-template-areas","grid-template","grid-auto-rows","grid-auto-columns"," grid-auto-flow","grid-auto-position","grid"," grid-row-start","grid-column-start","grid-row-end","grid-column-end","grid-column","grid-row","grid-area","justify-self","justify-items","align-self","align-items"],"css-repeating-gradients":["repeating-linear-gradient"],"css-filters":["filter"],"user-select-none":["user-select"],"intrinsic-width":["min-content","max-content","fit-content","fill-available"],"css3-tabsize":["tab-size"]},p=null,d=null,m=null,g=null;return function(e){if("undefined"==typeof r||!r.amd)try{var t=e("fs"),n=e("path");g=t.readFileSync(n.join(__dirname,"../caniuse.json"),{encoding:"utf8"})}catch(i){}}(e),g&&n(g),{load:n,optimize:i,resolvePrefixes:function(e){if(!(c.get("caniuse.enabled")&&p&&e in p))return null;var t=[],n=p[e],r=u();return l().forEach(function(e){for(var i,o=d[e].versions.slice(r),s=0;s<o.length;s++)if(i=o[s],i&&~n[e][i].indexOf("x")){t.push(d[e].prefix);break}}),f.unique(t).sort(function(e,t){return t.length-e.length})}}})},{"../utils/common":71,"./preferences":27}],23:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){return{data:e}}var i={},o=/([@\!]?)([\w\-:]+)\s*=\s*(['"])(.*?)\3/g;return n=n||{},n.exports={add:function(e,t){var n=this;i[e]=function(){var r=t.apply(n,arguments);return r&&(r.type=e),r}},get:function(e){return i[e]},create:function(e){var t=[].slice.call(arguments,1),n=this.get(e);return n?n.apply(this,t):null},is:function(e,t){return this.type(e)===t},type:function(e){return e&&e.type}},n.exports.add("element",function(e,t,n){var r={name:e,is_empty:!!n};if(t)if(r.attributes=[],Array.isArray(t))r.attributes=t;else if("string"==typeof t)for(var i;i=o.exec(t);)r.attributes.push({name:i[2],value:i[4],isDefault:"@"==i[1],isImplied:"!"==i[1]});else r.attributes=Object.keys(t).map(function(e){return{name:e,value:t[e]}});return r}),n.exports.add("snippet",r),n.exports.add("reference",r),n.exports.add("empty",function(){return{}}),n.exports})},{}],24:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){this._list=[]}var n=e("../utils/common");return t.prototype={add:function(e,t){var r=this._list.length;t&&"order"in t&&(r=1e4*t.order),this._list.push(n.extend({},t,{order:r,fn:e}))},remove:function(e){var t=n.find(this._list,function(t){return t.fn===e});t&&this._list.splice(this._list.indexOf(t),1)},list:function(){return this._list.sort(function(e,t){return t.order-e.order})},listFn:function(){return this.list().map(function(e){return e.fn})},exec:function(e,t){t=t||[];var r=null;return n.find(this.list(),function(n){return r=n.fn.apply(n,t),r!==e?!0:void 0}),r}},{create:function(){return new t}}})},{"../utils/common":71}],25:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){return{name:t[1],selfClose:!!t[3],range:a(e,t[0]),type:"open"}}function n(e,t){return{name:t[1],range:a(e,t[0]),type:"close"}}function r(e,t){return{range:a(e,"number"==typeof t?t-e:t[0]),type:"comment"}}function i(e){var r,i={};return{open:function(e){var t=this.matches(e);return t&&"open"==t.type?t:null},close:function(e){var t=this.matches(e);return t&&"close"==t.type?t:null},matches:function(o){var s="p"+o;if(!(s in i)&&(i[s]=!1,"<"==e.charAt(o))){var a=e.slice(o);(r=a.match(l))?i[s]=t(o,r):(r=a.match(u))&&(i[s]=n(o,r))}return i[s]},text:function(){return e},clean:function(){i=e=r=null}}}function o(e,t,n){return e.substring(t,t+n.length)==n}function s(e,t){for(var n=[],r=null,i=t.text(),s=e.range.end,a=i.length;a>s;s++){if(o(i,s,"<!--"))for(var l=s;a>l;l++)if(o(i,l,"-->")){s=l+3;break}if(r=t.matches(s)){if("open"!=r.type||r.selfClose){if("close"==r.type){if(!n.length)return r.name==e.name?r:null;if(n[n.length-1]==r.name)n.pop();else{for(var u=!1;n.length&&!u;){var c=n.pop();c==r.name&&(u=!0)}if(!n.length&&!u)return r.name==e.name?r:null}}}else n.push(r.name);s=r.range.end-1}}}var a=e("./range"),l=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,u=/^<\/([\w\:\-]+)[^>]*>/;return{find:function(e,t){for(var n,l,u=i(e),c=null,f=null,h=t;h>=0;h--)if(c=u.open(h)){if(c.selfClose){if(c.range.cmp(t,"lt","gt"))break;continue}if(f=s(c,u)){var p=a.create2(c.range.start,f.range.end);if(p.contains(t))break}else if(c.range.contains(t))break;c=null}else if(o(e,h,"-->")){for(n=h-1;n>=0&&!o(e,n,"-->");n--)if(o(e,n,"<!--")){h=n;break}}else if(o(e,h,"<!--")){for(n=h+4,l=e.length;l>n;n++)if(o(e,n,"-->")){n+=3;break}c=r(h,n);break}if(u.clean(),c){var d=null,m=null;if(f?(d=a.create2(c.range.start,f.range.end),m=a.create2(c.range.end,f.range.start)):d=m=a.create2(c.range.start,c.range.end),"comment"==c.type){var g=d.substring(e);m.start+=g.length-g.replace(/^<\!--\s*/,"").length,m.end-=g.length-g.replace(/\s*-->$/,"").length}return{open:c,close:f,type:"comment"==c.type?"comment":"tag",innerRange:m,innerContent:function(){return this.innerRange.substring(e)},outerRange:d,outerContent:function(){return this.outerRange.substring(e)},range:m.length()&&m.cmp(t,"lte","gte")?m:d,content:function(){return this.range.substring(e)},source:e}}},tag:function(e,t){var n=this.find(e,t);return n&&"tag"==n.type?n:void 0}}})},{"./range":29}],26:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{log:function(){"undefined"!=typeof console&&console.log&&console.log.apply(console,arguments)}}})},{}],27:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return"string"==typeof e?(e=e.toLowerCase(),"yes"==e||"true"==e||"1"==e):!!e}function n(e){return"object"==typeof e&&!Array.isArray(e)&&"value"in e&&Object.keys(e).length<3}var r=e("../utils/common"),i={},o={},s=null,a=null;return{define:function(e,t,r){var i=e;"string"==typeof e&&(i={},i[e]={value:t,description:r}),Object.keys(i).forEach(function(e){var t=i[e];o[e]=n(t)?t:{value:t}})},set:function(e,n){var r=e;"string"==typeof e&&(r={},r[e]=n),Object.keys(r).forEach(function(e){var n=r[e];if(!(e in o))throw new Error('Property "'+e+'" is not defined. You should define it first with `define` method of current module');if(n!==o[e].value){switch(typeof o[e].value){case"boolean":n=t(n);break;case"number":n=parseInt(n+"",10)||0;break;default:null!==n&&(n+="")}i[e]=n}else e in i&&delete i[e]})},get:function(e){return e in i?i[e]:e in o?o[e].value:void 0},getArray:function(e){var t=this.get(e);return"undefined"==typeof t||null===t||""===t?null:(t=t.split(",").map(r.trim),t.length?t:null)},getDict:function(e){var t={};return this.getArray(e).forEach(function(e){var n=e.split(":");t[n[0]]=n[1]}),t},description:function(e){return e in o?o[e].description:void 0},remove:function(e){Array.isArray(e)||(e=[e]),e.forEach(function(e){e in i&&delete i[e],e in o&&delete o[e]})},list:function(){return Object.keys(o).sort().map(function(e){return{name:e,value:this.get(e),type:typeof o[e].value,description:o[e].description}},this)},load:function(e){Object.keys(e).forEach(function(t){this.set(t,e[t])},this)},exportModified:function(){return r.extend({},i)},reset:function(){i={}},_startTest:function(){s=o,a=i,o={},i={}},_stopTest:function(){o=s,i=a}}})},{"../utils/common":71}],28:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){o.extend(this,u,e)}function n(e,t){switch(String(t||"").toLowerCase()){case"lower":return e.toLowerCase();case"upper":return e.toUpperCase()}return e}function r(e,n){return l[e.toLowerCase()]=new t(n)}function i(){r("xhtml"),r("html",{self_closing_tag:!1,compact_bool:!0}),r("xml",{self_closing_tag:!0,tag_nl:!0}),r("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),r("line",{tag_nl:!1,indent:!1,extraFilters:"s"}),r("css",{tag_nl:!0}),r("css_line",{tag_nl:!1})}var o=e("../utils/common"),s=e("./resources"),a=e("./preferences");a.define("profile.allowCompactBoolean",!0,'This option can be used to globally disable compact form of boolean attribues (attributes where name and value are equal). With compactform enabled, HTML tags can be outputted as <code>&lt;div contenteditable&gt;</code> instead of <code>&lt;div contenteditable="contenteditable"&gt;</code>'),a.define("profile.booleanAttributes","^contenteditable|seamless$","A regular expression for attributes that should be boolean by default.If attribute name matches this expression, you don\u2019t have to write dot after attribute name in Emmet abbreviation to mark it as boolean.");var l={},u={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,compact_bool:!1,self_closing_tag:"xhtml",filters:"",extraFilters:""};return t.prototype={tagName:function(e){return n(e,this.tag_case)},attributeName:function(e){return n(e,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:function(){return"xhtml"==this.self_closing_tag?" /":this.self_closing_tag===!0?"/":""},cursor:function(){return this.place_cursor?o.getCaretPlaceholder():""},isBoolean:function(e,t){if(e==t)return!0;var n=a.get("profile.booleanAttributes");return!t&&n?(n=new RegExp(n,"i"),n.test(e)):!1},allowCompactBoolean:function(){return this.compact_bool&&a.get("profile.allowCompactBoolean")}},i(),{create:function(e,n){return 2==arguments.length?r(e,n):new t(o.defaults(e||{},u))},get:function(e,n){if(!e&&n){var r=s.findItem(n,"profile");r&&(e=r)}return e?e instanceof t?e:"string"==typeof e&&e.toLowerCase()in l?l[e.toLowerCase()]:this.create(e):l.plain},remove:function(e){e=(e||"").toLowerCase(),e in l&&delete l[e]},reset:function(){l={},i()},stringCase:n}})},{"../utils/common":71,"./preferences":27,"./resources":30}],29:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t,n){switch(n){case"eq":case"==":return e===t;case"lt":case"<":return t>e;case"lte":case"<=":return t>=e;case"gt":case">":return e>t;case"gte":case">=":return e>=t}}function i(e,t){"object"==typeof e&&"start"in e?(this.start=Math.min(e.start,e.end),this.end=Math.max(e.start,e.end)):Array.isArray(e)?(this.start=e[0],this.end=e[1]):(t="string"==typeof t?t.length:+t,this.start=e,this.end=e+t)}return i.prototype={length:function(){return Math.abs(this.end-this.start)},equal:function(e){return this.cmp(e,"eq","eq")},shift:function(e){return this.start+=e,this.end+=e,this},overlap:function(e){return e.start<=this.end&&e.end>=this.start},intersection:function(e){if(this.overlap(e)){var t=Math.max(e.start,this.start),n=Math.min(e.end,this.end);return new i(t,n-t)}return null},union:function(e){if(this.overlap(e)){var t=Math.min(e.start,this.start),n=Math.max(e.end,this.end);return new i(t,n-t)}return null},inside:function(e){return this.cmp(e,"lte","gt")},contains:function(e){return this.cmp(e,"lt","gt")},include:function(e){return this.cmp(e,"lte","gte")},cmp:function(e,t,n){var o,s;return e instanceof i?(o=e.start,s=e.end):o=s=e,r(this.start,o,t||"<=")&&r(this.end,s,n||">")},substring:function(e){return this.length()>0?e.substring(this.start,this.end):""},clone:function(){return new i(this.start,this.length())},toArray:function(){return[this.start,this.end]},toString:function(){return this.valueOf()},valueOf:function(){return"{"+this.start+", "+this.length()+"}"}},n.exports=function(e,t){return"undefined"==typeof e||null===e?null:e instanceof i?e:("object"==typeof e&&"start"in e&&"end"in e&&(t=e.end-e.start,e=e.start),new i(e,t))},n.exports.create=n.exports,n.exports.isRange=function(e){return e instanceof i},n.exports.create2=function(e,t){return"number"==typeof e&&"number"==typeof t&&(t-=e),this.create(e,t)},n.exports.sort=function(e,t){return e=e.sort(function(e,t){return e.start===t.start?t.end-e.end:e.start-t.start}),t&&e.reverse(),e},n.exports})},{}],30:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t){function n(e,t){e&&Object.keys(e).forEach(function(n){t(e[n],n)})}function i(e){return c.replaceUnescapedSymbol(e,"|",c.getCaretPlaceholder())}function o(e,t,n){return t=i(t),"snippets"==n?f.create("snippet",t):"abbreviations"==n?s(e,t):void 0}function s(e,t){e=c.trim(e);var n;return(n=v.exec(t))?f.create("element",n[1],n[2],"/"==n[4]):f.create("reference",t)}function a(e){return e.replace(/:$/,"").replace(/:/g,"-")}function l(e){var t={};return n(e,function(e,n){for(var r=n.split("|"),i=r.length-1;i>=0;i--)t[r[i]]=e}),t}var u=e("./handlerList"),c=e("../utils/common"),f=e("./elements"),h=(e("../assets/logger"),e("../vendor/stringScore")),p=e("../resolver/css"),d="system",m="user",g={},v=/^<(\w+\:?[\w\-]*)((?:\s+[@\!]?[\w\:\-]+\s*=\s*(['"]).*?\3)*)\s*(\/?)>/,b={},y={},x=u.create();return c.extend(t,{setVocabulary:function(e,t){g={};var r={};n(e,function(e,t){var i={};n(e,function(e,t){("abbreviations"==t||"snippets"==t)&&(e=l(e)),i[t]=e}),r[t]=i}),t==d?b=r:y=r},getVocabulary:function(e){return e==d?b:y},getMatchedResource:function(e,t){return x.exec(null,c.toArray(arguments))||this.findSnippet(t,e.name())},getVariable:function(e){return(this.getSection("variables")||{})[e]},setVariable:function(e,t){var n=this.getVocabulary("user")||{};"variables"in n||(n.variables={}),n.variables[e]=t,this.setVocabulary(n,"user")},hasSyntax:function(e){return e in this.getVocabulary(m)||e in this.getVocabulary(d)},addResolver:function(e,t){x.add(e,t)},removeResolver:function(e){x.remove(e)},getSection:function(e){if(!e)return null;e in g||(g[e]=c.deepMerge({},b[e],y[e]));for(var t,n=g[e],r=c.toArray(arguments,1);n&&(t=r.shift());){if(!(t in n))return null;n=n[t]}return n},findItem:function(e,t){for(var n=this.getSection(e);n;){if(t in n)return n[t];n=this.getSection(n["extends"])}},findSnippet:function(e,t,n){if(!e||!t)return null;n=n||[];var r=[t];~t.indexOf("-")&&r.push(t.replace(/\-/g,":"));var i=this.getSection(e),s=null;return["snippets","abbreviations"].some(function(t){var n=this.getSection(e,t);return n?r.some(function(e){return n[e]?s=o(e,n[e],t):void 0}):void 0},this),n.push(e),s||!i["extends"]||~n.indexOf(i["extends"])?s:this.findSnippet(i["extends"],t,n)},fuzzyFindSnippet:function(e,t,n){var r=this.fuzzyFindMatches(e,t,n)[0];return r?r.value.parsedValue:void 0},fuzzyFindMatches:function(e,t,n){n=n||.3,t=a(t);var r=this.getAllSnippets(e);return Object.keys(r).map(function(e){var n=r[e];return{key:e,score:h.score(n.nk,t,.1),value:n}}).filter(function(e){return e.score>=n}).sort(function(e,t){return e.score-t.score}).reverse()},getAllSnippets:function(e){var t="all-"+e;if(!g[t]){var r=[],i=e,s=[];do{var l=this.getSection(i);if(!l)break;["snippets","abbreviations"].forEach(function(e){var t={};
n(l[e]||null,function(n,r){t[r]={nk:a(r),value:n,parsedValue:o(r,n,e),type:e}}),r.push(t)}),s.push(i),i=l["extends"]}while(i&&!~s.indexOf(i));g[t]=c.extend.apply(c,r.reverse())}return g[t]},getNewline:function(){var e=this.getVariable("newline");return"string"==typeof e?e:"\n"},setNewline:function(e){this.setVariable("newline",e),this.setVariable("nl",e)}}),t.addResolver(p.resolve.bind(p)),function(e){if("undefined"==typeof r||!r.amd)try{var n=e("fs"),i=e("path"),o=n.readFileSync(i.join(__dirname,"../snippets.json"),{encoding:"utf8"});t.setVocabulary(JSON.parse(o),d)}catch(s){}}(e),t})},{"../assets/logger":26,"../resolver/css":62,"../utils/common":71,"../vendor/stringScore":77,"./elements":23,"./handlerList":24}],31:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){this.pos=this.start=0,this.string=e,this._length=e.length}return r.prototype={eol:function(){return this.pos>=this._length},sol:function(){return 0===this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this._length?this.string.charAt(this.pos++):void 0},eat:function(e){var t,n=this.string.charAt(this.pos);return t="string"==typeof e?n==e:n&&(e.test?e.test(n):e(n)),t?(++this.pos,n):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this._length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},skipToPair:function(e,t,n){for(var r,i=0,o=this.pos,s=this._length;s>o;)if(r=this.string.charAt(o++),r==e)i++;else if(r==t){if(i--,1>i)return this.pos=o,!0}else!n||'"'!=r&&"'"!=r||this.skipString(r);return!1},skipQuoted:function(e){var t=this.string.charAt(e?this.pos:this.pos-1);return'"'===t||"'"===t?(e&&this.pos++,this.skipString(t)):void 0},skipString:function(e){for(var t,n=this.pos,r=this._length;r>n;)if(t=this.string.charAt(n++),"\\"!=t&&t==e)return this.pos=n,!0;return!1},backUp:function(e){this.pos-=e},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&t!==!1&&(this.pos+=r[0].length),r}var i=n?function(e){return e.toLowerCase()}:function(e){return e};return i(this.string).indexOf(i(e),this.pos)==this.pos?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(e){return this.string.slice(this.start,this.pos-(e?1:0))}},n.exports=function(e){return new r(e)},n.exports.create=n.exports,n.exports})},{}],32:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n=e("./stringStream"),r=e("./resources"),i=100,o=0,s={replaceCarets:!1,escape:function(e){return"\\"+e},tabstop:function(e){return e.token},variable:function(e){return e.token}};return{extract:function(e,n){var r={carets:""},i=[];n=t.extend({},s,n,{tabstop:function(e){var t=e.token,n="";return"cursor"==e.placeholder?i.push({start:e.start,end:e.start+t.length,group:"carets",value:""}):("placeholder"in e&&(r[e.group]=e.placeholder),e.group in r&&(n=r[e.group]),i.push({start:e.start,end:e.start+t.length,group:e.group,value:n})),t}}),n.replaceCarets&&(e=e.replace(new RegExp(t.escapeForRegexp(t.getCaretPlaceholder()),"g"),"${0:cursor}")),e=this.processText(e,n);var o="",a=0,l=i.map(function(t){o+=e.substring(a,t.start);var n=o.length,i=r[t.group]||"";return o+=i,a=t.end,{group:t.group,start:n,end:n+i.length}});return o+=e.substring(a),{text:o,tabstops:l.sort(function(e,t){return e.start-t.start})}},processText:function(e,r){r=t.extend({},s,r);for(var i,o,a,l="",u=n.create(e);i=u.next();)if("\\"!=i||u.eol()){if(a=i,"$"==i)if(u.start=u.pos-1,o=u.match(/^[0-9]+/))a=r.tabstop({start:l.length,group:u.current().substr(1),token:u.current()});else if(o=u.match(/^\{([a-z_\-][\w\-]*)\}/))a=r.variable({start:l.length,name:o[1],token:u.current()});else if(o=u.match(/^\{([0-9]+)(:.+?)?\}/,!1)){u.skipToPair("{","}");var c={start:l.length,group:o[1],token:u.current()},f=c.token.substring(c.group.length+2,c.token.length-1);f&&(c.placeholder=f.substr(1)),a=r.tabstop(c)}l+=a}else l+=r.escape(u.next());return l},upgrade:function(e,t){var n=0,r={tabstop:function(e){var r=parseInt(e.group,10);return r>n&&(n=r),e.placeholder?"${"+(r+t)+":"+e.placeholder+"}":"${"+(r+t)+"}"}};return["start","end","content"].forEach(function(t){e[t]=this.processText(e[t],r)},this),n},variablesResolver:function(e){var n={};return function(o,s){if("child"==s)return o;if("cursor"==s)return t.getCaretPlaceholder();var a=e.attribute(s);if("undefined"!=typeof a&&a!==o)return a;var l=r.getVariable(s);return l?l:(n[s]||(n[s]=i++),"${"+n[s]+":"+s+"}")}},replaceVariables:function(e,t){t=t||{};var n="function"==typeof t?t:function(e,n){return n in t?t[n]:null};return this.processText(e,{variable:function(e){var t=n(e.token,e.name,e);return null===t&&(t=r.getVariable(e.name)),(null===t||"undefined"==typeof t)&&(t=e.token),t}})},resetTabstopIndex:function(){o=0,i=100},abbrOutputProcessor:function(e,t){var n=0,r=this,i={tabstop:function(e){var t=parseInt(e.group,10);if(0===t)return"${0}";if(t>n&&(n=t),e.placeholder){var s=t+o,a=r.processText(e.placeholder,i);return"${"+s+":"+a+"}"}return"${"+(t+o)+"}"}};return e=this.processText(e,i),e=this.replaceVariables(e,this.variablesResolver(t)),o+=n+1,e}}})},{"../utils/common":71,"./resources":30,"./stringStream":31}],33:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){this.tokens=e,this._position=0,this.reset()}return e.prototype={next:function(){if(this.hasNext()){var e=this.tokens[++this._i];return this._position=e.start,e}return this._i=this._il,null},current:function(){return this.tokens[this._i]},peek:function(){return this.tokens[this._i+i]},position:function(){return this._position},hasNext:function(){return this._i<this._il-1},reset:function(){this._i=0,this._il=this.tokens.length},item:function(){return this.tokens[this._i]},itemNext:function(){return this.tokens[this._i+1]},itemPrev:function(){return this.tokens[this._i-1]},nextUntil:function(e,t){for(var n,r="string"==typeof e?function(t){return t.type==e}:e;(n=this.next())&&(t&&t.call(this,n),!r.call(this,n)););}},{create:function(t){return new e(t)}}})},{}],34:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){this.options=i.extend({offset:0},t),this.source=e,this._children=[],this._positions={name:0},this.initialize.apply(this,arguments)}function n(e,t,n){this.parent=e,this._name=t.value,this._value=n?n.value:"",this._positions={name:t.start,value:n?n.start:-1},this.initialize.apply(this,arguments)}var r=e("../assets/range"),i=e("../utils/common"),o=e("../vendor/klass");return t.extend=o.extend,t.prototype={type:"container",initialize:function(){},_pos:function(e,t){return e+(t?this.options.offset:0)},_updateSource:function(e,t,n){var o=r.create(t,"undefined"==typeof n?0:n-t),s=e.length-o.length(),a=function(e){Object.keys(e).forEach(function(t){e[t]>=o.end&&(e[t]+=s)})};a(this._positions);var l=function(e){e.forEach(function(e){a(e._positions),"container"==e.type&&l(e.list())})};l(this.list()),this.source=i.replaceSubstring(this.source,e,o)},add:function(e,t){var r=new n(e,t);return this._children.push(r),r},get:function(e){return"number"==typeof e?this.list()[e]:"string"==typeof e?i.find(this.list(),function(t){return t.name()===e}):e},getAll:function(e){Array.isArray(e)||(e=[e]);var t=[],n=[];return e.forEach(function(e){"string"==typeof e?t.push(e):"number"==typeof e&&n.push(e)}),this.list().filter(function(e,r){return~n.indexOf(r)||~t.indexOf(e.name())})},list:function(){return this._children},remove:function(e){var t=this.get(e);if(t){this._updateSource("",t.fullRange());var n=this._children.indexOf(t);~n&&this._children.splice(n,1)}},indexOf:function(e){return this.list().indexOf(this.get(e))},value:function(e,t,n){var r=this.get(e);return r?r.value(t):"undefined"!=typeof t?this.add(e,t,n):void 0},values:function(e){return this.getAll(e).map(function(e){return e.value()})},name:function(e){return"undefined"!=typeof e&&this._name!==(e=String(e))&&(this._updateSource(e,this._positions.name,this._positions.name+this._name.length),this._name=e),this._name},nameRange:function(e){return r.create(this._positions.name+(e?this.options.offset:0),this.name())},range:function(e){return r.create(e?this.options.offset:0,this.valueOf())},itemFromPosition:function(e,t){return i.find(this.list(),function(n){return n.range(t).inside(e)})},toString:function(){return this.valueOf()},valueOf:function(){return this.source}},n.extend=o.extend,n.prototype={type:"element",initialize:function(){},_pos:function(e,t){return e+(t?this.parent.options.offset:0)},value:function(e){return"undefined"!=typeof e&&this._value!==(e=String(e))&&(this.parent._updateSource(e,this.valueRange()),this._value=e),this._value},name:function(e){return"undefined"!=typeof e&&this._name!==(e=String(e))&&(this.parent._updateSource(e,this.nameRange()),this._name=e),this._name},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.value,e)},range:function(e){return r.create(this.namePosition(e),this.valueOf())},fullRange:function(e){return this.range(e)},nameRange:function(e){return r.create(this.namePosition(e),this.name())},valueRange:function(e){return r.create(this.valuePosition(e),this.value())},toString:function(){return this.valueOf()},valueOf:function(){return this.name()+this.value()}},{EditContainer:t,EditElement:n,createToken:function(e,t,n){var r={start:e||0,value:t||"",type:n};return r.end=r.start+r.value.length,r}}})},{"../assets/range":29,"../utils/common":71,"../vendor/klass":76}],35:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){n=n||g|v,t=e.substring(t);var r;return n&g&&(r=t.match(d))&&(e.start+=r[0].length),n&v&&(r=t.match(m))&&(e.end-=r[0].length),e.end<e.start&&(e.end=e.start),e}function n(e,n){var r,i,o,s=e.current();if(!s)return null;for(var a={white:1,line:1,comment:1};(s=e.current())&&s.type in a;)e.next();if(!e.hasNext())return null;s=e.current(),r=c(s.start,s.value);for(var l="@"==s.value.charAt(0);s=e.next();)if(r.end=s.end,":"==s.type||"white"==s.type){if(r.end=s.start,e.next(),":"==s.type||l)break}else if(";"==s.type||"line"==s.type){r.end=s.start,i=c(s.start,0),e.next();break}if(s=e.current(),!i&&s){"line"==s.type&&(u=s),i=c(s.start,s.value);for(var u;s=e.next();)if(i.end=s.end,"line"==s.type)u=s;else{if("}"==s.type||";"==s.type){i.end=s.start,";"==s.type&&(o=c(s.start,s.value)),e.next();break}if(":"==s.type&&u){i.end=u.start,e._i=e.tokens.indexOf(u);break}}}return i||(i=c(r.end,0)),{name:t(r,n),value:t(i,n,g|(o?v:0)),end:o||c(i.end,0)}}function r(e){var t,n=f.create(e),r=[],i=/[\s\u00a0,;]/,o=function(){n.next(),r.push(c(n.start,n.current())),n.start=n.pos};for(n.eatSpace(),n.start=n.pos;t=n.next();)if('"'==t||"'"==t){if(n.next(),!n.skipTo(t))break;o()}else if("("==t){if(n.backUp(1),!n.skipToPair("(",")"))break;n.backUp(1),o()}else i.test(t)&&(r.push(c(n.start,n.current().length-1)),n.eatWhile(i),n.start=n.pos);return o(),s.unique(r.filter(function(e){return!!e.length()}))}function i(e,t,n){var r=o(t,n);r.forEach(function(t){e._children.push(new y(e,a.createToken(t.name.start,t.nameText),a.createToken(t.value.start,t.valueText),a.createToken(t.end.start,t.endText)))})}function o(e,t){t=t||0,e=e.replace(m,"");var r=[];if(!e)return r;for(var i,o=l.parse(e),s=h.create(o);i=n(s,e);)r.push({nameText:i.name.substring(e),name:i.name.shift(t),valueText:i.value.substring(e),value:i.value.shift(t),endText:i.end.substring(e),end:i.end.shift(t)});return r}var s=e("../utils/common"),a=e("./base"),l=e("../parser/css"),u=e("../utils/cssSections"),c=e("../assets/range"),f=e("../assets/stringStream"),h=e("../assets/tokenIterator"),p={styleBefore:"\n	",styleSeparator:": ",offset:0},d=/^\s+/,m=/\s+$/,g=1,v=2,b=a.EditContainer.extend({initialize:function(e,t){s.extend(this.options,p,t),Array.isArray(e)&&(e=l.toSource(e));var n=u.findAllRules(e),r=n.shift(),o=[];n.forEach(function(e){var t=!s.find(o,function(t){return t.contains(e)});t&&o.push(e)});var a=c.create2(r.start,r._selectorEnd);this._name=a.substring(e),this._positions.name=a.start,this._positions.contentStart=r._contentStart+1;var f=r._contentStart+1,h=(r.end-1,this);o.forEach(function(t){i(h,e.substring(f,t.start),f);s.extend({},h.options,{offset:t.start+h.options.offset});f=t.end}),i(this,e.substring(f,r.end-1),f),this._saveStyle()},_saveStyle:function(){var e=this._positions.contentStart,t=this.source;this.list().forEach(function(n){if("container"!==n.type){n.styleBefore=t.substring(e,n.namePosition());var r=s.splitByLines(n.styleBefore);r.length>1&&(n.styleBefore="\n"+r[r.length-1]),n.styleSeparator=t.substring(n.nameRange().end,n.valuePosition());var i=n.styleBefore.split("*/");n.styleBefore=i[i.length-1],n.styleSeparator=n.styleSeparator.replace(/\/\*.*?\*\//g,""),e=n.range().end}})},namePosition:function(e){return this._pos(this._positions.name,e)},valuePosition:function(e){return this._pos(this._positions.contentStart,e)},valueRange:function(e){return c.create2(this.valuePosition(e),this._pos(this.valueOf().length,e)-1)},add:function(e,t,n){var r=this.list(),i=this._positions.contentStart,o=s.pick(this.options,"styleBefore","styleSeparator");"undefined"==typeof n&&(n=r.length);var l=r[n];l?i=l.fullRange().start:(l=r[n-1])&&(l.end(";"),i=l.range().end),l&&(o=s.pick(l,"styleBefore","styleSeparator"));var u=a.createToken(i+o.styleBefore.length,e),c=a.createToken(u.end+o.styleSeparator.length,t),f=new y(this,u,c,a.createToken(c.end,";"));return s.extend(f,o),this._updateSource(f.styleBefore+f.toString(),i),this._children.splice(n,0,f),f}}),y=a.EditElement.extend({initialize:function(e,t,n,r){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator,this._end=r.value,this._positions.end=r.start},valueParts:function(e){var t=r(this.value());if(e){var n=this.valuePosition(!0);t.forEach(function(e){e.shift(n)})}return t},value:function(e){var t="undefined"!=typeof e,n=this.parent.list();if(t&&this.isIncomplete()){var r=this,i=s.find(n,function(e){return e!==r&&!e.isIncomplete()});this.styleSeparator=i?i.styleSeparator:this.parent.options.styleSeparator,this.parent._updateSource(this.styleSeparator,c(this.valueRange().start,0))}var o=this.constructor.__super__.value.apply(this,arguments);if(t){var a=n.indexOf(this);a===n.length-1||this.end()||this.end(";")}return o},isIncomplete:function(){return this.nameRange().end===this.valueRange().start},end:function(e){return"undefined"!=typeof e&&this._end!==e&&(this.parent._updateSource(e,this._positions.end,this._positions.end+this._end.length),this._end=e),this._end},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.value()+this.end()}});return{parse:function(e,t){return new b(e,t)},parseFromPosition:function(e,t,n){var r=u.locateRule(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},propertyFromPosition:function(e,t){var n=null,r="string"==typeof e?this.parseFromPosition(e,t,!0):e;return r&&(n=r.itemFromPosition(t,!0),n||(n=s.find(r.list(),function(e){return e.range(!0).end==t}))),n},baseName:function(e){return e.replace(/^\s*\-\w+\-/,"")},findParts:r,extractPropertiesFromSource:o}})},{"../assets/range":29,"../assets/stringStream":31,"../assets/tokenIterator":33,"../parser/css":54,"../utils/common":71,"../utils/cssSections":72,"./base":34}],36:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./base"),n=e("../parser/xml"),r=e("../assets/range"),i=e("../utils/common"),o={styleBefore:" ",styleSeparator:"=",styleQuote:'"',offset:0},s=/^<([\w\:\-]+)((?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/m,a=t.EditContainer.extend({initialize:function(e){i.defaults(this.options,o),this._positions.name=1;var t=null,s=n.parse(e);s.forEach(function(n){switch(n.value=r.create(n).substring(e),n.type){case"tag":/^<[^\/]+/.test(n.value)&&(this._name=n.value.substring(1));break;case"attribute":t&&this._children.push(new l(this,t)),t=n;break;case"string":this._children.push(new l(this,t,n)),t=null}},this),t&&this._children.push(new l(this,t)),this._saveStyle()},_saveStyle:function(){var e=this.nameRange().end,t=this.source;this.list().forEach(function(n){n.styleBefore=t.substring(e,n.namePosition()),-1!==n.valuePosition()&&(n.styleSeparator=t.substring(n.namePosition()+n.name().length,n.valuePosition()-n.styleQuote.length)),e=n.range().end})},add:function(e,n,r){var o=this.list(),s=this.nameRange().end,a=i.pick(this.options,"styleBefore","styleSeparator","styleQuote");"undefined"==typeof r&&(r=o.length);var u=o[r];u?s=u.fullRange().start:(u=o[r-1])&&(s=u.range().end),u&&(a=i.pick(u,"styleBefore","styleSeparator","styleQuote")),n=a.styleQuote+n+a.styleQuote;var c=new l(this,t.createToken(s+a.styleBefore.length,e),t.createToken(s+a.styleBefore.length+e.length+a.styleSeparator.length,n));return i.extend(c,a),this._updateSource(c.styleBefore+c.toString(),s),this._children.splice(r,0,c),c},addClass:function(e){var t=this.get("class");if(e=i.trim(e),!t)return this.add("class",e);var n=t.value(),r=" "+n.replace(/\n/g," ")+" ";~r.indexOf(" "+e+" ")||t.value(n+" "+e)},removeClass:function(e){var t=this.get("class");if(e=i.trim(e),t){var n=new RegExp("(^|\\s+)"+i.escapeForRegexp(e)),r=t.value().replace(n,"");i.trim(r)?t.value(r):this.remove("class")}}}),l=t.EditElement.extend({initialize:function(e,t,n){this.styleBefore=e.options.styleBefore,this.styleSeparator=e.options.styleSeparator;var r="",i=e.options.styleQuote;n&&(r=n.value,i=r.charAt(0),'"'==i||"'"==i?r=r.substring(1):i="",i&&r.charAt(r.length-1)==i&&(r=r.substring(0,r.length-1))),this.styleQuote=i,this._value=r,this._positions.value=n?n.start+i.length:-1},fullRange:function(e){var t=this.range(e);return t.start-=this.styleBefore.length,t},valueOf:function(){return this.name()+this.styleSeparator+this.styleQuote+this.value()+this.styleQuote}});return{parse:function(e,t){return new a(e,t)},parseFromPosition:function(e,t,n){var r=this.extractTag(e,t,n);return r&&r.inside(t)?this.parse(r.substring(e),{offset:r.start}):null},extractTag:function(e,t,n){var i,o=e.length,a=Math.min(2e3,o),l=null,u=function(t){var n;return"<"==e.charAt(t)&&(n=e.substr(t,a).match(s))?r.create(t,n[0]):void 0};for(i=t;i>=0&&!(l=u(i));i--);if(l&&(l.inside(t)||n))return l;if(!l&&n)return null;for(i=t;o>i;i++)if(l=u(i))return l}}})},{"../assets/range":29,"../parser/xml":60,"../utils/common":71,"./base":34}],37:[function(require,module,exports){if("object"==typeof module&&"function"!=typeof define)var define=function(e){module.exports=e(require,exports,module)};define(function(require,exports,module){function getFileName(e){var t=/([\w\.\-]+)$/i,n=t.exec(e);return n?n[1]:""}function normalizeProfile(e){return"object"==typeof e&&("indent"in e&&(e.indent=!!e.indent),"self_closing_tag"in e&&"number"==typeof e.self_closing_tag&&(e.self_closing_tag=!!e.self_closing_tag)),e}var global="undefined"!=typeof self?self:this,utils=require("./utils/common"),actions=require("./action/main"),parser=require("./parser/abbreviation"),file=require("./plugin/file"),preferences=require("./assets/preferences"),resources=require("./assets/resources"),profile=require("./assets/profile"),ciu=require("./assets/caniuse"),logger=require("./assets/logger"),sliceFn=Array.prototype.slice;return{expandAbbreviation:function(e,t,n,r){return parser.expand(e,{syntax:t,profile:n,contextNode:r})},run:function(){return actions.run.apply(actions,sliceFn.call(arguments,0))},loadExtensions:function(fileList){var payload={},userSnippets=null,that=this;fileList=fileList.filter(function(e){var t=file.getExt(e);return"json"===t||"js"===t});var reader=(file.readText||file.read).bind(file),next=function(){if(fileList.length){var f=fileList.shift();reader(f,function(err,content){if(err)return logger.log('Unable to read "'+f+'" file: '+err),next();switch(file.getExt(f)){case"js":try{eval(content)}catch(e){logger.log('Unable to eval "'+f+'" file: '+e)}break;case"json":var fileName=getFileName(f).toLowerCase().replace(/\.json$/,"");/^snippets/.test(fileName)?"snippets"===fileName?userSnippets=utils.parseJSON(content):payload.snippets=utils.deepMerge(payload.snippets||{},utils.parseJSON(content)):payload[fileName]=content}next()})}else userSnippets&&(payload.snippets=utils.deepMerge(payload.snippets||{},userSnippets)),that.loadUserData(payload)};next()},loadPreferences:function(e){preferences.load(utils.parseJSON(e))},loadSnippets:function(e){e=utils.parseJSON(e);var t=resources.getVocabulary("user")||{};resources.setVocabulary(utils.deepMerge(t,e),"user")},loadSystemSnippets:function(e){resources.setVocabulary(utils.parseJSON(e),"system")},loadCIU:function(e){ciu.load(utils.parseJSON(e))},resetSnippets:function(){resources.setVocabulary({},"user")},loadUserData:function(e){e=utils.parseJSON(e),e.snippets&&this.loadSnippets(e.snippets),e.preferences&&this.loadPreferences(e.preferences),e.profiles&&this.loadProfiles(e.profiles),e.caniuse&&this.loadCIU(e.caniuse);var t=e.syntaxProfiles||e.syntaxprofiles;t&&this.loadSyntaxProfiles(t)},resetUserData:function(){this.resetSnippets(),preferences.reset(),profile.reset()},loadSyntaxProfiles:function(e){e=utils.parseJSON(e);var t={};Object.keys(e).forEach(function(n){var r=e[n];n in t||(t[n]={}),t[n].profile=normalizeProfile(r)}),this.loadSnippets(t)},loadProfiles:function(e){e=utils.parseJSON(e),Object.keys(e).forEach(function(t){profile.create(t,normalizeProfile(e[t]))})},require:require,actions:actions,file:file,preferences:preferences,resources:resources,profile:profile,tabStops:require("./assets/tabStops"),htmlMatcher:require("./assets/htmlMatcher"),utils:{common:utils,action:require("./utils/action"),editor:require("./utils/editor")}}})},{"./action/main":11,"./assets/caniuse":22,"./assets/htmlMatcher":25,"./assets/logger":26,"./assets/preferences":27,"./assets/profile":28,"./assets/resources":30,"./assets/tabStops":32,"./parser/abbreviation":53,"./plugin/file":61,"./utils/action":68,"./utils/common":71,"./utils/editor":73}],38:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){return{element:l.get("bem.elementSeparator"),modifier:l.get("bem.modifierSeparator")}}function n(e){if(u.isSnippet(e))return e;e.__bem={block:"",element:"",modifier:""};var t=r(e.attribute("class")).split(" "),n=/^[a-z]\-/i;return e.__bem.block=c.find(t,function(e){return n.test(e)}),e.__bem.block||(n=/^[a-z]/i,e.__bem.block=c.find(t,function(e){return n.test(e)})||""),t=t.map(function(t){return i(t,e)}),t=c.unique(c.flatten(t)).join(" "),t&&e.attribute("class",t),e}function r(e){e=(" "+(e||"")+" ").replace(/\s+/g," ");var n=l.get("bem.shortElementPrefix");if(n){var r=new RegExp("\\s("+c.escapeForRegexp(n)+"+)","g");e=e.replace(r,function(e,n){return" "+c.repeatString(t().element,n.length)})}return c.trim(e)}function i(e,n){e=o(e,n,"element"),e=o(e,n,"modifier");var r="",i="",s="",a=t();if(~e.indexOf(a.element)){var l=e.split(a.element);r=l.shift();var u=l.pop().split(a.modifier);l.push(u.shift()),i=l.join(a.element),s=u.join(a.modifier)}else if(~e.indexOf(a.modifier)){var c=e.split(a.modifier);r=c.shift(),s=c.join(a.modifier)}if(r||i||s){r||(r=n.__bem.block);var f=r,h=[];return i?(f+=a.element+i,h.push(f)):h.push(f),s&&h.push(f+a.modifier+s),n.__bem.block=r,n.__bem.element=i,n.__bem.modifier=s,h}return e}function o(e,n,r){var i=t(),o=new RegExp("^("+i[r]+")+","g");if(o.test(e)){for(var s=0,a=e.replace(o,function(e){return s=e.length/i[r].length,""}),l=n;l.parent&&s--;)l=l.parent;if(l&&l.__bem||(l=n),l&&l.__bem){var u=l.__bem.block;return"modifier"==r&&l.__bem.element&&(u+=i.element+l.__bem.element),u+i[r]+a}}return e}function s(e,t){return e.name&&n(e,t),e.children.forEach(function(e){s(e,t),!u.isSnippet(e)&&e.start&&(f=!0)}),e}var a=e("./html"),l=e("../assets/preferences"),u=e("../utils/abbreviation"),c=e("../utils/common");l.define("bem.elementSeparator","__","Class name\u2019s element separator."),l.define("bem.modifierSeparator","_","Class name\u2019s modifier separator."),l.define("bem.shortElementPrefix","-","Symbol for describing short \u201cblock-element\u201d notation. Class names prefixed with this symbol will be treated as element name for parent\u2018s block name. Each symbol instance traverses one level up in parsed tree for block name lookup. Empty value will disable short notation.");var f=!1;return function(e,t){return f=!1,e=s(e,t),f&&(e=a(e,t)),e}})},{"../assets/preferences":27,"../utils/abbreviation":67,"../utils/common":71,"./html":44}],39:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,n){var o=r.get("filter.commentTrigger");if("*"!=o){var s=i.find(o.split(","),function(t){return!!e.attribute(i.trim(t))});if(!s)return}var a={node:e,name:e.name(),padding:e.parent?e.parent.padding:"",attr:function(t,n,r){var i=e.attribute(t);return i?(n||"")+i+(r||""):""}},l=t?t(a):"",u=n?n(a):"";e.start=e.start.replace(/</,l+"<"),e.end=e.end.replace(/>/,">"+u)}function n(e,r,i){return e.children.forEach(function(e){s.isBlock(e)&&t(e,r,i),n(e,r,i)}),e}{var r=e("../assets/preferences"),i=e("../utils/common"),o=e("../utils/template"),s=e("../utils/abbreviation");e("./main")}return r.define("filter.commentAfter",'\n<!-- /<%= attr("id", "#") %><%= attr("class", ".") %> -->',"A definition of comment that should be placed <i>after</i> matched element when <code>comment</code> filter is applied. This definition is an ERB-style template passed to <code>_.template()</code> function (see Underscore.js docs for details). In template context, the following properties and functions are availabe:\n<ul><li><code>attr(name, before, after)</code> \u2013 a function that outputsspecified attribute value concatenated with <code>before</code> and <code>after</code> strings. If attribute doesn't exists, the empty string will be returned.</li><li><code>node</code> \u2013 current node (instance of <code>AbbreviationNode</code>)</li><li><code>name</code> \u2013 name of current tag</li><li><code>padding</code> \u2013 current string padding, can be used for formatting</li></ul>"),r.define("filter.commentBefore","","A definition of comment that should be placed <i>before</i> matched element when <code>comment</code> filter is applied. For more info, read description of <code>filter.commentAfter</code> property"),r.define("filter.commentTrigger","id, class","A comma-separated list of attribute names that should exist in abbreviatoin where comment should be added. If you wish to add comment for every element, set this option to <code>*</code>"),function(e){var t=o(r.get("filter.commentBefore")),i=o(r.get("filter.commentAfter"));return n(e,t,i)}})},{"../assets/preferences":27,"../utils/abbreviation":67,"../utils/common":71,"../utils/template":75,"./main":47}],40:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){return e.parent&&!e.parent.parent&&!e.index()}return function t(n,r,i){return i=i||0,n.children.forEach(function(n){e(n)||r.tag_nl===!1||(n.start="\n"+n.start),t(n,r,i+1)}),n}})},{}],41:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){return e.replace(/([<>&])/g,function(e,n){return t[n]})}var t={"<":"&lt;",">":"&gt;","&":"&amp;"};return function n(t){return t.children.forEach(function(t){t.start=e(t.start),t.end=e(t.end),t.content=e(t.content),n(t)}),t}})},{}],42:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){var t=p.getArray("format.noIndentTags")||[];return~t.indexOf(e.name())?"":"	"}function n(e){return e.parent&&h.hasBlockChildren(e.parent)}function r(e){return e.parent&&!e.parent.parent&&!e.index()}function i(e,t){return t.tag_nl===!0||h.isBlock(e)?!0:e.parent&&t.inline_break?s(e.parent,t):!1}function o(e,t){return e.children.length&&i(e.children[0],t)}function s(e,t){var n=0;return!!f.find(e.children,function(e){return e.isTextNode()||!h.isInline(e)?n=0:h.isInline(e)&&n++,n>=t.inline_break?!0:void 0})}function a(e){return!e.parent}function l(e,t){return e.start=e.end="",!r(e)&&t.tag_nl!==!1&&i(e,t)&&(a(e.parent)||!h.isInline(e.parent))&&(e.start="\n"+e.start),e}function u(e,t){var n=e.children.some(function(e){return h.isSnippet(e)?!1:!h.isInline(e)});return n?!0:s(e,t)}function c(e,s){e.start=e.end=d;var a=h.isUnary(e),l="\n",c=t(e);if(s.tag_nl!==!1){var f=s.tag_nl===!0&&(s.tag_nl_leaf||e.children.length);if(!f){var m=p.getArray("format.forceIndentationForTags")||[];f=~m.indexOf(e.name())}e.isTextNode()||(i(e,s)?(r(e)||h.isSnippet(e.parent)&&!e.index()||(e.start=l+e.start),(h.hasBlockChildren(e)||o(e,s)||f&&!a)&&(e.end=l+e.end),(h.hasTagsInContent(e)||f&&!e.children.length&&!a)&&(e.start+=l+c)):h.isInline(e)&&n(e)&&!r(e)?e.start=l+e.start:h.isInline(e)&&u(e,s)&&(e.end=l+e.end),e.padding=c)}return e}{var f=e("../utils/common"),h=e("../utils/abbreviation"),p=e("../assets/preferences");e("../assets/resources")}p.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),p.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation.");var d="%s";return function m(e,t,n){return n=n||0,e.children.forEach(function(e){h.isSnippet(e)?l(e,t,n):c(e,t,n),m(e,t,n+1)}),e}})},{"../assets/preferences":27,"../assets/resources":30,"../utils/abbreviation":67,"../utils/common":71}],43:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return s.trim(e).replace(/\s+/g,".")}function n(e){var t=[],n=null,r=/^data-/i;return e.forEach(function(e){r.test(e.name)?(n||(n=[],t.push({name:"data",value:n})),n.push(s.extend({},e,{name:e.name.replace(r,"")}))):t.push(e)}),t}function r(e,t){var n=t.attributeQuote();return"{"+e.map(function(e){var i=n+e.value+n;return Array.isArray(e.value)?i=r(e.value,t):e.isBoolean&&(i="true"),":"+e.name+" => "+i}).join(", ")+"}"}function i(e,i){var o="",s=[],a=(i.attributeQuote(),i.cursor());return e.attributeList().forEach(function(e){var n=i.attributeName(e.name);switch(n.toLowerCase()){case"id":o+="#"+(e.value||a);break;case"class":o+="."+t(e.value||a);break;default:s.push({name:n,value:e.value||a,isBoolean:i.isBoolean(e.name,e.value)})}}),s.length&&(o+=r(n(s),i)),o}function o(e,t){if(!e.parent)return e;var n=i(e,t),r=t.cursor(),o=a.isUnary(e),l=t.self_closing_tag&&o?"/":"",u="",c="%"+t.tagName(e.name());"%div"==c.toLowerCase()&&n&&-1==n.indexOf("{")&&(c=""),e.end="",u=c+n+l,e.content&&!/^\s/.test(e.content)&&(e.content=" "+e.content);var f="%s";return e.start=s.replaceSubstring(e.start,u,e.start.indexOf(f),f),e.children.length||o||(e.start+=r),e}var s=e("../utils/common"),a=e("../utils/abbreviation"),l=e("./format");return function u(e,t,n){return n=n||0,n||(e=l(e,"_format",t)),e.children.forEach(function(e){a.isSnippet(e)||o(e,t,n),u(e,t,n+1)}),e}})},{"../utils/abbreviation":67,"../utils/common":71,"./format":42}],44:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){var n=t.attributeQuote(),r=t.cursor();return e.attributeList().map(function(e){var i=t.isBoolean(e.name,e.value),o=t.attributeName(e.name),s=i?o:e.value;return i&&t.allowCompactBoolean()?" "+o:" "+o+"="+n+(s||r)+n}).join("")}function n(e,n){if(!e.parent)return e;var s=t(e,n),a=n.cursor(),l=r.isUnary(e),u="",c="";if(!e.isTextNode()){var f=n.tagName(e.name());l?(u="<"+f+s+n.selfClosing()+">",e.end=""):(u="<"+f+s+">",c="</"+f+">")}var h="%s";return e.start=i.replaceSubstring(e.start,u,e.start.indexOf(h),h),e.end=i.replaceSubstring(e.end,c,e.end.indexOf(h),h),e.children.length||l||~e.content.indexOf(a)||o.extract(e.content).tabstops.length||(e.start+=a),e}var r=e("../utils/abbreviation"),i=e("../utils/common"),o=e("../assets/tabStops"),s=e("./format");return function a(e,t,i){return i=i||0,i||(e=s(e,t,i)),e.children.forEach(function(e){r.isSnippet(e)||n(e,t,i),a(e,t,i+1)}),e}})},{"../assets/tabStops":32,"../utils/abbreviation":67,"../utils/common":71,"./format":42}],45:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)
};r(function(e){function t(e){return s.trim(e).replace(/\s+/g,".")}function n(e,t){var n=t.attributeQuote();return"("+e.map(function(e){return e.isBoolean?e.name:e.name+"="+n+e.value+n}).join(", ")+")"}function r(e,r){var i="",o=[],s=(r.attributeQuote(),r.cursor());return e.attributeList().forEach(function(e){var n=r.attributeName(e.name);switch(n.toLowerCase()){case"id":i+="#"+(e.value||s);break;case"class":i+="."+t(e.value||s);break;default:o.push({name:n,value:e.value||s,isBoolean:r.isBoolean(e.name,e.value)})}}),o.length&&(i+=n(o,r)),i}function i(e){if(e.content){var t=u.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});if(f.test(t)&&!h.test(t)){var n="| ";e.content="\n"+n+s.padString(t,n)}else p.test(t)||(e.content=" "+t)}}function o(e,t){if(!e.parent)return e;var n=r(e,t),o=t.cursor(),l=a.isUnary(e),u=t.tagName(e.name());"div"==u.toLowerCase()&&n&&"("!=n.charAt(0)&&(u=""),e.end="";var c=u+n;i(e);var f="%s";return e.start=s.replaceSubstring(e.start,c,e.start.indexOf(f),f),e.children.length||l||(e.start+=o),e}var s=e("../utils/common"),a=e("../utils/abbreviation"),l=e("./format"),u=e("../assets/tabStops"),c=e("../assets/profile"),f=/[\n\r]/,h=/^\s*\|/,p=/^\s/;return function d(e,t,n){return n=n||0,n||(e=l(e,c.get("xml"))),e.children.forEach(function(e){a.isSnippet(e)||o(e,t,n),d(e,t,n+1)}),e}})},{"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":67,"../utils/common":71,"./format":42}],46:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){var e={"class":"className","for":"htmlFor"};return function t(n){return n.children.forEach(function(n){n._attributes.forEach(function(t){t.name in e&&(t.name=e[t.name])}),t(n)}),n}})},{}],47:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e?"string"==typeof e?e.split(/[\|,]/g):e:[]}var n=e("../utils/common"),r=e("../assets/profile"),i=e("../assets/resources"),o={html:e("./html"),haml:e("./haml"),jade:e("./jade"),jsx:e("./jsx"),slim:e("./slim"),xsl:e("./xsl"),css:e("./css"),bem:e("./bem"),c:e("./comment"),e:e("./escape"),s:e("./singleLine"),t:e("./trim")},s="html";return{add:function(e,t){o[e]=t},apply:function(e,i,s){return s=r.get(s),t(i).forEach(function(t){var r=n.trim(t.toLowerCase());r&&r in o&&(e=o[r](e,s))}),e},composeList:function(e,n,o){n=r.get(n);var a=t(n.filters||i.findItem(e,"filters")||s);return n.extraFilters&&(a=a.concat(t(n.extraFilters))),o&&(a=a.concat(t(o))),a&&a.length||(a=t(s)),a},extract:function(e){var n="";return e=e.replace(/\|([\w\|\-]+)$/,function(e,t){return n=t,""}),[e,t(n)]}}})},{"../assets/profile":28,"../assets/resources":30,"../utils/common":71,"./bem":38,"./comment":39,"./css":40,"./escape":41,"./haml":43,"./html":44,"./jade":45,"./jsx":46,"./singleLine":48,"./slim":49,"./trim":50,"./xsl":51}],48:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/abbreviation"),n=/^\s+/,r=/[\n\r]/g;return function i(e){return e.children.forEach(function(e){t.isSnippet(e)||(e.start=e.start.replace(n,""),e.end=e.end.replace(n,"")),e.start=e.start.replace(r,""),e.end=e.end.replace(r,""),e.content=e.content.replace(r,""),i(e)}),e}})},{"../utils/abbreviation":67}],49:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return a.trim(e).replace(/\s+/g,".")}function n(){var e=" ",t="";switch(f.get("slim.attributesWrapper")){case"round":e="(",t=")";break;case"square":e="[",t="]";break;case"curly":e="{",t="}"}return{start:e,end:t}}function r(e,t){var r=t.attributeQuote(),i=n();return i.start+e.map(function(e){var t=r+e.value+r;if(e.isBoolean){if(i.end)return e.name;t="true"}return e.name+"="+t}).join(" ")+i.end}function i(e,n){var i="",o=[],s=(n.attributeQuote(),n.cursor());return e.attributeList().forEach(function(e){var r=n.attributeName(e.name);switch(r.toLowerCase()){case"id":i+="#"+(e.value||s);break;case"class":i+="."+t(e.value||s);break;default:o.push({name:r,value:e.value||s,isBoolean:n.isBoolean(e.name,e.value)})}}),o.length&&(i+=r(o,n)),i}function o(e){if(e.content){var t=c.replaceVariables(e.content,function(e,t){return"nl"===t||"newline"===t?"\n":e});if(p.test(t)&&!d.test(t)){var n="  ";e.content="\n| "+a.padString(t,n)}else m.test(t)||(e.content=" "+t)}}function s(e,t){if(!e.parent)return e;var n=i(e,t),r=t.cursor(),s=l.isUnary(e),u=t.self_closing_tag&&s?"/":"",c=t.tagName(e.name());"div"==c.toLowerCase()&&n&&-1=="([{".indexOf(n.charAt(0))&&(c=""),e.end="";var f=c+n+u;o(e);var h="%s";return e.start=a.replaceSubstring(e.start,f,e.start.indexOf(h),h),e.children.length||s||(e.start+=r),e}var a=e("../utils/common"),l=e("../utils/abbreviation"),u=e("./format"),c=e("../assets/tabStops"),f=e("../assets/preferences"),h=e("../assets/profile"),p=/[\n\r]/,d=/^\s*\|/,m=/^\s/;return f.define("slim.attributesWrapper","none","Defines how attributes will be wrapped:<ul><li><code>none</code> \u2013 no wrapping;</li><li><code>round</code> \u2014 wrap attributes with round braces;</li><li><code>square</code> \u2014 wrap attributes with round braces;</li><li><code>curly</code> \u2014 wrap attributes with curly braces.</li></ul>"),function g(e,t,n){return n=n||0,n||(e=u(e,h.get("xml"))),e.children.forEach(function(e){l.isSnippet(e)||s(e,t,n),g(e,t,n+1)}),e}})},{"../assets/preferences":27,"../assets/profile":28,"../assets/tabStops":32,"../utils/abbreviation":67,"../utils/common":71,"./format":42}],50:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,n){return e.children.forEach(function(e){e.content&&(e.content=e.content.replace(n,"")),t(e,n)}),e}var n=e("../assets/preferences");return n.define("filter.trimRegexp","[\\s|\\u00a0]*[\\d|#|\\-|*|\\u2022]+\\.?\\s*","Regular expression used to remove list markers (numbers, dashes, bullets, etc.) in <code>t</code> (trim) filter. The trim filter is useful for wrapping with abbreviation lists, pased from other documents (for example, Word documents)."),function(e){var r=new RegExp(n.get("filter.trimRegexp"));return t(e,r)}})},{"../assets/preferences":27}],51:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){e.start=e.start.replace(/\s+select\s*=\s*(['"]).*?\1/,"")}var n=e("../utils/abbreviation"),r={"xsl:variable":1,"xsl:with-param":1};return function i(e){return e.children.forEach(function(e){!n.isSnippet(e)&&(e.name()||"").toLowerCase()in r&&e.children.length&&t(e),i(e)}),e}})},{"../utils/abbreviation":67}],52:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){return Math.round(Math.random()*(t-e)+e)}function n(e,n){for(var r=e.length,i=Math.min(r,n),o=[];o.length<i;){var s=t(0,r-1);~o.indexOf(s)||o.push(s)}return o.map(function(t){return e[t]})}function r(e){return"string"==typeof e?e.charAt(t(0,e.length-1)):e[t(0,e.length-1)]}function i(e,t){return e.length&&(e[0]=e[0].charAt(0).toUpperCase()+e[0].substring(1)),e.join(" ")+(t||r("?!..."))}function o(e){var n=e.length;if(!(2>n)){var r=0;r=n>3&&6>=n?t(0,1):n>6&&12>=n?t(0,2):t(1,4);for(var i,o,s=0;r>s;s++)i=t(0,e.length-2),o=e[i],","!==o.charAt(o.length-1)&&(e[i]+=",")}}function s(e,r,s){var a=l[e];if(!a)return"";var u,c=[],f=0;for(r=parseInt(r,10),s&&a.common&&(u=a.common.slice(0,r),u.length>5&&(u[4]+=","),f+=u.length,c.push(i(u,".")));r>f;)u=n(a.words,Math.min(t(2,30),r-f)),f+=u.length,o(u),c.push(i(u));return c.join(" ")}var a=e("../assets/preferences"),l={en:{common:["lorem","ipsum","dolor","sit","amet","consectetur","adipisicing","elit"],words:["exercitationem","perferendis","perspiciatis","laborum","eveniet","sunt","iure","nam","nobis","eum","cum","officiis","excepturi","odio","consectetur","quasi","aut","quisquam","vel","eligendi","itaque","non","odit","tempore","quaerat","dignissimos","facilis","neque","nihil","expedita","vitae","vero","ipsum","nisi","animi","cumque","pariatur","velit","modi","natus","iusto","eaque","sequi","illo","sed","ex","et","voluptatibus","tempora","veritatis","ratione","assumenda","incidunt","nostrum","placeat","aliquid","fuga","provident","praesentium","rem","necessitatibus","suscipit","adipisci","quidem","possimus","voluptas","debitis","sint","accusantium","unde","sapiente","voluptate","qui","aspernatur","laudantium","soluta","amet","quo","aliquam","saepe","culpa","libero","ipsa","dicta","reiciendis","nesciunt","doloribus","autem","impedit","minima","maiores","repudiandae","ipsam","obcaecati","ullam","enim","totam","delectus","ducimus","quis","voluptates","dolores","molestiae","harum","dolorem","quia","voluptatem","molestias","magni","distinctio","omnis","illum","dolorum","voluptatum","ea","quas","quam","corporis","quae","blanditiis","atque","deserunt","laboriosam","earum","consequuntur","hic","cupiditate","quibusdam","accusamus","ut","rerum","error","minus","eius","ab","ad","nemo","fugit","officia","at","in","id","quos","reprehenderit","numquam","iste","fugiat","sit","inventore","beatae","repellendus","magnam","recusandae","quod","explicabo","doloremque","aperiam","consequatur","asperiores","commodi","optio","dolor","labore","temporibus","repellat","veniam","architecto","est","esse","mollitia","nulla","a","similique","eos","alias","dolore","tenetur","deleniti","porro","facere","maxime","corrupti"]},sp:{common:["mujer","uno","dolor","m\xe1s","de","poder","mismo","si"],words:["ejercicio","preferencia","perspicacia","laboral","pa\xf1o","suntuoso","molde","namibia","planeador","mirar","dem\xe1s","oficinista","excepci\xf3n","odio","consecuencia","casi","auto","chicharra","velo","elixir","ataque","no","odio","temporal","cu\xf3rum","dign\xedsimo","facilismo","letra","nihilista","expedici\xf3n","alma","alveolar","aparte","le\xf3n","animal","como","paria","belleza","modo","natividad","justo","ataque","s\xe9quito","pillo","sed","ex","y","voluminoso","temporalidad","verdades","racional","asunci\xf3n","incidente","marejada","placenta","amanecer","fuga","previsor","presentaci\xf3n","lejos","necesariamente","sospechoso","adiposidad","quind\xedo","p\xf3cima","voluble","d\xe9bito","sinti\xf3","accesorio","falda","sapiencia","volutas","queso","permacultura","laudo","soluciones","entero","pan","litro","tonelada","culpa","libertario","mosca","dictado","reincidente","nascimiento","dolor","escolar","impedimento","m\xednima","mayores","repugnante","dulce","obcecado","monta\xf1a","enigma","total","delet\xe9reo","d\xe9cima","c\xe1bala","fotograf\xeda","dolores","molesto","olvido","paciencia","resiliencia","voluntad","molestias","magn\xedfico","distinci\xf3n","ovni","marejada","cerro","torre","y","abogada","manantial","corporal","agua","crep\xfasculo","ataque","desierto","laboriosamente","angustia","afortunado","alma","encefalograma","materialidad","cosas","o","renuncia","error","menos","conejo","abad\xeda","analfabeto","remo","fugacidad","oficio","en","alm\xe1cigo","vos","pan","represi\xf3n","n\xfameros","triste","refugiado","trote","inventor","corchea","repelente","magma","recusado","patr\xf3n","expl\xedcito","paloma","s\xedndrome","inmune","autoinmune","comodidad","ley","vietnamita","demonio","tasmania","repeler","ap\xe9ndice","arquitecto","columna","yugo","computador","mula","a","prop\xf3sito","fantas\xeda","alias","rayo","tenedor","deleznable","ventana","cara","anemia","corrupto"]},ru:{common:["\u0434\u0430\u043b\u0435\u043a\u043e-\u0434\u0430\u043b\u0435\u043a\u043e","\u0437\u0430","\u0441\u043b\u043e\u0432\u0435\u0441\u043d\u044b\u043c\u0438","\u0433\u043e\u0440\u0430\u043c\u0438","\u0432 \u0441\u0442\u0440\u0430\u043d\u0435","\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u044b\u0445","\u0436\u0438\u0432\u0443\u0442","\u0440\u044b\u0431\u043d\u044b\u0435","\u0442\u0435\u043a\u0441\u0442\u044b"],words:["\u0432\u0434\u0430\u043b\u0438","\u043e\u0442 \u0432\u0441\u0435\u0445","\u043e\u043d\u0438","\u0431\u0443\u043a\u0432\u0435\u043d\u043d\u044b\u0445","\u0434\u043e\u043c\u0430\u0445","\u043d\u0430 \u0431\u0435\u0440\u0435\u0433\u0443","\u0441\u0435\u043c\u0430\u043d\u0442\u0438\u043a\u0430","\u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e","\u044f\u0437\u044b\u043a\u043e\u0432\u043e\u0433\u043e","\u043e\u043a\u0435\u0430\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0439","\u0440\u0443\u0447\u0435\u0435\u043a","\u0434\u0430\u043b\u044c","\u0436\u0443\u0440\u0447\u0438\u0442","\u043f\u043e \u0432\u0441\u0435\u0439","\u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0435\u0442","\u0435\u0435","\u0432\u0441\u0435\u043c\u0438","\u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c\u0438","\u043f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438","\u044d\u0442\u0430","\u043f\u0430\u0440\u0430\u0434\u0438\u0433\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f","\u0441\u0442\u0440\u0430\u043d\u0430","\u043a\u043e\u0442\u043e\u0440\u043e\u0439","\u0436\u0430\u0440\u0435\u043d\u043d\u044b\u0435","\u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f","\u0437\u0430\u043b\u0435\u0442\u0430\u044e\u0442","\u043f\u0440\u044f\u043c\u043e","\u0440\u043e\u0442","\u0434\u0430\u0436\u0435","\u0432\u0441\u0435\u043c\u043e\u0433\u0443\u0449\u0430\u044f","\u043f\u0443\u043d\u043a\u0442\u0443\u0430\u0446\u0438\u044f","\u043d\u0435","\u0438\u043c\u0435\u0435\u0442","\u0432\u043b\u0430\u0441\u0442\u0438","\u043d\u0430\u0434","\u0440\u044b\u0431\u043d\u044b\u043c\u0438","\u0442\u0435\u043a\u0441\u0442\u0430\u043c\u0438","\u0432\u0435\u0434\u0443\u0449\u0438\u043c\u0438","\u0431\u0435\u0437\u043e\u0440\u0444\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u043d\u044b\u0439","\u043e\u0431\u0440\u0430\u0437","\u0436\u0438\u0437\u043d\u0438","\u043e\u0434\u043d\u0430\u0436\u0434\u044b","\u043e\u0434\u043d\u0430","\u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0430\u044f","\u0441\u0442\u0440\u043e\u0447\u043a\u0430","\u0440\u044b\u0431\u043d\u043e\u0433\u043e","\u0442\u0435\u043a\u0441\u0442\u0430","\u0438\u043c\u0435\u043d\u0438","lorem","ipsum","\u0440\u0435\u0448\u0438\u043b\u0430","\u0432\u044b\u0439\u0442\u0438","\u0431\u043e\u043b\u044c\u0448\u043e\u0439","\u043c\u0438\u0440","\u0433\u0440\u0430\u043c\u043c\u0430\u0442\u0438\u043a\u0438","\u0432\u0435\u043b\u0438\u043a\u0438\u0439","\u043e\u043a\u0441\u043c\u043e\u043a\u0441","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0430\u043b","\u043e","\u0437\u043b\u044b\u0445","\u0437\u0430\u043f\u044f\u0442\u044b\u0445","\u0434\u0438\u043a\u0438\u0445","\u0437\u043d\u0430\u043a\u0430\u0445","\u0432\u043e\u043f\u0440\u043e\u0441\u0430","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0445","\u0442\u043e\u0447\u043a\u0430\u0445","\u0437\u0430\u043f\u044f\u0442\u043e\u0439","\u043d\u043e","\u0442\u0435\u043a\u0441\u0442","\u0434\u0430\u043b","\u0441\u0431\u0438\u0442\u044c","\u0441\u0435\u0431\u044f","\u0442\u043e\u043b\u043a\u0443","\u043e\u043d","\u0441\u043e\u0431\u0440\u0430\u043b","\u0441\u0435\u043c\u044c","\u0441\u0432\u043e\u0438\u0445","\u0437\u0430\u0433\u043b\u0430\u0432\u043d\u044b\u0445","\u0431\u0443\u043a\u0432","\u043f\u043e\u0434\u043f\u043e\u044f\u0441\u0430\u043b","\u0438\u043d\u0438\u0446\u0438\u0430\u043b","\u0437\u0430","\u043f\u043e\u044f\u0441","\u043f\u0443\u0441\u0442\u0438\u043b\u0441\u044f","\u0434\u043e\u0440\u043e\u0433\u0443","\u0432\u0437\u043e\u0431\u0440\u0430\u0432\u0448\u0438\u0441\u044c","\u043f\u0435\u0440\u0432\u0443\u044e","\u0432\u0435\u0440\u0448\u0438\u043d\u0443","\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u0445","\u0433\u043e\u0440","\u0431\u0440\u043e\u0441\u0438\u043b","\u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","\u0432\u0437\u0433\u043b\u044f\u0434","\u043d\u0430\u0437\u0430\u0434","\u0441\u0438\u043b\u0443\u044d\u0442","\u0441\u0432\u043e\u0435\u0433\u043e","\u0440\u043e\u0434\u043d\u043e\u0433\u043e","\u0433\u043e\u0440\u043e\u0434\u0430","\u0431\u0443\u043a\u0432\u043e\u0433\u0440\u0430\u0434","\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0434\u0435\u0440\u0435\u0432\u043d\u0438","\u0430\u043b\u0444\u0430\u0432\u0438\u0442","\u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a","\u0441\u0432\u043e\u0435\u0433\u043e","\u043f\u0435\u0440\u0435\u0443\u043b\u043a\u0430","\u0433\u0440\u0443\u0441\u0442\u043d\u044b\u0439","\u0440\u0435\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439","\u0432\u043e\u043f\u0440\u043e\u0441","\u0441\u043a\u0430\u0442\u0438\u043b\u0441\u044f","\u0435\u0433\u043e","\u0449\u0435\u043a\u0435","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0434\u043e\u0440\u043e\u0433\u0435","\u0432\u0441\u0442\u0440\u0435\u0442\u0438\u043b","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u044c","\u043e\u043d\u0430","\u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0434\u0438\u043b\u0430","\u043c\u043e\u0435\u0439","\u0432\u0441\u0435","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f","\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e","\u0440\u0430\u0437","\u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435","\u0447\u0442\u043e","\u043c\u0435\u043d\u044f","\u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c","\u044d\u0442\u043e","\u043f\u0440\u0438\u0441\u0442\u0430\u0432\u043a\u0430","\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0441\u044f","\u0442\u044b","\u043b\u0443\u0447\u0448\u0435","\u0441\u0432\u043e\u044e","\u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0443\u044e","\u0441\u0442\u0440\u0430\u043d\u0443","\u043f\u043e\u0441\u043b\u0443\u0448\u0430\u0432\u0448\u0438\u0441\u044c","\u0440\u0443\u043a\u043e\u043f\u0438\u0441\u0438","\u043d\u0430\u0448","\u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u043b","\u0441\u0432\u043e\u0439","\u043f\u0443\u0442\u044c","\u0432\u0441\u043a\u043e\u0440\u0435","\u0435\u043c\u0443","\u043f\u043e\u0432\u0441\u0442\u0440\u0435\u0447\u0430\u043b\u0441\u044f","\u043a\u043e\u0432\u0430\u0440\u043d\u044b\u0439","\u0441\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043b\u044c","\u0440\u0435\u043a\u043b\u0430\u043c\u043d\u044b\u0445","\u0442\u0435\u043a\u0441\u0442\u043e\u0432","\u043d\u0430\u043f\u043e\u0438\u0432\u0448\u0438\u0439","\u044f\u0437\u044b\u043a\u043e\u043c","\u0440\u0435\u0447\u044c\u044e","\u0437\u0430\u043c\u0430\u043d\u0438\u0432\u0448\u0438\u0439","\u0441\u0432\u043e\u0435","\u0430\u0433\u0435\u043d\u0441\u0442\u0432\u043e","\u043a\u043e\u0442\u043e\u0440\u043e\u0435","\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u043e","\u0441\u043d\u043e\u0432\u0430","\u0441\u043d\u043e\u0432\u0430","\u0441\u0432\u043e\u0438\u0445","\u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445","\u0435\u0441\u043b\u0438","\u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u043b\u0438","\u0442\u043e","\u0436\u0438\u0432\u0435\u0442","\u0442\u0430\u043c","\u0434\u043e","\u0441\u0438\u0445","\u043f\u043e\u0440"]}};return a.define("lorem.defaultLang","en",'Default language of generated dummy text. Currently, <code>en</code>		and <code>ru</code> are supported, but users can add their own syntaxes		see <a href="http://docs.emmet.io/abbreviations/lorem-ipsum/">docs</a>.'),a.define("lorem.omitCommonPart",!1,"Omit commonly used part (e.g. \u201cLorem ipsum dolor sit amet\u201c) from generated text."),{addLang:function(e,t){"string"==typeof t?t={words:t.split(" ").filter(function(e){return!!e})}:Array.isArray(t)&&(t={words:t}),l[e]=t},preprocessor:function(e){var t,n=/^(?:lorem|lipsum)([a-z]{2})?(\d*)$/i,r=!a.get("lorem.omitCommonPart");e.findAll(function(e){if(e._name&&(t=e._name.match(n))){var i=t[2]||30,o=t[1]||a.get("lorem.defaultLang")||"en";e._name="",e.data("forceNameResolving",e.isRepeating()||e.attributeList().length),e.data("pasteOverwrites",!0),e.data("paste",function(e){return s(o,i,!e&&r)})}})}}})},{"../assets/preferences":27}],53:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function n(e){return e.substring(1,e.length-1)}function r(e){e=g.trim(e);for(var i,o,s=new t,a=s.addChild(),l=b.create(e),u=1e3,c=function(e){a.addChild(e)},f=function(){l.start=l.pos,l.eatWhile(function(e){if("["==e||"{"==e){if(l.skipToPair(e,_[e]))return l.backUp(1),!0;throw new Error('Invalid abbreviation: mo matching "'+_[e]+'" found for character at '+l.pos)}if("+"==e){l.next();var t=l.eol()||~"+>^*".indexOf(l.peek());return l.backUp(1),t}return"("!=e&&h(e)})};!l.eol()&&--u>0;)switch(i=l.peek()){case"(":if(l.start=l.pos,!l.skipToPair("(",")"))throw new Error('Invalid abbreviation: mo matching ")" found for character at '+l.pos);var p=r(n(l.current()));(o=l.match(/^\*(\d+)?/,!0))&&a._setRepeat(o[1]),p.children.forEach(c);break;case">":a=a.addChild(),l.next();break;case"+":a=a.parent.addChild(),l.next();break;case"^":var d=a.parent||a;a=(d.parent||d).addChild(),l.next();break;default:f(),a.setAbbreviation(l.current()),l.start=l.pos}if(1>u)throw new Error("Endless loop detected");return s}function i(e){e=g.trim(e);for(var t,n=[],r=b(e);t=r.next();)if(" "==t){for(n.push(g.trim(r.current()));" "==r.peek();)r.next();r.start=r.pos}else if(('"'==t||"'"==t)&&!r.skipString(t))throw new Error("Invalid attribute set");return n.push(g.trim(r.current())),n}function o(e){var t=e.charAt(0);if('"'==t||"'"==t){e=e.substr(1);var n=e.charAt(e.length-1);n===t&&(e=e.substr(0,e.length-1))}return e}function s(e){var t=/^[\w\-:\$@]+\.?$/;return i(e).map(function(e){if(t.test(e)){var n="";return"."==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1),n=e),{name:e,value:n}}if(~e.indexOf("=")){var r=e.split("=");return{name:r.shift(),value:o(r.join("="))}}return{name:E,value:o(e)}})}function a(e){for(var t=[],r={"#":"id",".":"class"},i=null,o=b.create(e);!o.eol();)switch(o.peek()){case"#":case".":null===i&&(i=o.pos);var a=r[o.peek()];o.next(),o.start=o.pos,o.eatWhile(A),t.push({name:a,value:o.current()});break;case"[":if(null===i&&(i=o.pos),o.start=o.pos,!o.skipToPair("[","]"))throw new Error("Invalid attribute set definition");t=t.concat(s(n(o.current())));break;default:o.next()}return t.length?{element:e.substring(0,i),attributes:l(t)}:null}function l(e){e=e.map(function(e){return g.clone(e)});var t={};return e.filter(function(e){if(!(e.name in t))return t[e.name]=e;var n=t[e.name];return"class"==e.name.toLowerCase()?n.value+=(n.value.length?" ":"")+e.value:(n.value=e.value,n.isImplied=!!e.isImplied),!1})}function u(e){if(!~e.indexOf("{"))return null;for(var t=b.create(e);!t.eol();)switch(t.peek()){case"[":case"(":t.skipToPair(t.peek(),_[t.peek()]);break;case"{":return t.start=t.pos,t.skipToPair("{","}"),{element:e.substring(0,t.start),text:n(t.current())};default:t.next()}}function c(e){for(var t,n,r,i=e.children.length-1;i>=0;i--)if(n=e.children[i],n.isRepeating())for(r=t=n.repeatCount,n.repeatCount=1,n.updateProperty("counter",1),n.updateProperty("maxCount",r);--t>0;)n.parent.addChild(n.clone(),i+1).updateProperty("counter",t+1).updateProperty("maxCount",r);return e.children.forEach(c),e}function f(e){for(var t=e.children.length-1;t>=0;t--){var n=e.children[t];n.isGroup()?n.replace(f(n).children):n.isEmpty()&&n.remove()}return e.children.forEach(f),e}function h(e){var t=e.charCodeAt(0),n="#.*:$-_!@|%";return t>64&&91>t||t>96&&123>t||t>47&&58>t||-1!=n.indexOf(e)}var p=e("../assets/tabStops"),d=e("../assets/profile"),m=e("../filter/main"),g=e("../utils/common"),v=e("../utils/abbreviation"),b=e("../assets/stringStream"),y=e("../generator/lorem"),x=e("./processor/pastedContent"),w=e("./processor/tagName"),C=e("./processor/resourceMatcher"),S=e("./processor/attributes"),D=e("./processor/href"),k=/^[\w\-\$\:@\!%]+\+?$/i,A=/[\w\-:\$@]/,E="%default",_={"[":"]","(":")","{":"}"},F=Array.prototype.splice,P=[],L=[],I=[];return t.prototype={addChild:function(e,n){return e=e||new t,e.parent=this,"undefined"==typeof n?this.children.push(e):this.children.splice(n,0,e),e},clone:function(){var e=new t,n=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];return n.forEach(function(t){e[t]=this[t]},this),e._attributes=this._attributes.map(function(e){return g.extend({},e)}),e._data=g.extend({},this._data),e.children=this.children.map(function(t){return t=t.clone(),t.parent=e,t}),e},remove:function(){if(this.parent){var e=this.parent.children.indexOf(this);~e&&this.parent.children.splice(e,1)}return this},replace:function(){var e=this.parent,t=e.children.indexOf(this),n=g.flatten(arguments);F.apply(e.children,[t,1].concat(n)),n.forEach(function(t){t.parent=e})},updateProperty:function(e,t){return this[e]=t,this.children.forEach(function(n){n.updateProperty(e,t)}),this},find:function(e){return this.findAll(e,{amount:1})[0]},findAll:function(e,t){if(t=g.extend({amount:0,found:0},t||{}),"function"!=typeof e){var n=e.toLowerCase();e=function(e){return e.name().toLowerCase()==n}}var r=[];return this.children.forEach(function(n){e(n)&&(r.push(n),t.found++,t.amount&&t.found>=t.amount)||(r=r.concat(n.findAll(e)))}),r.filter(function(e){return!!e})},data:function(e,t){return 2==arguments.length&&(this._data[e]=t),this._data[e]},name:function(){return this._name},attributeList:function(){return l(this._attributes.slice(0))},attribute:function(e,t){if(2==arguments.length){if(null===t){var n=this._attributes.filter(function(t){return t.name===e}),r=this;return void n.forEach(function(e){var t=r._attributes.indexOf(e);~t&&r._attributes.splice(t,1)})}var i=this._attributes.map(function(e){return e.name}),o=i.indexOf(e.toLowerCase());~o?this._attributes[o].value=t:this._attributes.push({name:e,value:t})}return(g.find(this.attributeList(),function(t){return t.name==e})||{}).value},index:function(){return this.parent?this.parent.children.indexOf(this):-1},_setRepeat:function(e){e?this.repeatCount=parseInt(e,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(e){e=e||"";var t=this;e=e.replace(/\*(\d+)?$/,function(e,n){return t._setRepeat(n),""}),this.abbreviation=e;var n=u(e);n&&(e=n.element,this.content=this._text=n.text);var r=a(e);if(r&&(e=r.element,this._attributes=r.attributes),this._name=e,this._name&&!k.test(this._name))throw new Error("Invalid abbreviation")},valueOf:function(){var e=this.start,t=this.end,n=this.content,r=this;I.forEach(function(i){e=i(e,r,"start"),n=i(n,r,"content"),t=i(t,r,"end")});var i=this.children.map(function(e){return e.valueOf()}).join("");return n=v.insertChildContent(n,i,{keepVariable:!1}),e+g.padString(n,this.padding)+t},toString:function(){return this.valueOf()},hasEmptyChildren:function(){return!!g.find(this.children,function(e){return e.isEmpty()})},hasImplicitName:function(){return!this._name&&!this.isTextNode()},isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:function(){return!this.isEmpty()&&!this.isTextNode()},deepestChild:function(){if(!this.children.length)return null;for(var e=this;e.children.length;)e=e.children[e.children.length-1];return e}},I.push(function(e,t){return g.replaceCounter(e,t.counter,t.maxCount)}),I.push(p.abbrOutputProcessor.bind(p)),[y,C,S,x,w,D].forEach(function(e){e.preprocessor&&P.push(e.preprocessor.bind(e)),e.postprocessor&&L.push(e.postprocessor.bind(e))}),{DEFAULT_ATTR_NAME:E,parse:function(e,t){t=t||{};var n=r(e),i=this;if(t.contextNode){n._name=t.contextNode.name;var o={};n._attributes.forEach(function(e){o[e.name]=e}),t.contextNode.attributes.forEach(function(e){e.name in o?o[e.name].value=e.value:(e=g.clone(e),n._attributes.push(e),o[e.name]=e)})}return P.forEach(function(e){e(n,t,i)}),"counter"in t&&n.updateProperty("counter",t.counter),n=f(c(n)),L.forEach(function(e){e(n,t,i)}),n},expand:function(e,t){if(!e)return"";if("string"==typeof t)throw new Error("Deprecated use of `expand` method: `options` must be object");t=t||{},t.syntax||(t.syntax=g.defaultSyntax());var n=d.get(t.profile,t.syntax);p.resetTabstopIndex();var r=m.extract(e),i=this.parse(r[0],t),o=m.composeList(t.syntax,n,r[1]);return m.apply(i,o,n),i.valueOf()},AbbreviationNode:t,addPreprocessor:function(e){~P.indexOf(e)||P.push(e)},removeFilter:function(e){var t=P.indexOf(e);~t&&P.splice(t,1)},addPostprocessor:function(e){~L.indexOf(e)||L.push(e)},removePostprocessor:function(e){var t=L.indexOf(e);~t&&L.splice(t,1)},addOutputProcessor:function(e){~I.indexOf(e)||I.push(e)},removeOutputProcessor:function(e){var t=I.indexOf(e);~t&&I.splice(t,1)},isAllowedChar:function(e){return e=String(e),h(e)||~">+^[](){}".indexOf(e)}}})},{"../assets/profile":28,"../assets/stringStream":31,"../assets/tabStops":32,"../filter/main":47,"../generator/lorem":52,"../utils/abbreviation":67,"../utils/common":71,"./processor/attributes":55,"./processor/href":56,"./processor/pastedContent":57,"./processor/resourceMatcher":58,"./processor/tagName":59}],54:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e,t){return t=t||e.charCodeAt(0),t>=97&&122>=t||t>=65&&90>=t||t>=1024&&1279>=t||"&"===e||"_"===e||"<"===e||">"===e||"="===e||"-"===e}function t(e,t){return t=t||e.charCodeAt(0),t>=48&&57>=t}function n(e,t){m.tokens.push({value:e,type:t||e,start:null,end:null})}function r(e){for(var t=e.chnum,n=e.source.replace(/\r\n?/g,"\n"),r=e.source.substring(0,t+1).replace(/\r\n?/g,"\n"),i=r.split("\n"),o=(i[i.length-1]||"").length,s=n.split("\n")[i.length-1]||"",a=100,l=Math.max(0,o-a),u=s.substr(l,2*a)+"\n",c=0;o-l-1>c;c++)u+="-";return u+="^",{line:i.length,ch:o,text:s,hint:u}}function i(e){var t=o(e),n=new Error(t.message,"",t.line);throw n.line=t.line,n.ch=t.ch,n.name=t.name,n.hint=t.hint,n}function o(e){{var t=r(g);m.tokens}m.tokens=null;var n="CSS parsing error at line "+t.line+", char "+t.ch+": "+e;return n+="\n"+t.hint,{name:"ParseError",message:n,hint:t.hint,line:t.line,ch:t.ch}}function s(){for(var e=g.ch,t="";" "===e||"	"===e;)t+=e,e=g.nextChar();n(t,"white")}function a(){var e,t=g,r=t.ch,i=r;if(e=t.nextChar(),"/"===e)for(;r&&"\n"!==e&&"\r"!==e;)i+=e,r=e,e=t.nextChar();else{if("*"!==e)return n(i,i);for(;r&&("*"!==r||"/"!==e);)i+=e,r=e,e=t.nextChar()}i+=e,t.nextChar(),n(i,"comment")}function l(){var e,t=g,n=t.ch,r=n,o=n;for(n=t.nextChar();n!==r;)"\n"===n?(e=t.nextChar(),"\\"===e?o+=n+e:i("Unterminated string")):o+="\\"===n?n+t.nextChar():n,n=t.nextChar();return o+=n}function u(){var e=l();g.nextChar(),n(e,"string")}function c(){var e=g,t=e.ch,r=1,o=t,s=!1;for(t=e.nextChar();t&&!s;)"("===t?r++:")"===t?(r--,r||(s=!0)):'"'===t||"'"===t?t=l():""===t&&i("Unterminated brace"),o+=t,t=e.nextChar();n(o,"brace")}function f(r){var i=g.ch,o=r?r+i:i;i=g.nextChar();for(var s=i.charCodeAt(0);e(i,s)||t(i,s);)o+=i,i=g.nextChar(),s=i.charCodeAt(0);n(o,"identifier")}function h(){var e,r=g,i=r.ch,o=i,s="."===o;if(i=r.nextChar(),e=!t(i),s&&e)return n(o,".");if("-"===o&&e)return f("-");for(;""!==i&&(t(i)||!s&&"."===i);)"."===i&&(s=!0),o+=i,i=r.nextChar();n(o,"number")}function p(){var e=g,t=e.ch,r=t,i=e.nextChar();return"="===i&&v(r,!0)?(r+=i,n(r,"match"),void e.nextChar()):void n(r,r)}function d(){var r=g.ch;return" "===r||"	"===r?s():"/"===r?a():'"'===r||"'"===r?u():"("===r?c():"-"===r||"."===r||t(r)?h():e(r)?f():v(r)?p():"\r"===r?("\n"===g.peek()&&(r+=g.nextChar()),n(r,"line"),void g.nextChar()):"\n"===r?(n(r,"line"),void g.nextChar()):void i("Unrecognized character '"+r+"'")}var m={tokens:null},g={init:function(e){this.source=e,this.ch="",this.chnum=-1,this.nextChar()},nextChar:function(){return this.ch=this.source.charAt(++this.chnum)},peek:function(){return this.source.charAt(this.chnum+1)}},v=function(){for(var e="{}[]()+*=.,;:>~|\\%$#@^!".split(""),t="*^|$~".split(""),n={},r={},i=0;i<e.length;i+=1)n[e[i]]=!0;for(i=0;i<t.length;i+=1)r[t[i]]=!0;return function(e,t){return t?e in r:e in n}}();return{lex:function(e){if(g.init(e),m.tokens=[],e)for(;""!==g.ch;)d();else m.tokens.push(this.white());var t=m.tokens;return m.tokens=null,t},parse:function(e){for(var t,n=this.lex(e),r=0,i=0,o=n.length;o>i;i++)t=n[i],t.start=r,t.end=r+=t.value.length;return n},white:function(){return{value:"",type:"white",start:0,end:0}},toSource:function(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}}})},{}],55:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)
};r(function(e){function t(e,s){e.children.forEach(function(e){var a=e.attributeList(),l=e.attribute(s.DEFAULT_ATTR_NAME);if("undefined"!=typeof l){if(e.attribute(s.DEFAULT_ATTR_NAME,null),a.length){var u=n.find(a,r)||n.find(a,i)||n.find(a,o);if(u){var c=e.attribute(u.name),f=n.replaceUnescapedSymbol(c,"|",l);c==f&&(f=l),e.attribute(u.name,f)}}}else a.forEach(function(t){t.isImplied&&e.attribute(t.name,null)});t(e,s)})}var n=e("../../utils/common"),r=function(e){return e.isDefault},i=function(e){return e.isImplied},o=function(e){return!e.value};return{preprocessor:function(e,n,r){t(e,r)}}})},{"../../utils/common":71}],56:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../../assets/preferences"),n=e("../../utils/common"),r=e("./pastedContent");return t.define("href.autodetect",!0,"Enables or disables automatic URL recognition when wrapping		text with <code>&lt;a&gt;</code> tag. With this option enabled,		if wrapped text matches URL or e-mail pattern it will be automatically		inserted into <code>href</code> attribute."),t.define("href.urlPattern","^(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","RegExp pattern to match wrapped URLs. Matched content will be inserts		as-is into <code>href</code> attribute, only whitespace will be trimmed."),t.define("href.emailPattern","^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,5}$","RegExp pattern to match wrapped e-mails. Unlike <code>href.urlPattern</code>,		wrapped content will be prefixed with <code>mailto:</code> in <code>href</code>		attribute"),{postprocessor:function(e,i){if(t.get("href.autodetect")){var o=new RegExp(t.get("href.urlPattern"),"i"),s=new RegExp(t.get("href.emailPattern"),"i"),a=/^([a-z]+:)?\/\//i;e.findAll(function(e){if("a"==e.name().toLowerCase()&&!e.attribute("href")){var t=n.trim(r.pastedContent(e)||i.pastedContent);t&&(o.test(t)?(a.test(t)||(t="http://"+t),e.attribute("href",t)):s.test(t)&&e.attribute("href","mailto:"+t))}})}}}})},{"../../assets/preferences":27,"../../utils/common":71,"./pastedContent":57}],57:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){for(var t=[],n=a.create(e);!n.eol();){if("\\"==n.peek())n.next();else if(n.start=n.pos,n.match(u,!0)){t.push(l.create(n.start,u));continue}n.next()}return t}function n(e,n){var r=t(e);return r.reverse().forEach(function(t){e=o.replaceSubstring(e,n,t)}),e}function r(e){return t(e.content).length?!0:!!o.find(e.attributeList(),function(e){return!!t(e.value).length})}function i(e,t,i){var o=e.findAll(function(e){return r(e)});if(r(e)&&o.unshift(e),o.length)o.forEach(function(e){e.content=n(e.content,t),e._attributes.forEach(function(e){e.value=n(e.value,t)})});else{var a=e.deepestChild()||e;a.content=i?t:s.insertChildContent(a.content,t)}}var o=e("../../utils/common"),s=e("../../utils/abbreviation"),a=e("../../assets/stringStream"),l=e("../../assets/range"),u="$#";return{pastedContent:function(e){var t=e.data("paste");return Array.isArray(t)?t[e.counter-1]:"function"==typeof t?t(e.counter-1,e.content):t?t:void 0},preprocessor:function(e,t){if(t.pastedContent){var n=o.splitByLines(t.pastedContent,!0).map(o.trim);e.findAll(function(e){return e.hasImplicitRepeat?(e.data("paste",n),e.repeatCount=n.length):void 0})}},postprocessor:function(e,t){var n=this,r=e.findAll(function(e){var t=n.pastedContent(e);return t&&i(e,t,!!e.data("pasteOverwrites")),!!t});!r.length&&t.pastedContent&&i(e,t.pastedContent)}}})},{"../../assets/range":29,"../../assets/stringStream":31,"../../utils/abbreviation":67,"../../utils/common":71}],58:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,i,s){e.children.slice(0).forEach(function(e){var a=n.getMatchedResource(e,i);"string"==typeof a&&(a=r.create("snippet",a)),e.data("resource",a);var l=r.type(a);if("snippet"==l){var u=a.data,c=e._text||e.content;c&&(u=o.insertChildContent(u,c)),e.content=u}else if("element"==l)e._name=a.name,Array.isArray(a.attributes)&&(e._attributes=[].concat(a.attributes,e._attributes));else if("reference"==l){var f=s.parse(a.data,{syntax:i});if(e.repeatCount>1){var h=f.findAll(function(e){return e.hasImplicitRepeat});h.length||(h=f.children),h.forEach(function(t){t.repeatCount=e.repeatCount,t.hasImplicitRepeat=!1})}var p=f.deepestChild();p&&(e.children.forEach(function(e){p.addChild(e)}),p.content=e.content),f.children.forEach(function(t){e.attributeList().forEach(function(e){t.attribute(e.name,e.value)})}),e.replace(f.children)}t(e,i,s)})}var n=e("../../assets/resources"),r=e("../../assets/elements"),i=e("../../utils/common"),o=e("../../utils/abbreviation");return{preprocessor:function(e,n,r){var o=n.syntax||i.defaultSyntax();t(e,o,r)}}})},{"../../assets/elements":23,"../../assets/resources":30,"../../utils/abbreviation":67,"../../utils/common":71}],59:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return e.children.forEach(function(e){(e.hasImplicitName()||e.data("forceNameResolving"))&&(e._name=n.resolve(e.parent.name()),e.data("nameResolved",!0)),t(e)}),e}var n=e("../../resolver/tagName");return{postprocessor:t}})},{"../../resolver/tagName":65}],60:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t){function r(n){return t.tokenize=n,n(e,t)}var s=e.next();if("<"==s){if(e.eat("!"))return e.eat("[")?e.match("CDATA[")?r(i("atom","]]>")):null:e.match("--")?r(i("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),r(o(1))):null;if(e.eat("?"))return e.eatWhile(/[\w\._\-]/),t.tokenize=i("meta","?>"),"meta";D=e.eat("/")?"closeTag":"openTag",e.eatSpace(),S="";for(var a;a=e.eat(/[^\s\u00a0=<>\"\'\/?]/);)S+=a;return t.tokenize=n,"tag"}if("&"==s){var l;return l=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),l?"atom":"error"}return e.eatWhile(/[^&<]/),"text"}function n(e,n){var i=e.next();return">"==i||"/"==i&&e.eat(">")?(n.tokenize=t,D=">"==i?"endTag":"selfcloseTag","tag"):"="==i?(D="equals",null):/[\'\"]/.test(i)?(n.tokenize=r(i),n.tokenize(e,n)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function r(e){return function(t,r){for(;!t.eol();)if(t.next()==e){r.tokenize=n;break}return"string"}}function i(e,n){return function(r,i){for(;!r.eol();){if(r.match(n)){i.tokenize=t;break}r.next()}return e}}function o(e){return function(n,r){for(var i;null!==(i=n.next());){if("<"==i)return r.tokenize=o(e+1),r.tokenize(n,r);if(">"==i){if(1==e){r.tokenize=t;break}return r.tokenize=o(e-1),r.tokenize(n,r)}}return"meta"}}function s(){for(var e=arguments.length-1;e>=0;e--)k.cc.push(arguments[e])}function a(){return s.apply(null,arguments),!0}function l(e,t){var n=C.doNotIndent.hasOwnProperty(e)||k.context&&k.context.noIndent;k.context={prev:k.context,tagName:e,indent:k.indented,startOfLine:t,noIndent:n}}function u(){k.context&&(k.context=k.context.prev)}function c(e){if("openTag"==e)return k.tagName=S,a(d,f(k.startOfLine));if("closeTag"==e){var t=!1;return k.context?k.context.tagName!=S&&(C.implicitlyClosed.hasOwnProperty(k.context.tagName.toLowerCase())&&u(),t=!k.context||k.context.tagName!=S):t=!0,t&&(x="error"),a(h(t))}return a()}function f(e){return function(t){return"selfcloseTag"==t||"endTag"==t&&C.autoSelfClosers.hasOwnProperty(k.tagName.toLowerCase())?(p(k.tagName.toLowerCase()),a()):"endTag"==t?(p(k.tagName.toLowerCase()),l(k.tagName,e),a()):a()}}function h(e){return function(t){return e&&(x="error"),"endTag"==t?(u(),a()):(x="error",a(arguments.callee))}}function p(e){for(var t;;){if(!k.context)return;if(t=k.context.tagName.toLowerCase(),!C.contextGrabbers.hasOwnProperty(t)||!C.contextGrabbers[t].hasOwnProperty(e))return;u()}}function d(e){return"word"==e?(x="attribute",a(m,d)):"endTag"==e||"selfcloseTag"==e?s():(x="error",a(d))}function m(e){return"equals"==e?a(g,d):(C.allowMissing||(x="error"),"endTag"==e||"selfcloseTag"==e?s():a())}function g(e){return"string"==e?a(v):"word"==e&&C.allowUnquoted?(x="string",a()):(x="error","endTag"==e||"selfCloseTag"==e?s():a())}function v(e){return"string"==e?a(v):s()}function b(){return{tokenize:t,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}}function y(e,t){if(e.sol()&&(t.startOfLine=!0,t.indented=0),e.eatSpace())return null;x=D=S=null;var n=t.tokenize(e,t);if(t.type=D,(n||D)&&"comment"!=n)for(k=t;;){var r=t.cc.pop()||c;if(r(D||n))break}return t.startOfLine=!1,x||n}var x,w=e("../assets/stringStream"),C={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!0,allowMissing:!0},S=null,D=null,k=null;return{parse:function(e,t){t=t||0;for(var n=b(),r=w.create(e),i=[];!r.eol();)i.push({type:y(r,n),start:r.start+t,end:r.pos+t}),r.start=r.pos;return i}}})},{"../assets/stringStream":31}],61:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function i(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(String.fromCharCode(e[n]));return t.join("")}function o(e){var t=/^https?:\/\//;return t.test(e)}var s=e("../utils/common");return function(e){if("undefined"==typeof r||!r.amd)try{fs=e("fs"),path=e("path")}catch(t){}}(e),n.exports=function(e){e&&s.extend(n.exports,e)},s.extend(n.exports,{_parseParams:function(e){var t={path:e[0],size:0};return e=s.toArray(e,1),t.callback=e[e.length-1],e=e.slice(0,e.length-1),e.length&&(t.size=e[0]),t},_read:function(t,n){if(o(t.path))var r=e(/^https:/.test(t.path)?"https":"http").get(t.path,function(e){var i=[],o=0,s=!1;e.on("data",function(e){o+=e.length,i.push(e),t.size&&o>=t.size&&(s=!0,n(null,Buffer.concat(i)),r.abort())}).on("end",function(){s||(s=!0,n(null,Buffer.concat(i)))})}).on("error",n);else if(t.size){var i=fs.openSync(t.path,"r"),s=new Buffer(t.size);fs.read(i,s,0,t.size,null,function(e){n(e,s)})}else n(null,fs.readFileSync(t.path))},read:function(){var e=this._parseParams(arguments);this._read(e,function(t,n){e.callback(t,t?"":i(n))})},readText:function(){var e=this._parseParams(arguments);this._read(e,function(t,n){e.callback(t,t?"":n.toString())})},locateFile:function(e,t){if(o(t))return t;var n,r=e;for(t=t.replace(/^\/+/,"");r&&r!==path.dirname(r);)if(r=path.dirname(r),n=path.join(r,t),fs.existsSync(n))return n;return""},createPath:function(e,t,n){var r=fs.statSync(e);return r&&!r.isDirectory()&&(e=path.dirname(e)),n(path.resolve(e,t))},save:function(e,t){fs.writeFileSync(e,t,"ascii")},getExt:function(e){var t=(e||"").match(/\.([\w\-]+)$/);return t?t[1].toLowerCase():""}})})},{"../utils/common":71}],62:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e){var t=e&&e.charCodeAt(0);return e&&"."==e||t>47&&58>t}function i(e){return e=D.trim(e),/\/\*|\n|\r/.test(e)?!1:/^[a-z0-9\-]+\s*\:/i.test(e)?2==e.replace(/\$\{.+?\}/g,"").split(":").length:!1}function o(e){"-"!=e.charAt(0)||/^\-[\.\d]/.test(e)||(e=e.replace(/^\-+/,""));var t=e.charAt(0);return"#"==t?s(e):"$"==t?D.escapeText(e):l(e)}function s(e){var t=e.replace(/^#+/,"")||"0";if("t"==t.toLowerCase())return"transparent";var n="";t=t.replace(/\.(\d+)$/,function(e){return n="0"+e,""});var r=D.repeatString,i=null;switch(t.length){case 1:i=r(t,6);break;case 2:i=r(t,3);break;case 3:i=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2);break;case 4:i=t+t.substr(0,2);break;case 5:i=t+t.charAt(0);break;default:i=t.substr(0,6)}if(n)return a(i,n);if(x.get("css.color.short")){var o=i.split("");o[0]==o[1]&&o[2]==o[3]&&o[4]==o[5]&&(i=o[0]+o[2]+o[4])}switch(x.get("css.color.case")){case"upper":i=i.toUpperCase();break;case"lower":i=i.toLowerCase()}return"#"+i}function a(e,t){var n=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),i=parseInt(e.substr(4,2),16);return"rgba("+[n,r,i,t].join(", ")+")"}function l(e){var t=x.getDict("css.keywordAliases");return e in t?t[e]:e}function u(e){var t=x.getDict("css.unitAliases");return e in t?t[e]:e}function c(e){return~x.getArray("css.keywords").indexOf(l(e))}function f(e,t){var n=_[t];return n||(n=D.find(_,function(e){return e.prefix==t})),n&&n.supports(e)}function h(e){var t=S.resolvePrefixes(e);return t||(t=[],Object.keys(_).forEach(function(n){f(e,n)&&t.push(_[n].prefix)}),t.length||(t=null)),t}function p(e,t){var n=[],r=h(e);if(r){var i={};Object.keys(_).forEach(function(e){i[_[e].prefix]=e}),n=r.map(function(e){return i[e]})}return n.length||t||Object.keys(_).forEach(function(e){_[e].obsolete||n.push(e)}),n}function d(e,t){"string"==typeof t&&(t={prefix:t}),_[e]=D.extend({},E,t)}function m(e,t){if(t){"styl"==t&&(t="stylus");var n=x.get(t+"."+e);if("undefined"!=typeof n)return n}return x.get("css."+e)}function g(e,t){var n=e.indexOf(":");return e=e.substring(0,n).replace(/\s+$/,"")+m("valueSeparator",t)+D.trim(e.substring(n+1)),e.replace(/\s*;\s*$/,m("propertyEnd",t))}function v(e,t,n){return"string"!=typeof e&&(e=e.data),i(e)?(t&&(~e.indexOf(";")?e=e.split(";").join(" !important;"):e+=" !important"),g(e,n)):e}function b(e){var t=x.getArray(e),n=x.getArray(e+"Addon");return n&&n.forEach(function(e){"-"==e.charAt(0)?t=D.without(t,e.substr(1)):("+"==e.charAt(0)&&(e=e.substr(1)),t.push(e))}),t}function y(e,t,n){var r=[],i={},o=A.findParts(e.value);return o.reverse(),o.forEach(function(t){var n=t.substring(e.value);(h(n)||[]).forEach(function(o){i[o]||(i[o]=e.value,r.push(o)),i[o]=D.replaceSubstring(i[o],"-"+o+"-"+n,t)})}),r.map(function(r){return v(e.name+":"+i[r],t,n)})}var x=e("../assets/preferences"),w=e("../assets/resources"),C=e("../assets/stringStream"),S=e("../assets/caniuse"),D=e("../utils/common"),k=e("../utils/template"),A=e("../editTree/css"),E={prefix:"emmet",obsolete:!1,transformName:function(e){return"-"+this.prefix+"-"+e},properties:function(){return b("css."+this.prefix+"Properties")||[]},supports:function(e){return~this.properties().indexOf(e)}},_={},F="${1};";x.define("css.valueSeparator",": ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations."),x.define("css.propertyEnd",";","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations."),x.define("stylus.valueSeparator"," ","Defines a symbol that should be placed between CSS property and value when expanding CSS abbreviations in Stylus dialect."),x.define("stylus.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in Stylus dialect."),x.define("sass.propertyEnd","","Defines a symbol that should be placed at the end of CSS property  when expanding CSS abbreviations in SASS dialect."),x.define("css.syntaxes","css, less, sass, scss, stylus, styl","List of syntaxes that should be treated as CSS dialects."),x.define("css.autoInsertVendorPrefixes",!0,"Automatically generate vendor-prefixed copies of expanded CSS property. By default, Emmet will generate vendor-prefixed properties only when you put dash before abbreviation (e.g. <code>-bxsh</code>). With this option enabled, you don\u2019t need dashes before abbreviations: Emmet will produce vendor-prefixed properties for you."),x.define("less.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for LESS syntax"),x.define("scss.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SCSS syntax"),x.define("sass.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for SASS syntax"),x.define("stylus.autoInsertVendorPrefixes",!1,"Same as <code>css.autoInsertVendorPrefixes</code> but for Stylus syntax");var P=k("A comma-separated list of CSS properties that may have <code><%= vendor %></code> vendor prefix. This list is used to generate a list of prefixed properties when expanding <code>-property</code> abbreviations. Empty list means that all possible CSS values may have <code><%= vendor %></code> prefix."),L=k("A comma-separated list of <em>additional</em> CSS properties for <code>css.<%= vendor %>Preperties</code> preference. You should use this list if you want to add or remove a few CSS properties to original set. To add a new property, simply write its name, to remove it, precede property with hyphen.<br>For example, to add <em>foo</em> property and remove <em>border-radius</em> one, the preference value will look like this: <code>foo, -border-radius</code>."),I={webkit:"animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-clip, background-composite, background-origin, background-size, border-fit, border-horizontal-spacing, border-image, border-vertical-spacing, box-align, box-direction, box-flex, box-flex-group, box-lines, box-ordinal-group, box-orient, box-pack, box-reflect, box-shadow, color-correction, column-break-after, column-break-before, column-break-inside, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-span, column-width, dashboard-region, font-smoothing, highlight, hyphenate-character, hyphenate-limit-after, hyphenate-limit-before, hyphens, line-box-contain, line-break, line-clamp, locale, margin-before-collapse, margin-after-collapse, marquee-direction, marquee-increment, marquee-repetition, marquee-style, mask-attachment, mask-box-image, mask-box-image-outset, mask-box-image-repeat, mask-box-image-slice, mask-box-image-source, mask-box-image-width, mask-clip, mask-composite, mask-image, mask-origin, mask-position, mask-repeat, mask-size, nbsp-mode, perspective, perspective-origin, rtl-ordering, text-combine, text-decorations-in-effect, text-emphasis-color, text-emphasis-position, text-emphasis-style, text-fill-color, text-orientation, text-security, text-stroke-color, text-stroke-width, transform, transition, transform-origin, transform-style, transition-delay, transition-duration, transition-property, transition-timing-function, user-drag, user-modify, user-select, writing-mode, svg-shadow, box-sizing, border-radius",moz:"animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, appearance, backface-visibility, background-inline-policy, binding, border-bottom-colors, border-image, border-left-colors, border-right-colors, border-top-colors, box-align, box-direction, box-flex, box-ordinal-group, box-orient, box-pack, box-shadow, box-sizing, column-count, column-gap, column-rule-color, column-rule-style, column-rule-width, column-width, float-edge, font-feature-settings, font-language-override, force-broken-image-icon, hyphens, image-region, orient, outline-radius-bottomleft, outline-radius-bottomright, outline-radius-topleft, outline-radius-topright, perspective, perspective-origin, stack-sizing, tab-size, text-blink, text-decoration-color, text-decoration-line, text-decoration-style, text-size-adjust, transform, transform-origin, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-focus, user-input, user-modify, user-select, window-shadow, background-clip, border-radius",ms:"accelerator, backface-visibility, background-position-x, background-position-y, behavior, block-progression, box-align, box-direction, box-flex, box-line-progression, box-lines, box-ordinal-group, box-orient, box-pack, content-zoom-boundary, content-zoom-boundary-max, content-zoom-boundary-min, content-zoom-chaining, content-zoom-snap, content-zoom-snap-points, content-zoom-snap-type, content-zooming, filter, flow-from, flow-into, font-feature-settings, grid-column, grid-column-align, grid-column-span, grid-columns, grid-layer, grid-row, grid-row-align, grid-row-span, grid-rows, high-contrast-adjust, hyphenate-limit-chars, hyphenate-limit-lines, hyphenate-limit-zone, hyphens, ime-mode, interpolation-mode, layout-flow, layout-grid, layout-grid-char, layout-grid-line, layout-grid-mode, layout-grid-type, line-break, overflow-style, perspective, perspective-origin, perspective-origin-x, perspective-origin-y, scroll-boundary, scroll-boundary-bottom, scroll-boundary-left, scroll-boundary-right, scroll-boundary-top, scroll-chaining, scroll-rails, scroll-snap-points-x, scroll-snap-points-y, scroll-snap-type, scroll-snap-x, scroll-snap-y, scrollbar-arrow-color, scrollbar-base-color, scrollbar-darkshadow-color, scrollbar-face-color, scrollbar-highlight-color, scrollbar-shadow-color, scrollbar-track-color, text-align-last, text-autospace, text-justify, text-kashida-space, text-overflow, text-size-adjust, text-underline-position, touch-action, transform, transform-origin, transform-origin-x, transform-origin-y, transform-origin-z, transform-style, transition, transition-delay, transition-duration, transition-property, transition-timing-function, user-select, word-break, wrap-flow, wrap-margin, wrap-through, writing-mode",o:"dashboard-region, animation, animation-delay, animation-direction, animation-duration, animation-fill-mode, animation-iteration-count, animation-name, animation-play-state, animation-timing-function, border-image, link, link-source, object-fit, object-position, tab-size, table-baseline, transform, transform-origin, transition, transition-delay, transition-duration, transition-property, transition-timing-function, accesskey, input-format, input-required, marquee-dir, marquee-loop, marquee-speed, marquee-style"};return Object.keys(I).forEach(function(e){x.define("css."+e+"Properties",I[e],P({vendor:e})),x.define("css."+e+"PropertiesAddon","",L({vendor:e}))}),x.define("css.unitlessProperties","z-index, line-height, opacity, font-weight, zoom","The list of properties whose values \u200b\u200bmust not contain units."),x.define("css.intUnit","px","Default unit for integer values"),x.define("css.floatUnit","em","Default unit for float values"),x.define("css.keywords","auto, inherit, all","A comma-separated list of valid keywords that can be used in CSS abbreviations."),x.define("css.keywordAliases","a:auto, i:inherit, s:solid, da:dashed, do:dotted, t:transparent","A comma-separated list of keyword aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:keyword_name</code>."),x.define("css.unitAliases","e:em, p:%, x:ex, r:rem","A comma-separated list of unit aliases, used in CSS abbreviation. Each alias should be defined as <code>alias:unit_value</code>."),x.define("css.color.short",!0,"Should color values like <code>#ffffff</code> be shortened to <code>#fff</code> after abbreviation with color was expanded."),x.define("css.color.case","keep","Letter case of color values generated by abbreviations with color (like <code>c#0</code>). Possible values are <code>upper</code>, <code>lower</code> and <code>keep</code>."),x.define("css.fuzzySearch",!0,"Enable fuzzy search among CSS snippet names. When enabled, every <em>unknown</em> snippet will be scored against available snippet names (not values or CSS properties!). The match with best score will be used to resolve snippet value. For example, with this preference enabled, the following abbreviations are equal: <code>ov:h</code> == <code>ov-h</code> == <code>o-h</code> == <code>oh</code>"),x.define("css.fuzzySearchMinScore",.3,"The minium score (from 0 to 1) that fuzzy-matched abbreviation should achive. Lower values may produce many false-positive matches, higher values may reduce possible matches."),x.define("css.alignVendor",!1,"If set to <code>true</code>, all generated vendor-prefixed properties will be aligned by real property name."),d("w",{prefix:"webkit"}),d("m",{prefix:"moz"}),d("s",{prefix:"ms"}),d("o",{prefix:"o"}),n=n||{},n.exports={addPrefix:d,supportsPrefix:f,resolve:function(e,t){var n=x.getArray("css.syntaxes");return n&&~n.indexOf(t)&&e.isElement()?this.expandToSnippet(e.abbreviation,t):null},prefixed:function(e,t){return f(e,t)?"-"+t+"-"+e:e},listPrefixes:function(){return _.map(function(e){return e.prefix})},getPrefix:function(e){return _[e]},removePrefix:function(e){e in _&&delete _[e]},extractPrefixes:function(e){if("-"!=e.charAt(0))return{property:e,prefixes:null};for(var t,n=1,r=e.length,i=[];r>n;){if(t=e.charAt(n),"-"==t){n++;break}if(!(t in _)){i.length=0,n=1;break}i.push(t),n++}return n==r-1&&(n=1,i.length=1),{property:e.substring(n),prefixes:i.length?i:"all"}},findValuesInAbbreviation:function(e,t){t=t||"css";for(var n,i=0,o=e.length,s="";o>i;){if(n=e.charAt(i),r(n)||"#"==n||"$"==n||"-"==n&&r(e.charAt(i+1))){s=e.substring(i);break}i++}for(var a=e.substring(0,e.length-s.length),l=[];~a.indexOf("-")&&!w.findSnippet(t,a);){var u=a.split("-"),f=u.pop();if(!c(f))break;l.unshift(f),a=u.join("-")}return l.join("-")+s},parseValues:function(e){for(var t=C.create(e),n=[],i=null;i=t.next();)"$"==i?(t.match(/^[^\$]+/,!0),n.push(t.current())):"#"==i?(t.match(/^t|[0-9a-f]+(\.\d+)?/i,!0),n.push(t.current())):"-"==i?((c(D.last(n))||t.start&&r(e.charAt(t.start-1)))&&(t.start=t.pos),t.match(/^\-?[0-9]*(\.[0-9]+)?[a-z%\.]*/,!0),n.push(t.current())):(t.match(/^[0-9]*(\.[0-9]*)?[a-z%]*/,!0),n.push(t.current())),t.start=t.pos;return n.filter(function(e){return!!e}).map(o)},extractValues:function(e){var t=this.findValuesInAbbreviation(e);return t?{property:e.substring(0,e.length-t.length).replace(/-$/,""),values:this.parseValues(t)}:{property:e,values:null}},normalizeValue:function(e,t){t=(t||"").toLowerCase();var n=x.getArray("css.unitlessProperties");return e.replace(/^(\-?[0-9\.]+)([a-z]*)$/,function(e,r,i){return i||"0"!=r&&!~n.indexOf(t)?i?r+u(i):r.replace(/\.$/,"")+x.get(~r.indexOf(".")?"css.floatUnit":"css.intUnit"):r})},expand:function(e,t,n){n=n||"css";var r=x.get(n+".autoInsertVendorPrefixes"),o=/^(.+)\!$/.test(e);o&&(e=RegExp.$1);var s=w.findSnippet(n,e);if(s&&!r)return v(s,o,n);var a=this.extractPrefixes(e),l=this.extractValues(a.property),u=D.extend(a,l);if(s?u.values=null:s=w.findSnippet(n,u.property),!s&&x.get("css.fuzzySearch")&&(s=w.fuzzyFindSnippet(n,u.property,parseFloat(x.get("css.fuzzySearchMinScore")))),s)"string"!=typeof s&&(s=s.data);else{if(!u.property)return null;s=u.property+":"+F}if(!i(s))return s;var c=this.splitSnippet(s),f=[];!t&&u.values&&(t=u.values.map(function(e){return this.normalizeValue(e,c.name)},this).join(" ")+";"),c.value=t||c.value;var h,d="all"==u.prefixes||!u.prefixes&&r?p(c.name,r&&"all"!=u.prefixes):u.prefixes,m=[];if((d||[]).forEach(function(e){e in _&&(h=_[e].transformName(c.name),m.push(h),f.push(v(h+":"+c.value,o,n)))}),f.push(v(c.name+":"+c.value,o,n)),m.push(c.name),f=y(c,o,n).concat(f),x.get("css.alignVendor")){var g=D.getStringsPads(m);f=f.map(function(e,t){return g[t]+e})}return f},expandToSnippet:function(e,t){var n=this.expand(e,null,t);return null===n?null:Array.isArray(n)?n.join("\n"):"string"!=typeof n?n.data:n+""},splitSnippet:function(e){if(e=D.trim(e),-1==e.indexOf(":"))return{name:e,value:F};var t=e.split(":");return{name:D.trim(t.shift()),value:D.trim(t.join(":")).replace(/^(\$\{0\}|\$0)(\s*;?)$/,"${1}$2")}},getSyntaxPreference:m,transformSnippet:v,vendorPrefixes:h},n.exports})},{"../assets/caniuse":22,"../assets/preferences":27,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":71,"../utils/template":75}],63:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e,t,n){function r(e,t){var n=f.findSnippet(t,e);if(!n&&c.get("css.fuzzySearch")){var r=parseFloat(c.get("css.fuzzySearchMinScore"));n=f.fuzzyFindSnippet(t,e,r)}return n?("string"!=typeof n&&(n=n.data),p.splitSnippet(n).name):void 0}function i(e){var t=p.vendorPrefixes(e);return t||(t=c.getArray("css.gradient.prefixes")),t||[]}function o(e,t){var n=[],r=t.name(),o=c.get("css.gradient.omitDefaultDirection");c.get("css.gradient.fallback")&&~r.toLowerCase().indexOf("background")&&n.push({name:"background-color",value:"${1:"+e[0].gradient.colorStops[0].color+"}"});var a=t.value();return i("linear-gradient").forEach(function(t){var i=p.prefixed(r,t);if("webkit"==t&&c.get("css.gradient.oldWebkit"))try{n.push({name:i,value:s(e,a,{prefix:t,oldWebkit:!0,omitDefaultDirection:o})})}catch(l){}n.push({name:i,value:s(e,a,{prefix:t,omitDefaultDirection:o})})}),n.sort(function(e,t){return t.name.length-e.name.length})}function s(e,t,n){return n=n||{},e=h.clone(e),e.reverse().forEach(function(e,r){var i=!r&&n.placeholder?n.placeholder:"",o=n.oldWebkit?e.gradient.stringifyOldWebkit(n):e.gradient.stringify(n);t=h.replaceSubstring(t,o+i,e.matchedPart)}),t}function a(e){"string"!=typeof e&&(e=e.name());var t=(p.vendorPrefixes(e)||[]).map(function(t){return"-"+t+"-"+e});return t.push(e),t}function l(e,t){var n=e.parent,r=c.get("css.alignVendor"),i=c.get("css.gradient.omitDefaultDirection"),l=e.styleSeparator,u=e.styleBefore;if(n.getAll(a(e)).forEach(function(t){t!=e&&/gradient/i.test(t.value())&&(t.styleSeparator.length<l.length&&(l=t.styleSeparator),t.styleBefore.length<u.length&&(u=t.styleBefore),n.remove(t))}),r){if(u!=e.styleBefore){var f=e.fullRange();n._updateSource(u,f.start,f.start+e.styleBefore.length),e.styleBefore=u}l!=e.styleSeparator&&(n._updateSource(l,e.nameRange().end,e.valueRange().start),e.styleSeparator=l)}var p=e.value(),d=o(t,e);if(r){var m=[],g=[];d.forEach(function(e){m.push(e.name),g.push(e.value)}),g.push(e.value()),m.push(e.name());var v=h.getStringsPads(g.map(function(e){return e.substring(0,e.indexOf("("))})),b=h.getStringsPads(m);e.name(b[b.length-1]+e.name()),d.forEach(function(e,t){e.name=b[t]+e.name,e.value=v[t]+e.value}),e.value(v[v.length-1]+e.value())}d.forEach(function(t){n.add(t.name,t.value,n.indexOf(e))}),e.value(s(t,p,{placeholder:"${2}",omitDefaultDirection:i}))}function u(e,t,n){if(n=n||"css","css"==n||"less"==n||"scss"==n)return!0;for(var r=e.property.valueRange(!0).start,i=e.gradients,o=i.length-1;o>=0;o--)if(i[o].matchedPart.start+r>=t)return!1;return!0}var c=e("../assets/preferences"),f=e("../assets/resources"),h=e("../utils/common"),p=(e("../assets/stringStream"),e("./css")),d=e("../assets/range"),m=e("../editTree/css"),g=e("../utils/editor"),v=e("./gradient/linear"),b=["css","less","sass","scss","stylus","styl"];return c.define("css.gradient.prefixes","webkit, moz, o","A comma-separated list of vendor-prefixes for which values should be generated."),c.define("css.gradient.oldWebkit",!1,"Generate gradient definition for old Webkit implementations"),c.define("css.gradient.omitDefaultDirection",!0,"Do not output default direction definition in generated gradients."),c.define("css.gradient.defaultProperty","background-image","When gradient expanded outside CSS value context, it will produce properties with this name."),c.define("css.gradient.fallback",!1,"With this option enabled, CSS gradient generator will produce <code>background-color</code> property with gradient first color as fallback for old browsers."),n=n||{},n.exports={findGradients:function(e){var t=e.value(),n=[];return e.valueParts().forEach(function(e){var r=e.substring(t);if(v.isLinearGradient(r)){var i=v.parse(r);i&&n.push({gradient:i,matchedPart:e})}}),n.length?n:null},gradientsFromCSSProperty:function(e,t){var n=m.propertyFromPosition(e,t);if(n){var r=this.findGradients(n);if(r)return{property:n,gradients:r}}return null},expandAbbreviationHandler:function(e,t,n){var i=g.outputInfo(e,t,n);if(!~b.indexOf(i.syntax))return!1;var o=e.getCaretPos(),s=i.content,a=!1;if(a){if(!u(a,o,i.syntax))return!1;var c=a.property,f=c.parent,p=f.options.offset||0,d=p+f.toString().length;if(/[\n\r]/.test(c.value())){var m=c.valueRange(!0).start+h.last(a.gradients).matchedPart.end;s=h.replaceSubstring(s,";",m);var v=this.gradientsFromCSSProperty(s,o);v&&(a=v,c=a.property,f=c.parent)}c.end(";");var y=r(c.name(),t);return y&&c.name(y),l(c,a.gradients),e.replaceContent(f.toString(),p,d,!0),!0}return this.expandGradientOutsideValue(e,t)},expandGradientOutsideValue:function(e,t){var n=c.get("css.gradient.defaultProperty"),r=c.get("css.gradient.omitDefaultDirection");if(!n)return!1;var i=String(e.getContent()),a=d.create(e.getCurrentLineRange()),l=a.substring(i).replace(/^\s+/,function(e){return a.start+=e.length,""}).replace(/\s+$/,function(e){return a.end-=e.length,""}),u="a{"+n+": "+l+";}",f=this.gradientsFromCSSProperty(u,u.length-2);if(""==f){var m=o(f.gradients,f.property);m.push({name:f.property.name(),value:s(f.gradients,f.property.value(),{placeholder:"${2}",omitDefaultDirection:r})});var g=p.getSyntaxPreference("valueSeparator",t),v=p.getSyntaxPreference("propertyEnd",t);
if(c.get("css.alignVendor")){var b=h.getStringsPads(m.map(function(e){return e.value.substring(0,e.value.indexOf("("))}));m.forEach(function(e,t){e.value=b[t]+e.value})}return m=m.map(function(e){return e.name+g+e.value+v}),e.replaceContent(m.join("\n"),a.start,a.end),!0}return!1},reflectValueHandler:function(e){var t=c.get("css.gradient.omitDefaultDirection"),n=this.findGradients(e);if(!n)return!1;var r=this,i=e.value();return e.parent.getAll(a(e)).forEach(function(o){if(o!==e){var a=r.findGradients(o);if(a){var l=o.value(),u=a[0].matchedPart.substring(l),c="";/^\s*\-([a-z]+)\-/.test(u)&&(c=RegExp.$1),o.value(s(n,i,{prefix:c,omitDefaultDirection:t}))}}}),!0}}})},{"../assets/preferences":27,"../assets/range":29,"../assets/resources":30,"../assets/stringStream":31,"../editTree/css":35,"../utils/common":71,"../utils/editor":73,"./css":62,"./gradient/linear":64}],64:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){this.colorStops=[],this.direction=180;for(var t,n,i=s.create(a.trim(e));t=i.next();)","==i.peek()?(n=i.current(),this.colorStops.length||!f.test(n)&&!h.test(n)?this.addColorStop(n):this.direction=r(n),i.next(),i.eatSpace(),i.start=i.pos):"("==t&&i.skipTo(")");this.addColorStop(i.current())}function n(e){return a.trim(e).replace(/\s+/g," ")}function r(e){if("number"==typeof e)return e;if(e=n(e).toLowerCase(),f.test(e))return+RegExp.$1;var t=/^to\s/.test(e)?"to ":"",r=~e.indexOf("left")&&"left",i=~e.indexOf("right")&&"right",o=~e.indexOf("top")&&"top",s=~e.indexOf("bottom")&&"bottom",a=n(t+(o||s||"")+" "+(r||i||""));return l[a]||0}function i(e,t){for(var n=/^to\s/,r=Object.keys(l).filter(function(e){var r=n.test(e);return t?!r:r}),i=0;i<r.length;i++)if(l[r[i]]==e)return r[i];return t&&(e=(e+270)%360),e+"deg"}function o(e){if(e=i(e,!0),f.test(e))throw"The direction is an angle that can\u2019t be converted.";var t=function(t){return~e.indexOf(t)?"100%":"0"};return t("left")+" "+t("top")+", "+t("right")+" "+t("bottom")}var s=e("../../assets/stringStream"),a=e("../../utils/common"),l={bottom:0,"bottom left":45,left:90,"top left":135,top:180,"top right":225,right:270,"bottom right":315,"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},u=["top","to bottom","0deg"],c=/^\s*(\-[a-z]+\-)?(lg|linear\-gradient)\s*\(/i,f=/(\d+)deg/i,h=/top|bottom|left|right/i;return t.prototype={type:"linear-gradient",addColorStop:function(e,t){e=n(e||""),e&&(e=this.parseColorStop(e),"undefined"==typeof t?this.colorStops.push(e):this.colorStops.splice(t,0,e))},parseColorStop:function(e){e=n(e);var t=null;if(e=e.replace(/^(\w+\(.+?\))\s*/,function(e,n){return t=n,""}),!t){var r=e.split(" ");t=r[0],e=r[1]||""}var i={color:t};return e&&e.replace(/^(\-?[\d\.]+)([a-z%]+)?$/,function(e,t,n){i.position=t,~t.indexOf(".")?n="":n||(n="%"),n&&(i.unit=n)}),i},stringify:function(e){e=e||{};var t="linear-gradient";e.prefix&&(t="-"+e.prefix+"-"+t);var n=this.colorStops.map(function(e){var t=e.position?" "+e.position+(e.unit||""):"";return e.color+t}),r=i(this.direction,!!e.prefix);return e.omitDefaultDirection&&~u.indexOf(r)||n.unshift(r),t+"("+n.join(", ")+")"},stringifyOldWebkit:function(){var e=this.colorStops.map(function(e){return a.clone(e)});return e.forEach(function(e){if("position"in e){if(!~e.position.indexOf(".")&&"%"!=e.unit)throw"Can't convert color stop '"+(e.position+(e.unit||""))+"'";e.position=parseFloat(e.position)/("%"==e.unit?100:1)}}),this._fillImpliedPositions(e),e=e.map(function(t,n){return t.position||n?1==t.position&&n==e.length-1?"to("+t.color+")":"color-stop("+t.position.toFixed(2).replace(/\.?0+$/,"")+", "+t.color+")":"from("+t.color+")"}),"-webkit-gradient(linear, "+o((this.direction+180)%360)+", "+e.join(", ")+")"},_fillImpliedPositions:function(e){var t=0;e.forEach(function(n,r){if(!r)return n.position=n.position||0;if(r!=e.length-1||"position"in n||(n.position=1),"position"in n){var i=e[t].position||0,o=(n.position-i)/(r-t);e.slice(t,r).forEach(function(e,t){e.position=i+o*t}),t=r}})},valueOf:function(){return this.stringify()}},{parse:function(e){if(!this.isLinearGradient(e))throw"Invalid linear gradient definition:\n"+e;return e=e.replace(/^\s*[\-a-z]+\s*\(|\)\s*$/gi,""),new t(e)},isLinearGradient:function(e){return c.test(e)},resolveDirection:r,stringifyDirection:i}})},{"../../assets/stringStream":31,"../../utils/common":71}],65:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../utils/common"),n={empty:[],blockLevel:"address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,link,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul,h1,h2,h3,h4,h5,h6".split(","),inlineLevel:"a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,select,small,span,strike,strong,sub,sup,textarea,tt,u,var".split(",")},r={p:"span",ul:"li",ol:"li",table:"tr",tr:"td",tbody:"tr",thead:"tr",tfoot:"tr",colgroup:"col",select:"option",optgroup:"option",audio:"source",video:"source",object:"param",map:"area"};return{resolve:function(e){return e=(e||"").toLowerCase(),e in r?this.getMapping(e):this.isInlineLevel(e)?"span":"div"},getMapping:function(e){return r[e.toLowerCase()]},isInlineLevel:function(e){return this.isTypeOf(e,"inlineLevel")},isBlockLevel:function(e){return this.isTypeOf(e,"blockLevel")},isEmptyElement:function(e){return this.isTypeOf(e,"empty")},isTypeOf:function(e,t){return~n[t].indexOf(e)},addMapping:function(e,t){r[e]=t},removeMapping:function(e){e in r&&delete r[e]},addElementToCollection:function(e,t){n[t]||(n[t]=[]);var r=this.getCollection(t);~r.indexOf(e)||r.push(e)},removeElementFromCollection:function(e,r){r in n&&(n[r]=t.without(this.getCollection(r),e))},getCollection:function(e){return n[e]}}})},{"../utils/common":71}],66:[function(e,t){t.exports={variables:{lang:"en",locale:"en-US",charset:"UTF-8",indentation:"	",newline:"\n"},css:{filters:"css",profile:"css",snippets:{"@i":"@import url(|);","@import":"@import url(|);","@m":"@media ${1:screen} {\n	|\n}","@media":"@media ${1:screen} {\n	|\n}","@f":"@font-face {\n	font-family:|;\n	src:url(|);\n}","@f+":"@font-face {\n	font-family: '${1:FontName}';\n	src: url('${2:FileName}.eot');\n	src: url('${2:FileName}.eot?#iefix') format('embedded-opentype'),\n		 url('${2:FileName}.woff') format('woff'),\n		 url('${2:FileName}.ttf') format('truetype'),\n		 url('${2:FileName}.svg#${1:FontName}') format('svg');\n	font-style: ${3:normal};\n	font-weight: ${4:normal};\n}","@kf":"@-webkit-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-o-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@-moz-keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}\n@keyframes ${1:identifier} {\n	${2:from} { ${3} }${6}\n	${4:to} { ${5} }\n}",anim:"animation:|;","anim-":"animation:${1:name} ${2:duration} ${3:timing-function} ${4:delay} ${5:iteration-count} ${6:direction} ${7:fill-mode};",animdel:"animation-delay:${1:time};",animdir:"animation-direction:${1:normal};","animdir:n":"animation-direction:normal;","animdir:r":"animation-direction:reverse;","animdir:a":"animation-direction:alternate;","animdir:ar":"animation-direction:alternate-reverse;",animdur:"animation-duration:${1:0}s;",animfm:"animation-fill-mode:${1:both};","animfm:f":"animation-fill-mode:forwards;","animfm:b":"animation-fill-mode:backwards;","animfm:bt":"animation-fill-mode:both;","animfm:bh":"animation-fill-mode:both;",animic:"animation-iteration-count:${1:1};","animic:i":"animation-iteration-count:infinite;",animn:"animation-name:${1:none};",animps:"animation-play-state:${1:running};","animps:p":"animation-play-state:paused;","animps:r":"animation-play-state:running;",animtf:"animation-timing-function:${1:linear};","animtf:e":"animation-timing-function:ease;","animtf:ei":"animation-timing-function:ease-in;","animtf:eo":"animation-timing-function:ease-out;","animtf:eio":"animation-timing-function:ease-in-out;","animtf:l":"animation-timing-function:linear;","animtf:cb":"animation-timing-function:cubic-bezier(${1:0.1}, ${2:0.7}, ${3:1.0}, ${3:0.1});",ap:"appearance:${none};","!":"!important",pos:"position:${1:relative};","pos:s":"position:static;","pos:a":"position:absolute;","pos:r":"position:relative;","pos:f":"position:fixed;",t:"top:|;","t:a":"top:auto;",r:"right:|;","r:a":"right:auto;",b:"bottom:|;","b:a":"bottom:auto;",l:"left:|;","l:a":"left:auto;",z:"z-index:|;","z:a":"z-index:auto;",fl:"float:${1:left};","fl:n":"float:none;","fl:l":"float:left;","fl:r":"float:right;",cl:"clear:${1:both};","cl:n":"clear:none;","cl:l":"clear:left;","cl:r":"clear:right;","cl:b":"clear:both;",colm:"columns:|;",colmc:"column-count:|;",colmf:"column-fill:|;",colmg:"column-gap:|;",colmr:"column-rule:|;",colmrc:"column-rule-color:|;",colmrs:"column-rule-style:|;",colmrw:"column-rule-width:|;",colms:"column-span:|;",colmw:"column-width:|;",d:"display:${1:block};","d:n":"display:none;","d:b":"display:block;","d:f":"display:flex;","d:if":"display:inline-flex;","d:i":"display:inline;","d:ib":"display:inline-block;","d:ib+":"display: inline-block;\n*display: inline;\n*zoom: 1;","d:li":"display:list-item;","d:ri":"display:run-in;","d:cp":"display:compact;","d:tb":"display:table;","d:itb":"display:inline-table;","d:tbcp":"display:table-caption;","d:tbcl":"display:table-column;","d:tbclg":"display:table-column-group;","d:tbhg":"display:table-header-group;","d:tbfg":"display:table-footer-group;","d:tbr":"display:table-row;","d:tbrg":"display:table-row-group;","d:tbc":"display:table-cell;","d:rb":"display:ruby;","d:rbb":"display:ruby-base;","d:rbbg":"display:ruby-base-group;","d:rbt":"display:ruby-text;","d:rbtg":"display:ruby-text-group;",v:"visibility:${1:hidden};","v:v":"visibility:visible;","v:h":"visibility:hidden;","v:c":"visibility:collapse;",ov:"overflow:${1:hidden};","ov:v":"overflow:visible;","ov:h":"overflow:hidden;","ov:s":"overflow:scroll;","ov:a":"overflow:auto;",ovx:"overflow-x:${1:hidden};","ovx:v":"overflow-x:visible;","ovx:h":"overflow-x:hidden;","ovx:s":"overflow-x:scroll;","ovx:a":"overflow-x:auto;",ovy:"overflow-y:${1:hidden};","ovy:v":"overflow-y:visible;","ovy:h":"overflow-y:hidden;","ovy:s":"overflow-y:scroll;","ovy:a":"overflow-y:auto;",ovs:"overflow-style:${1:scrollbar};","ovs:a":"overflow-style:auto;","ovs:s":"overflow-style:scrollbar;","ovs:p":"overflow-style:panner;","ovs:m":"overflow-style:move;","ovs:mq":"overflow-style:marquee;",zoo:"zoom:1;",zm:"zoom:1;",cp:"clip:|;","cp:a":"clip:auto;","cp:r":"clip:rect(${1:top} ${2:right} ${3:bottom} ${4:left});",bxz:"box-sizing:${1:border-box};","bxz:cb":"box-sizing:content-box;","bxz:bb":"box-sizing:border-box;",bxsh:"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:color};","bxsh:r":"box-shadow:${1:inset }${2:hoff} ${3:voff} ${4:blur} ${5:spread }rgb(${6:0}, ${7:0}, ${8:0});","bxsh:ra":"box-shadow:${1:inset }${2:h} ${3:v} ${4:blur} ${5:spread }rgba(${6:0}, ${7:0}, ${8:0}, .${9:5});","bxsh:n":"box-shadow:none;",m:"margin:|;","m:a":"margin:auto;",mt:"margin-top:|;","mt:a":"margin-top:auto;",mr:"margin-right:|;","mr:a":"margin-right:auto;",mb:"margin-bottom:|;","mb:a":"margin-bottom:auto;",ml:"margin-left:|;","ml:a":"margin-left:auto;",p:"padding:|;",pt:"padding-top:|;",pr:"padding-right:|;",pb:"padding-bottom:|;",pl:"padding-left:|;",w:"width:|;","w:a":"width:auto;",h:"height:|;","h:a":"height:auto;",maw:"max-width:|;","maw:n":"max-width:none;",mah:"max-height:|;","mah:n":"max-height:none;",miw:"min-width:|;",mih:"min-height:|;",mar:"max-resolution:${1:res};",mir:"min-resolution:${1:res};",ori:"orientation:|;","ori:l":"orientation:landscape;","ori:p":"orientation:portrait;",ol:"outline:|;","ol:n":"outline:none;",olo:"outline-offset:|;",olw:"outline-width:|;","olw:tn":"outline-width:thin;","olw:m":"outline-width:medium;","olw:tc":"outline-width:thick;",ols:"outline-style:|;","ols:n":"outline-style:none;","ols:dt":"outline-style:dotted;","ols:ds":"outline-style:dashed;","ols:s":"outline-style:solid;","ols:db":"outline-style:double;","ols:g":"outline-style:groove;","ols:r":"outline-style:ridge;","ols:i":"outline-style:inset;","ols:o":"outline-style:outset;",olc:"outline-color:#${1:000};","olc:i":"outline-color:invert;",bfv:"backface-visibility:|;","bfv:h":"backface-visibility:hidden;","bfv:v":"backface-visibility:visible;",bd:"border:|;","bd+":"border:${1:1px} ${2:solid} ${3:#000};","bd:n":"border:none;",bdbk:"border-break:${1:close};","bdbk:c":"border-break:close;",bdcl:"border-collapse:|;","bdcl:c":"border-collapse:collapse;","bdcl:s":"border-collapse:separate;",bdc:"border-color:#${1:000};","bdc:t":"border-color:transparent;",bdi:"border-image:url(|);","bdi:n":"border-image:none;",bdti:"border-top-image:url(|);","bdti:n":"border-top-image:none;",bdri:"border-right-image:url(|);","bdri:n":"border-right-image:none;",bdbi:"border-bottom-image:url(|);","bdbi:n":"border-bottom-image:none;",bdli:"border-left-image:url(|);","bdli:n":"border-left-image:none;",bdci:"border-corner-image:url(|);","bdci:n":"border-corner-image:none;","bdci:c":"border-corner-image:continue;",bdtli:"border-top-left-image:url(|);","bdtli:n":"border-top-left-image:none;","bdtli:c":"border-top-left-image:continue;",bdtri:"border-top-right-image:url(|);","bdtri:n":"border-top-right-image:none;","bdtri:c":"border-top-right-image:continue;",bdbri:"border-bottom-right-image:url(|);","bdbri:n":"border-bottom-right-image:none;","bdbri:c":"border-bottom-right-image:continue;",bdbli:"border-bottom-left-image:url(|);","bdbli:n":"border-bottom-left-image:none;","bdbli:c":"border-bottom-left-image:continue;",bdf:"border-fit:${1:repeat};","bdf:c":"border-fit:clip;","bdf:r":"border-fit:repeat;","bdf:sc":"border-fit:scale;","bdf:st":"border-fit:stretch;","bdf:ow":"border-fit:overwrite;","bdf:of":"border-fit:overflow;","bdf:sp":"border-fit:space;",bdlen:"border-length:|;","bdlen:a":"border-length:auto;",bdsp:"border-spacing:|;",bds:"border-style:|;","bds:n":"border-style:none;","bds:h":"border-style:hidden;","bds:dt":"border-style:dotted;","bds:ds":"border-style:dashed;","bds:s":"border-style:solid;","bds:db":"border-style:double;","bds:dtds":"border-style:dot-dash;","bds:dtdtds":"border-style:dot-dot-dash;","bds:w":"border-style:wave;","bds:g":"border-style:groove;","bds:r":"border-style:ridge;","bds:i":"border-style:inset;","bds:o":"border-style:outset;",bdw:"border-width:|;",bdtw:"border-top-width:|;",bdrw:"border-right-width:|;",bdbw:"border-bottom-width:|;",bdlw:"border-left-width:|;",bdt:"border-top:|;",bt:"border-top:|;","bdt+":"border-top:${1:1px} ${2:solid} ${3:#000};","bdt:n":"border-top:none;",bdts:"border-top-style:|;","bdts:n":"border-top-style:none;",bdtc:"border-top-color:#${1:000};","bdtc:t":"border-top-color:transparent;",bdr:"border-right:|;",br:"border-right:|;","bdr+":"border-right:${1:1px} ${2:solid} ${3:#000};","bdr:n":"border-right:none;",bdrst:"border-right-style:|;","bdrst:n":"border-right-style:none;",bdrc:"border-right-color:#${1:000};","bdrc:t":"border-right-color:transparent;",bdb:"border-bottom:|;",bb:"border-bottom:|;","bdb+":"border-bottom:${1:1px} ${2:solid} ${3:#000};","bdb:n":"border-bottom:none;",bdbs:"border-bottom-style:|;","bdbs:n":"border-bottom-style:none;",bdbc:"border-bottom-color:#${1:000};","bdbc:t":"border-bottom-color:transparent;",bdl:"border-left:|;",bl:"border-left:|;","bdl+":"border-left:${1:1px} ${2:solid} ${3:#000};","bdl:n":"border-left:none;",bdls:"border-left-style:|;","bdls:n":"border-left-style:none;",bdlc:"border-left-color:#${1:000};","bdlc:t":"border-left-color:transparent;",bdrs:"border-radius:|;",bdtrrs:"border-top-right-radius:|;",bdtlrs:"border-top-left-radius:|;",bdbrrs:"border-bottom-right-radius:|;",bdblrs:"border-bottom-left-radius:|;",bg:"background:#${1:000};","bg+":"background:${1:#fff} url(${2}) ${3:0} ${4:0} ${5:no-repeat};","bg:n":"background:none;","bg:ie":"filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='${1:x}.png',sizingMethod='${2:crop}');",bgc:"background-color:#${1:fff};","bgc:t":"background-color:transparent;",bgi:"background-image:url(|);","bgi:n":"background-image:none;",bgr:"background-repeat:|;","bgr:n":"background-repeat:no-repeat;","bgr:x":"background-repeat:repeat-x;","bgr:y":"background-repeat:repeat-y;","bgr:sp":"background-repeat:space;","bgr:rd":"background-repeat:round;",bga:"background-attachment:|;","bga:f":"background-attachment:fixed;","bga:s":"background-attachment:scroll;",bgp:"background-position:${1:0} ${2:0};",bgpx:"background-position-x:|;",bgpy:"background-position-y:|;",bgbk:"background-break:|;","bgbk:bb":"background-break:bounding-box;","bgbk:eb":"background-break:each-box;","bgbk:c":"background-break:continuous;",bgcp:"background-clip:${1:padding-box};","bgcp:bb":"background-clip:border-box;","bgcp:pb":"background-clip:padding-box;","bgcp:cb":"background-clip:content-box;","bgcp:nc":"background-clip:no-clip;",bgo:"background-origin:|;","bgo:pb":"background-origin:padding-box;","bgo:bb":"background-origin:border-box;","bgo:cb":"background-origin:content-box;",bgsz:"background-size:|;","bgsz:a":"background-size:auto;","bgsz:ct":"background-size:contain;","bgsz:cv":"background-size:cover;",c:"color:#${1:000};","c:r":"color:rgb(${1:0}, ${2:0}, ${3:0});","c:ra":"color:rgba(${1:0}, ${2:0}, ${3:0}, .${4:5});",cm:"/* |${child} */",cnt:"content:'|';","cnt:n":"content:normal;","cnt:oq":"content:open-quote;","cnt:noq":"content:no-open-quote;","cnt:cq":"content:close-quote;","cnt:ncq":"content:no-close-quote;","cnt:a":"content:attr(|);","cnt:c":"content:counter(|);","cnt:cs":"content:counters(|);",tbl:"table-layout:|;","tbl:a":"table-layout:auto;","tbl:f":"table-layout:fixed;",cps:"caption-side:|;","cps:t":"caption-side:top;","cps:b":"caption-side:bottom;",ec:"empty-cells:|;","ec:s":"empty-cells:show;","ec:h":"empty-cells:hide;",lis:"list-style:|;","lis:n":"list-style:none;",lisp:"list-style-position:|;","lisp:i":"list-style-position:inside;","lisp:o":"list-style-position:outside;",list:"list-style-type:|;","list:n":"list-style-type:none;","list:d":"list-style-type:disc;","list:c":"list-style-type:circle;","list:s":"list-style-type:square;","list:dc":"list-style-type:decimal;","list:dclz":"list-style-type:decimal-leading-zero;","list:lr":"list-style-type:lower-roman;","list:ur":"list-style-type:upper-roman;",lisi:"list-style-image:|;","lisi:n":"list-style-image:none;",q:"quotes:|;","q:n":"quotes:none;","q:ru":"quotes:'\\00AB' '\\00BB' '\\201E' '\\201C';","q:en":"quotes:'\\201C' '\\201D' '\\2018' '\\2019';",ct:"content:|;","ct:n":"content:normal;","ct:oq":"content:open-quote;","ct:noq":"content:no-open-quote;","ct:cq":"content:close-quote;","ct:ncq":"content:no-close-quote;","ct:a":"content:attr(|);","ct:c":"content:counter(|);","ct:cs":"content:counters(|);",coi:"counter-increment:|;",cor:"counter-reset:|;",va:"vertical-align:${1:top};","va:sup":"vertical-align:super;","va:t":"vertical-align:top;","va:tt":"vertical-align:text-top;","va:m":"vertical-align:middle;","va:bl":"vertical-align:baseline;","va:b":"vertical-align:bottom;","va:tb":"vertical-align:text-bottom;","va:sub":"vertical-align:sub;",ta:"text-align:${1:left};","ta:l":"text-align:left;","ta:c":"text-align:center;","ta:r":"text-align:right;","ta:j":"text-align:justify;","ta-lst":"text-align-last:|;","tal:a":"text-align-last:auto;","tal:l":"text-align-last:left;","tal:c":"text-align-last:center;","tal:r":"text-align-last:right;",td:"text-decoration:${1:none};","td:n":"text-decoration:none;","td:u":"text-decoration:underline;","td:o":"text-decoration:overline;","td:l":"text-decoration:line-through;",te:"text-emphasis:|;","te:n":"text-emphasis:none;","te:ac":"text-emphasis:accent;","te:dt":"text-emphasis:dot;","te:c":"text-emphasis:circle;","te:ds":"text-emphasis:disc;","te:b":"text-emphasis:before;","te:a":"text-emphasis:after;",th:"text-height:|;","th:a":"text-height:auto;","th:f":"text-height:font-size;","th:t":"text-height:text-size;","th:m":"text-height:max-size;",ti:"text-indent:|;","ti:-":"text-indent:-9999px;",tj:"text-justify:|;","tj:a":"text-justify:auto;","tj:iw":"text-justify:inter-word;","tj:ii":"text-justify:inter-ideograph;","tj:ic":"text-justify:inter-cluster;","tj:d":"text-justify:distribute;","tj:k":"text-justify:kashida;","tj:t":"text-justify:tibetan;",tov:"text-overflow:${ellipsis};","tov:e":"text-overflow:ellipsis;","tov:c":"text-overflow:clip;",to:"text-outline:|;","to+":"text-outline:${1:0} ${2:0} ${3:#000};","to:n":"text-outline:none;",tr:"text-replace:|;","tr:n":"text-replace:none;",tt:"text-transform:${1:uppercase};","tt:n":"text-transform:none;","tt:c":"text-transform:capitalize;","tt:u":"text-transform:uppercase;","tt:l":"text-transform:lowercase;",tw:"text-wrap:|;","tw:n":"text-wrap:normal;","tw:no":"text-wrap:none;","tw:u":"text-wrap:unrestricted;","tw:s":"text-wrap:suppress;",tsh:"text-shadow:${1:hoff} ${2:voff} ${3:blur} ${4:#000};","tsh:r":"text-shadow:${1:h} ${2:v} ${3:blur} rgb(${4:0}, ${5:0}, ${6:0});","tsh:ra":"text-shadow:${1:h} ${2:v} ${3:blur} rgba(${4:0}, ${5:0}, ${6:0}, .${7:5});","tsh+":"text-shadow:${1:0} ${2:0} ${3:0} ${4:#000};","tsh:n":"text-shadow:none;",trf:"transform:|;","trf:skx":"transform: skewX(${1:angle});","trf:sky":"transform: skewY(${1:angle});","trf:sc":"transform: scale(${1:x}, ${2:y});","trf:scx":"transform: scaleX(${1:x});","trf:scy":"transform: scaleY(${1:y});","trf:scz":"transform: scaleZ(${1:z});","trf:sc3":"transform: scale3d(${1:x}, ${2:y}, ${3:z});","trf:r":"transform: rotate(${1:angle});","trf:rx":"transform: rotateX(${1:angle});","trf:ry":"transform: rotateY(${1:angle});","trf:rz":"transform: rotateZ(${1:angle});","trf:t":"transform: translate(${1:x}, ${2:y});","trf:tx":"transform: translateX(${1:x});","trf:ty":"transform: translateY(${1:y});","trf:tz":"transform: translateZ(${1:z});","trf:t3":"transform: translate3d(${1:tx}, ${2:ty}, ${3:tz});",trfo:"transform-origin:|;",trfs:"transform-style:${1:preserve-3d};",trs:"transition:${1:prop} ${2:time};",trsde:"transition-delay:${1:time};",trsdu:"transition-duration:${1:time};",trsp:"transition-property:${1:prop};",trstf:"transition-timing-function:${1:tfunc};",lh:"line-height:|;",whs:"white-space:|;","whs:n":"white-space:normal;","whs:p":"white-space:pre;","whs:nw":"white-space:nowrap;","whs:pw":"white-space:pre-wrap;","whs:pl":"white-space:pre-line;",whsc:"white-space-collapse:|;","whsc:n":"white-space-collapse:normal;","whsc:k":"white-space-collapse:keep-all;","whsc:l":"white-space-collapse:loose;","whsc:bs":"white-space-collapse:break-strict;","whsc:ba":"white-space-collapse:break-all;",wob:"word-break:|;","wob:n":"word-break:normal;","wob:k":"word-break:keep-all;","wob:ba":"word-break:break-all;",wos:"word-spacing:|;",wow:"word-wrap:|;","wow:nm":"word-wrap:normal;","wow:n":"word-wrap:none;","wow:u":"word-wrap:unrestricted;","wow:s":"word-wrap:suppress;","wow:b":"word-wrap:break-word;",wm:"writing-mode:${1:lr-tb};","wm:lrt":"writing-mode:lr-tb;","wm:lrb":"writing-mode:lr-bt;","wm:rlt":"writing-mode:rl-tb;","wm:rlb":"writing-mode:rl-bt;","wm:tbr":"writing-mode:tb-rl;","wm:tbl":"writing-mode:tb-lr;","wm:btl":"writing-mode:bt-lr;","wm:btr":"writing-mode:bt-rl;",lts:"letter-spacing:|;","lts-n":"letter-spacing:normal;",f:"font:|;","f+":"font:${1:1em} ${2:Arial,sans-serif};",fw:"font-weight:|;","fw:n":"font-weight:normal;","fw:b":"font-weight:bold;","fw:br":"font-weight:bolder;","fw:lr":"font-weight:lighter;",fs:"font-style:${italic};","fs:n":"font-style:normal;","fs:i":"font-style:italic;","fs:o":"font-style:oblique;",fv:"font-variant:|;","fv:n":"font-variant:normal;","fv:sc":"font-variant:small-caps;",fz:"font-size:|;",fza:"font-size-adjust:|;","fza:n":"font-size-adjust:none;",ff:"font-family:|;","ff:s":"font-family:serif;","ff:ss":"font-family:sans-serif;","ff:c":"font-family:cursive;","ff:f":"font-family:fantasy;","ff:m":"font-family:monospace;","ff:a":'font-family: Arial, "Helvetica Neue", Helvetica, sans-serif;',"ff:t":'font-family: "Times New Roman", Times, Baskerville, Georgia, serif;',"ff:v":"font-family: Verdana, Geneva, sans-serif;",fef:"font-effect:|;","fef:n":"font-effect:none;","fef:eg":"font-effect:engrave;","fef:eb":"font-effect:emboss;","fef:o":"font-effect:outline;",fem:"font-emphasize:|;",femp:"font-emphasize-position:|;","femp:b":"font-emphasize-position:before;","femp:a":"font-emphasize-position:after;",fems:"font-emphasize-style:|;","fems:n":"font-emphasize-style:none;","fems:ac":"font-emphasize-style:accent;","fems:dt":"font-emphasize-style:dot;","fems:c":"font-emphasize-style:circle;","fems:ds":"font-emphasize-style:disc;",fsm:"font-smooth:|;","fsm:a":"font-smooth:auto;","fsm:n":"font-smooth:never;","fsm:aw":"font-smooth:always;",fst:"font-stretch:|;","fst:n":"font-stretch:normal;","fst:uc":"font-stretch:ultra-condensed;","fst:ec":"font-stretch:extra-condensed;","fst:c":"font-stretch:condensed;","fst:sc":"font-stretch:semi-condensed;","fst:se":"font-stretch:semi-expanded;","fst:e":"font-stretch:expanded;","fst:ee":"font-stretch:extra-expanded;","fst:ue":"font-stretch:ultra-expanded;",op:"opacity:|;","op+":"opacity: $1;\nfilter: alpha(opacity=$2);","op:ie":"filter:progid:DXImageTransform.Microsoft.Alpha(Opacity=100);","op:ms":"-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=100)';",rsz:"resize:|;","rsz:n":"resize:none;","rsz:b":"resize:both;","rsz:h":"resize:horizontal;","rsz:v":"resize:vertical;",cur:"cursor:${pointer};","cur:a":"cursor:auto;","cur:d":"cursor:default;","cur:c":"cursor:crosshair;","cur:ha":"cursor:hand;","cur:he":"cursor:help;","cur:m":"cursor:move;","cur:p":"cursor:pointer;","cur:t":"cursor:text;",fxd:"flex-direction:|;","fxd:r":"flex-direction:row;","fxd:rr":"flex-direction:row-reverse;","fxd:c":"flex-direction:column;","fxd:cr":"flex-direction:column-reverse;",fxw:"flex-wrap: |;","fxw:n":"flex-wrap:nowrap;","fxw:w":"flex-wrap:wrap;","fxw:wr":"flex-wrap:wrap-reverse;",fxf:"flex-flow:|;",jc:"justify-content:|;","jc:fs":"justify-content:flex-start;","jc:fe":"justify-content:flex-end;","jc:c":"justify-content:center;","jc:sb":"justify-content:space-between;","jc:sa":"justify-content:space-around;",ai:"align-items:|;","ai:fs":"align-items:flex-start;","ai:fe":"align-items:flex-end;","ai:c":"align-items:center;","ai:b":"align-items:baseline;","ai:s":"align-items:stretch;",ac:"align-content:|;","ac:fs":"align-content:flex-start;","ac:fe":"align-content:flex-end;","ac:c":"align-content:center;","ac:sb":"align-content:space-between;","ac:sa":"align-content:space-around;","ac:s":"align-content:stretch;",ord:"order:|;",fxg:"flex-grow:|;",fxsh:"flex-shrink:|;",fxb:"flex-basis:|;",fx:"flex:|;",as:"align-self:|;","as:a":"align-self:auto;","as:fs":"align-self:flex-start;","as:fe":"align-self:flex-end;","as:c":"align-self:center;","as:b":"align-self:baseline;","as:s":"align-self:stretch;",pgbb:"page-break-before:|;","pgbb:au":"page-break-before:auto;","pgbb:al":"page-break-before:always;","pgbb:l":"page-break-before:left;","pgbb:r":"page-break-before:right;",pgbi:"page-break-inside:|;","pgbi:au":"page-break-inside:auto;","pgbi:av":"page-break-inside:avoid;",pgba:"page-break-after:|;","pgba:au":"page-break-after:auto;","pgba:al":"page-break-after:always;","pgba:l":"page-break-after:left;","pgba:r":"page-break-after:right;",orp:"orphans:|;",us:"user-select:${none};",wid:"widows:|;",wfsm:"-webkit-font-smoothing:${antialiased};","wfsm:a":"-webkit-font-smoothing:antialiased;","wfsm:s":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:sa":"-webkit-font-smoothing:subpixel-antialiased;","wfsm:n":"-webkit-font-smoothing:none;"}},html:{filters:"html",profile:"html",snippets:{"!!!":"<!DOCTYPE html>","!!!4t":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',"!!!4s":'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">',"!!!xt":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',"!!!xs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">',"!!!xxs":'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">',c:"<!-- |${child} -->","cc:ie6":"<!--[if lte IE 6]>\n	${child}|\n<![endif]-->","cc:ie":"<!--[if IE]>\n	${child}|\n<![endif]-->","cc:noie":"<!--[if !IE]><!-->\n	${child}|\n<!--<![endif]-->"},abbreviations:{"!":"html:5",a:'<a href="">',"a:link":'<a href="http://|">',"a:mail":'<a href="mailto:|">',abbr:'<abbr title="">',"acr|acronym":'<acronym title="">',base:'<base href="" />',basefont:"<basefont/>",br:"<br/>",frame:"<frame/>",hr:"<hr/>",bdo:'<bdo dir="">',"bdo:r":'<bdo dir="rtl">',"bdo:l":'<bdo dir="ltr">',col:"<col/>",link:'<link rel="stylesheet" href="" />',"link:css":'<link rel="stylesheet" href="${1:style}.css" />',"link:print":'<link rel="stylesheet" href="${1:print}.css" media="print" />',"link:favicon":'<link rel="shortcut icon" type="image/x-icon" href="${1:favicon.ico}" />',"link:touch":'<link rel="apple-touch-icon" href="${1:favicon.png}" />',"link:rss":'<link rel="alternate" type="application/rss+xml" title="RSS" href="${1:rss.xml}" />',"link:atom":'<link rel="alternate" type="application/atom+xml" title="Atom" href="${1:atom.xml}" />',"link:im|link:import":'<link rel="import" href="${1:component}.html" />',meta:"<meta/>","meta:utf":'<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />',"meta:win":'<meta http-equiv="Content-Type" content="text/html;charset=windows-1251" />',"meta:vp":'<meta name="viewport" content="width=${1:device-width}, user-scalable=${2:no}, initial-scale=${3:1.0}, maximum-scale=${4:1.0}, minimum-scale=${5:1.0}" />',"meta:compat":'<meta http-equiv="X-UA-Compatible" content="${1:IE=7}" />',style:"<style>",script:'<script !src="">',"script:src":'<script src="">',img:'<img src="" alt="" />',"img:s|img:srcset":'<img srcset="" src="" alt="" />',"img:z|img:sizes":'<img sizes="" srcset="" src="" alt="" />',picture:"<picture>","src|source":"<source/>","src:sc|source:src":'<source src="" type=""/>',"src:s|source:srcset":'<source srcset=""/>',"src:m|source:media":'<source media="(${1:min-width: })" srcset=""/>',"src:t|source:type":'<source srcset="|" type="${1:image/}"/>',"src:z|source:sizes":'<source sizes="" srcset=""/>',"src:mt|source:media:type":'<source media="(${1:min-width: })" srcset="" type="${2:image/}"/>',"src:mz|source:media:sizes":'<source media="(${1:min-width: })" sizes="" srcset=""/>',"src:zt|source:sizes:type":'<source sizes="" srcset="" type="${1:image/}"/>',iframe:'<iframe src="" frameborder="0">',embed:'<embed src="" type="" />',object:'<object data="" type="">',param:'<param name="" value="" />',map:'<map name="">',area:'<area shape="" coords="" href="" alt="" />',"area:d":'<area shape="default" href="" alt="" />',"area:c":'<area shape="circle" coords="" href="" alt="" />',"area:r":'<area shape="rect" coords="" href="" alt="" />',"area:p":'<area shape="poly" coords="" href="" alt="" />',form:'<form action="">',"form:get":'<form action="" method="get">',"form:post":'<form action="" method="post">',label:'<label for="">',input:'<input type="${1:text}" />',inp:'<input type="${1:text}" name="" id="" />',"input:h|input:hidden":"input[type=hidden name]","input:t|input:text":"inp","input:search":"inp[type=search]","input:email":"inp[type=email]","input:url":"inp[type=url]","input:p|input:password":"inp[type=password]","input:datetime":"inp[type=datetime]","input:date":"inp[type=date]","input:datetime-local":"inp[type=datetime-local]","input:month":"inp[type=month]","input:week":"inp[type=week]","input:time":"inp[type=time]","input:tel":"inp[type=tel]","input:number":"inp[type=number]","input:color":"inp[type=color]","input:c|input:checkbox":"inp[type=checkbox]","input:r|input:radio":"inp[type=radio]","input:range":"inp[type=range]","input:f|input:file":"inp[type=file]","input:s|input:submit":'<input type="submit" value="" />',"input:i|input:image":'<input type="image" src="" alt="" />',"input:b|input:button":'<input type="button" value="" />',isindex:"<isindex/>","input:reset":"input:button[type=reset]",select:'<select name="" id="">',"select:d|select:disabled":"select[disabled.]","opt|option":'<option value="">',textarea:'<textarea name="" id="" cols="${1:30}" rows="${2:10}">',marquee:'<marquee behavior="" direction="">',"menu:c|menu:context":"menu[type=context]>","menu:t|menu:toolbar":"menu[type=toolbar]>",video:'<video src="">',audio:'<audio src="">',"html:xml":'<html xmlns="http://www.w3.org/1999/xhtml">',keygen:"<keygen/>",command:"<command/>","btn:s|button:s|button:submit":"button[type=submit]","btn:r|button:r|button:reset":"button[type=reset]","btn:d|button:d|button:disabled":"button[disabled.]","fst:d|fset:d|fieldset:d|fieldset:disabled":"fieldset[disabled.]",bq:"blockquote",fig:"figure",figc:"figcaption",pic:"picture",ifr:"iframe",emb:"embed",obj:"object",cap:"caption",colg:"colgroup",fst:"fieldset",btn:"button",optg:"optgroup",tarea:"textarea",leg:"legend",sect:"section",art:"article",hdr:"header",ftr:"footer",adr:"address",dlg:"dialog",str:"strong",prog:"progress",mn:"main",tem:"template",fset:"fieldset",datag:"datagrid",datal:"datalist",kg:"keygen",out:"output",det:"details",cmd:"command",doc:"html>(head>meta[charset=${charset}]+title{${1:Document}})+body",doc4:'html>(head>meta[http-equiv="Content-Type" content="text/html;charset=${charset}"]+title{${1:Document}})+body',"ri:d|ri:dpr":"img:s","ri:v|ri:viewport":"img:z","ri:a|ri:art":"pic>src:m+img","ri:t|ri:type":"pic>src:t+img","html:4t":"!!!4t+doc4[lang=${lang}]","html:4s":"!!!4s+doc4[lang=${lang}]","html:xt":"!!!xt+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xs":"!!!xs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:xxs":"!!!xxs+doc4[xmlns=http://www.w3.org/1999/xhtml xml:lang=${lang}]","html:5":"!!!+doc[lang=${lang}]","ol+":"ol>li","ul+":"ul>li","dl+":"dl>dt+dd","map+":"map>area","table+":"table>tr>td","colgroup+":"colgroup>col","colg+":"colgroup>col","tr+":"tr>td","select+":"select>option","optgroup+":"optgroup>option","optg+":"optgroup>option","pic+":"picture>source:srcset+img"}},xml:{"extends":"html",profile:"xml",filters:"html"},xsl:{"extends":"html",profile:"xml",filters:"html, xsl",abbreviations:{"tm|tmatch":'<xsl:template match="" mode="">',"tn|tname":'<xsl:template name="">',call:'<xsl:call-template name=""/>',ap:'<xsl:apply-templates select="" mode=""/>',api:"<xsl:apply-imports/>",imp:'<xsl:import href=""/>',inc:'<xsl:include href=""/>',ch:"<xsl:choose>","wh|xsl:when":'<xsl:when test="">',ot:"<xsl:otherwise>","if":'<xsl:if test="">',par:'<xsl:param name="">',pare:'<xsl:param name="" select=""/>',"var":'<xsl:variable name="">',vare:'<xsl:variable name="" select=""/>',wp:'<xsl:with-param name="" select=""/>',key:'<xsl:key name="" match="" use=""/>',elem:'<xsl:element name="">',attr:'<xsl:attribute name="">',attrs:'<xsl:attribute-set name="">',cp:'<xsl:copy select=""/>',co:'<xsl:copy-of select=""/>',val:'<xsl:value-of select=""/>',"for|each":'<xsl:for-each select="">',tex:"<xsl:text></xsl:text>",com:"<xsl:comment>",msg:'<xsl:message terminate="no">',fall:"<xsl:fallback>",num:'<xsl:number value=""/>',nam:'<namespace-alias stylesheet-prefix="" result-prefix=""/>',pres:'<xsl:preserve-space elements=""/>',strip:'<xsl:strip-space elements=""/>',proc:'<xsl:processing-instruction name="">',sort:'<xsl:sort select="" order=""/>',"choose+":"xsl:choose>xsl:when+xsl:otherwise",xsl:"!!!+xsl:stylesheet[version=1.0 xmlns:xsl=http://www.w3.org/1999/XSL/Transform]>{\n|}"},snippets:{"!!!":'<?xml version="1.0" encoding="UTF-8"?>'}},haml:{filters:"haml","extends":"html",profile:"xml"},jade:{filters:"jade","extends":"html",profile:"xml"},jsx:{filters:"jsx, html","extends":"html",profile:"xml"},slim:{filters:"slim","extends":"html",profile:"xml"},scss:{"extends":"css"},sass:{"extends":"css"},less:{"extends":"css"},stylus:{"extends":"css"},styl:{"extends":"stylus"}}
},{}],67:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/elements"),n=e("../assets/tabStops"),r=e("../utils/common"),i=e("../resolver/tagName");return{isUnary:function(e){if(e.children.length||e._text||this.isSnippet(e))return!1;var t=e.data("resource");return t&&t.is_empty},isInline:function(e){return e.isTextNode()||!e.name()||i.isInlineLevel(e.name())},isBlock:function(e){return this.isSnippet(e)||!this.isInline(e)},isSnippet:function(e){return t.is(e.data("resource"),"snippet")},hasTagsInContent:function(e){return r.matchesTag(e.content)},hasBlockChildren:function(e){return this.hasTagsInContent(e)&&this.isBlock(e)||e.children.some(function(e){return this.isBlock(e)},this)},insertChildContent:function(e,t,i){i=r.extend({keepVariable:!0,appendIfNoChild:!0},i||{});var o=!1;return e=n.replaceVariables(e,function(n,s,a){var l=n;return"child"==s&&(l=r.padString(t,r.getLinePaddingFromPosition(e,a.start)),o=!0,i.keepVariable&&(l+=n)),l}),!o&&i.appendIfNoChild&&(e+=t),e}}})},{"../assets/elements":23,"../assets/tabStops":32,"../resolver/tagName":65,"../utils/common":71}],68:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=e("./cssSections"),r=e("../parser/abbreviation"),i=e("../assets/htmlMatcher"),o=e("../editTree/xml"),s=e("../assets/range"),a=e("../assets/resources");return{mimeTypes:{gif:"image/gif",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",svg:"image/svg+xml",html:"text/html",htm:"text/html"},extractAbbreviation:function(e){for(var n=e.length,i=-1,o=0,s=0,a=0;;){if(n--,0>n){i=0;break}var l=e.charAt(n);if("]"==l)s++;else if("["==l){if(!s){i=n+1;break}s--}else if("}"==l)a++;else if("{"==l){if(!a){i=n+1;break}a--}else if(")"==l)o++;else if("("==l){if(!o){i=n+1;break}o--}else{if(s||a)continue;if(!r.isAllowedChar(l)||">"==l&&t.endsWithTag(e.substring(0,n+1))){i=n+1;break}}}return-1==i||a||s||o?"":e.substring(i).replace(/^[\*\+\>\^]+/,"")},getImageSize:function(e){var t="\x89PNG\r\n\n",n="\xff\xd8",r="GIF8",i=0,o=function(){return e.charCodeAt(i++)};if(e.substr(0,8)===t)return i=e.indexOf("IHDR")+4,{width:o()<<24|o()<<16|o()<<8|o(),height:o()<<24|o()<<16|o()<<8|o()};if(e.substr(0,4)===r)return i=6,{width:o()|o()<<8,height:o()|o()<<8};if(e.substr(0,2)===n){i=2;for(var s=e.length;s>i;){if(255!=o())return;var a=o();if(218==a)break;var l=o()<<8|o();if(!(!(a>=192&&207>=a)||4&a||8&a))return i+=1,{height:o()<<8|o(),width:o()<<8|o()};i+=l-2}}},captureContext:function(e,t){var n={html:1,xml:1,xsl:1},r=e.getSyntax();if(r in n){var s=e.getContent();"undefined"==typeof t&&(t=e.getCaretPos());var a=i.find(s,t);if(a&&"tag"==a.type){var l=a.open,u={name:l.name,attributes:[],match:a},c=o.parse(l.range.substring(s));return c&&(u.attributes=c.getAll().map(function(e){return{name:e.name(),value:e.value()}})),u}}return null},findExpressionBounds:function(e,t){for(var n=String(e.getContent()),r=n.length,i=e.getCaretPos()-1,o=i+1;i>=0&&t(n.charAt(i),i,n);)i--;for(;r>o&&t(n.charAt(o),o,n);)o++;return o>i?s([++i,o]):void 0},compoundUpdate:function(e,t){if(t){var n=e.getSelectionRange();return e.replaceContent(t.data,t.start,t.end,!0),e.createSelection(t.caret,t.caret+n.end-n.start),!0}return!1},detectSyntax:function(e,t){var n=t||"html";return a.hasSyntax(n)||(n="html"),"html"==n&&(this.isStyle(e)||this.isInlineCSS(e))&&(n="css"),"styl"==n&&(n="stylus"),n},detectProfile:function(e){var t=e.getSyntax(),n=a.findItem(t,"profile");if(n)return n;switch(t){case"xml":case"xsl":return"xml";case"css":if(this.isInlineCSS(e))return"line";break;case"html":return n=a.getVariable("profile"),n||(n=this.isXHTML(e)?"xhtml":"html"),n}return"xhtml"},isXHTML:function(e){return-1!=e.getContent().search(/<!DOCTYPE[^>]+XHTML/i)},isStyle:function(e){return!!n.styleTagRange(e.getContent(),e.getCaretPos())},isSupportedCSS:function(e){return"css"==e||"less"==e||"scss"==e},isInlineCSS:function(e){return!!n.styleAttrRange(e.getContent(),e.getCaretPos())}}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/resources":30,"../editTree/xml":36,"../parser/abbreviation":53,"./common":71,"./cssSections":72}],69:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(t){for(var n,r,i,o,s,a,l,u,c,f,h=[],p=0,d=t.length,m=e;d>p;)u=t.charCodeAt(p++),c=t.charCodeAt(p++),f=t.charCodeAt(p++),n=255&u,r=255&c,i=255&f,o=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,l=63&i,isNaN(c)?a=l=64:isNaN(f)&&(l=64),h.push(m.charAt(o)+m.charAt(s)+m.charAt(a)+m.charAt(l));return h.join("")},decode:function(t){var n,r,i,o,s,a,l,u,c=0,f=0,h=[],p=e,d=t.length;if(!t)return t;t+="";do o=p.indexOf(t.charAt(c++)),s=p.indexOf(t.charAt(c++)),a=p.indexOf(t.charAt(c++)),l=p.indexOf(t.charAt(c++)),u=o<<18|s<<12|a<<6|l,n=u>>16&255,r=u>>8&255,i=255&u,h[f++]=64==a?String.fromCharCode(n):64==l?String.fromCharCode(n,r):String.fromCharCode(n,r,i);while(d>c);return h.join("")}}})},{}],70:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=(e("../assets/range"),e("../assets/stringStream")),r=/\/\*|\/\//;return{strip:function(e){if(!r.test(e))return e;for(var i,o,s=n(e),a=[];i=s.next();)if("/"===i){if(o=s.peek(),"*"===o)s.start=s.pos-1,s.skipTo("*/")?s.pos+=2:s.skipToEnd(),a.push([s.start,s.pos]);else if("/"===o){for(s.start=s.pos-1;(o=s.next())&&"\n"!==o&&"\r"!=o;);a.push([s.start,s.pos])}}else s.skipQuoted();return t.replaceWith(e,a," ")}}})},{"../assets/range":29,"../assets/stringStream":31,"./common":71}],71:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("../assets/range"),n="${0}";return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,defaultSyntax:function(){return"html"},defaultProfile:function(){return"plain"},endsWithTag:function(e){return this.reTag.test(e)},isNumeric:function(e){return"string"==typeof e&&(e=e.charCodeAt(0)),e&&e>47&&58>e},trim:function(){return String.prototype.trim?function(e){return e?e.trim():""}:function(e){return(e||"").replace(/^\s+|\s+$/g,"")}}(),splitByLines:function(e,t){var n="\n",r=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,n).split(n);return t&&(r=r.filter(function(e){return e.length&&!!this.trim(e)},this)),r},repeatString:function(e,t){for(var n="";t--;)n+=e;return n},getStringsPads:function(e){var t=e.map(function(e){return"string"==typeof e?e.length:+e}),n=t.reduce(function(e,t){return"undefined"==typeof e?t:Math.max(e,t)});return t.map(function(e){var t=n-e;return t?this.repeatString(" ",t):""},this)},padString:function(e,t){var n=[],r=this.splitByLines(e),i="\n";n.push(r[0]);for(var o=1;o<r.length;o++)n.push(i+t+r[o]);return n.join("")},zeroPadString:function(e,t){for(var n="",r=e.length;t>r++;)n+="0";return n+e},unindentString:function(e,t){for(var n,r=this.splitByLines(e),i=t.length,o=0,s=r.length;s>o;o++)n=r[o],n.substr(0,i)===t&&(r[o]=n.substr(i));return r.join("\n")},replaceUnescapedSymbol:function(e,t,n){for(var r=0,i=e.length,o=t.length,s=0;i>r;)if("\\"==e.charAt(r))r+=o+1;else if(e.substr(r,o)==t){var a=o;s++;var l=n;if("function"==typeof n){var u=n(e,t,r,s);u?(a=u[0].length,l=u[1]):l=!1}if(l===!1){r++;continue}e=e.substring(0,r)+l+e.substring(r+a),i=e.length,r+=l.length}else r++;return e},replaceCounter:function(e,t,n){var r="$";e=String(e),t=String(t),/^\-?\d+$/.test(t)&&(t=+t);var i=this;return this.replaceUnescapedSymbol(e,r,function(e,r,o){if("{"==e.charAt(o+1)||i.isNumeric(e.charAt(o+1)))return!1;for(var s=o+1;"$"==e.charAt(s)&&"{"!=e.charAt(s+1);)s++;var a,l=s-o,u=0,c=!1;return(a=e.substr(s).match(/^@(\-?)(\d*)/))&&(s+=a[0].length,a[1]&&(c=!0),u=parseInt(a[2]||1,10)-1),c&&n&&"number"==typeof t&&(t=n-t+1),t+=u,[e.substring(o,s),i.zeroPadString(t+"",l)]})},matchesTag:function(e){return this.reTag.test(e||"")},escapeText:function(e){return e.replace(/([\$\\])/g,"\\$1")},unescapeText:function(e){return e.replace(/\\(.)/g,"$1")},getCaretPlaceholder:function(){return"function"==typeof n?n.apply(this,arguments):n},setCaretPlaceholder:function(e){n=e},getLinePadding:function(e){return(e.match(/^(\s+)/)||[""])[0]},getLinePaddingFromPosition:function(e,t){var n=this.findNewlineBounds(e,t);return this.getLinePadding(n.substring(e))},escapeForRegexp:function(e){var t=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");return e.replace(t,"\\$&")},prettifyNumber:function(e,t){return e.toFixed("undefined"==typeof t?2:t).replace(/\.?0+$/,"")},replaceSubstring:function(e,t,n,r){return"object"==typeof n&&"end"in n&&(r=n.end,n=n.start),"string"==typeof r&&(r=n+r.length),"undefined"==typeof r&&(r=n),0>n||n>e.length?e:e.substring(0,n)+t+e.substring(r)},replaceWith:function(e,t,n,r){if(t.length){var i=0,o=[];t.forEach(function(t){var s=r?n:this.repeatString(n,t[1]-t[0]);o.push(e.substring(i,t[0]),s),i=t[1]},this),e=o.join("")+e.substring(i)}return e},narrowToNonSpace:function(e,n,r){for(var i=t.create(n,r),o=/[\s\n\r\u00a0]/;i.start<i.end&&o.test(e.charAt(i.start));)i.start++;for(;i.end>i.start;)if(i.end--,!o.test(e.charAt(i.end))){i.end++;break}return i},findNewlineBounds:function(e,n){for(var r,i=e.length,o=0,s=i-1,a=n-1;a>0;a--)if(r=e.charAt(a),"\n"==r||"\r"==r){o=a+1;break}for(var l=n;i>l;l++)if(r=e.charAt(l),"\n"==r||"\r"==r){s=l;break}return t.create(o,s-o)},deepMerge:function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length;for("object"!=typeof s&&"function"!=typeof s&&(s={});l>a;a++)if(null!==(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(r&&("object"==typeof r||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&"object"==typeof n?n:{},s[t]=this.deepMerge(o,r)):void 0!==r&&(s[t]=r));return s},parseJSON:function(e){if("object"==typeof e)return e;try{return JSON.parse(e)}catch(t){return{}}},unique:function(e,t){var n=[];return e.filter(function(e){var r=t?t(e):e;return n.indexOf(r)<0?(n.push(r),!0):void 0})},pick:function(e){var t={},n=this.toArray(arguments,1);return Object.keys(e).forEach(function(r){~n.indexOf(r)&&(t[r]=e[r])}),t},find:function(e,t,n){var r;return n&&(t=t.bind(n)),Array.isArray(e)?e.some(function(e,n){return t(e,n)?r=e:void 0}):Object.keys(e).some(function(n,i){return t(e[n],i)?r=e[n]:void 0}),r},toArray:function(e,t){return Array.isArray(e)&&!t?e:Array.prototype.slice.call(e,t||0)},extend:function(e){for(var t,n=1,r=arguments.length;r>n;n++)t=arguments[n],t&&Object.keys(t).forEach(function(n){e[n]=t[n]});return e},defaults:function(e){for(var t,n=1,r=arguments.length;r>n;n++)t=arguments[n],t&&Object.keys(t).forEach(function(n){n in e||(e[n]=t[n])});return e},flatten:function(e,t){t=t||[];var n=this;return n.toArray(e).forEach(function(e){Array.isArray(e)?n.flatten(e,t):t.push(e)}),t},clone:function(e){return Array.isArray(e)?e.slice(0):this.extend({},e)},without:function(e){return this.toArray(arguments,1).forEach(function(t){for(var n;~(n=e.indexOf(t));)e.splice(n,1)}),e},last:function(e){return e[e.length-1]}}})},{"../assets/range":29}],72:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){return'"'==e||"'"==e}function n(){return c=(c+1)%f,"s"+c}function r(e,t){this.id=n(),this.parent=null,this.nextSibling=null,this.previousSibling=null,this._source=t,this._name=null,this._content=null,this._data={},!e&&t&&(e=s(0,t)),this.range=e,this.children=[]}var i=e("./common"),o=e("./comments"),s=e("../assets/range"),a=e("../assets/stringStream"),l=(e("../parser/css"),e("../assets/htmlMatcher")),u=e("../editTree/xml"),c=1,f=1e6,h=/^(\s*).+?(\s*)$/,p=/\s/g;return r.prototype={addChild:function(e){e instanceof r||(e=new r(e));var t=i.last(this.children);return t&&(t.nextSibling=e,e.previousSibling=t),e.parent=this,this.children.push(e),e},root:function(){var e=this;do if(!e.parent)return e;while(e=e.parent);return e},source:function(){return this._source||this.root()._source},name:function(){if(null===this._name){var e=this.nameRange();e&&(this._name=e.substring(this.source()))}return this._name},nameRange:function(){return this.range&&"_selectorEnd"in this.range?s.create2(this.range.start,this.range._selectorEnd):void 0},matchDeep:function(e){if(!this.range.inside(e))return null;for(var t,n=0,r=this.children.length;r>n;n++)if(t=this.children[n].matchDeep(e))return t;return this.parent?this:null},allRanges:function(){var e=[];return this.parent&&e.push(this.range),this.children.forEach(function(t){e=e.concat(t.allRanges())}),e},data:function(e,t){return"undefined"!=typeof t&&(this._data[e]=t),this._data[e]},stringify:function(e){e=e||"";var t="";return this.children.forEach(function(n){t+=e+n.name().replace(/\n/g,"\\n")+"\n",t+=n.stringify(e+"--")}),t},content:function(){if(null!==this._content)return this._content;if(!(this.range&&"_contentStart"in this.range))return"";var e=s.create2(this.range._contentStart+1,this.range.end-1),t=this.source(),n=e.start,r="";return this.children.forEach(function(e){r+=t.substring(n,e.range.start),n=e.range.end}),r+=t.substring(n,e.end),this._content=i.trim(r)}},{findAllRules:function(e){e=this.sanitize(e);for(var n,r,o=a(e),l=[],u=this,c=function(t){var n=u.extractSelector(e,t.start),r=s.create2(n.start,t.end);r._selectorEnd=n.end,r._contentStart=t.start,l.push(r)};r=o.next();)if(t(r)){if(!o.skipString(r))break}else"{"==r&&(n=this.matchBracesRanges(e,o.pos-1),n.forEach(c),n.length)&&(o.pos=i.last(n).end);return l.sort(function(e,t){return e.start-t.start})},matchBracesRanges:function(e,t,n){n&&(e=this.sanitize(e));var r=a(e);r.start=r.pos=t;for(var i,o=[],l=[];i=r.next();)if("{"==i)o.push(r.pos-1);else if("}"==i){if(!o.length)throw"Invalid source structure (check for curly braces)";if(l.push(s.create2(o.pop(),r.pos)),!o.length)return l}else r.skipQuoted();return l},extractSelector:function(e,t,n){n&&(e=this.sanitize(e));for(var r,i=function(){var n=e.charAt(t);if('"'==n||"'"==n){for(;--t>=0&&(e.charAt(t)!=n||"\\"==e.charAt(t-1)););return!0}return!1},o=t;--t>=0;)if(!i())if(r=e.charAt(t),")"!=r){if("{"==r||"}"==r||";"==r){t++;break}}else for(;--t>=0&&(i()||"("!=e.charAt(t)););0>t&&(t=0);var a=e.substring(t,o),l=a.replace(p," ").match(h);return l&&(t+=l[1].length,o-=l[2].length),s.create2(t,o)},matchEnclosingRule:function(e,t){"string"==typeof e&&(e=this.findAllRules(e));var n=e.filter(function(e){return e.inside(t)});return i.last(n)},locateRule:function(e,t,n){var r=0,i=this.styleTagRange(e,t);i&&(r=i.start,t-=i.start,e=i.substring(e));var o=this.findAllRules(e),s=this.matchEnclosingRule(o,t);if(s)return s.shift(r);for(var a=0,l=o.length;l>a;a++)if(o[a].start>t)return o[n?a-1:a].shift(r)},sanitize:function(e){e=o.strip(e);for(var n,r,s=a(e),l=[];n=s.next();)if(t(n))s.skipString(n);else if(("#"===n||"@"===n)&&(r=s.peek(),"{"===r)){if(s.start=s.pos-1,!s.skipTo("}"))throw"Invalid string interpolation at "+s.start;s.pos+=1,l.push([s.start,s.pos])}return i.replaceWith(e,l,"a")},sectionTree:function(e){var t=new r(null,e),n=this.findAllRules(e),i=function(e,n){for(;n&&n.range;){if(n.range.contains(e))return n.addChild(e);n=n.parent}return t.addChild(e)},o=t;return n.forEach(function(e){o=i(e,o)}),t},nestedSectionsInRule:function(e){var t=e.valueRange(!0).start,n=this.findAllRules(e.valueRange().substring(e.source));return n.forEach(function(e){e.start+=t,e.end+=t,e._selectorEnd+=t,e._contentStart+=t}),n},styleTagRange:function(e,t){var n=l.tag(e,t);return n&&"style"==n.open.name.toLowerCase()&&n.innerRange.cmp(t,"lte","gte")&&n.innerRange},styleAttrRange:function(e,t){var n=u.parseFromPosition(e,t,!0);if(n){var r=n.itemFromPosition(t,!0);return r&&"style"==r.name().toLowerCase()&&r.valueRange(!0).cmp(t,"lte","gte")&&r.valueRange(!0)}},CSSSection:r}})},{"../assets/htmlMatcher":25,"../assets/range":29,"../assets/stringStream":31,"../editTree/xml":36,"../parser/css":54,"./comments":70,"./common":71}],73:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){var t=e("./common"),n=e("../assets/resources");return{isInsideTag:function(e,t){for(var n=/^<\/?\w[\w\:\-]*.*?>/,r=t;r>-1&&"<"!=e.charAt(r);)r--;if(-1!=r){var i=n.exec(e.substring(r));if(i&&t>r&&t<r+i[0].length)return!0}return!1},outputInfo:function(e,t,n){return n=n||e.getProfileName(),{syntax:String(t||e.getSyntax()),profile:n||null,content:String(e.getContent())}},unindent:function(e,n){return t.unindentString(n,this.getCurrentLinePadding(e))},getCurrentLinePadding:function(e){return t.getLinePadding(e.getCurrentLine())},normalize:function(e,r){r=t.extend({newline:n.getNewline(),indentation:n.getVariable("indentation")},r);var i=function(e){return t.repeatString(r.indentation,e.length)},o=t.splitByLines(e);return"	"!==r.indentation&&(o=o.map(function(e){return e.replace(/^\s+/,function(e){return e.replace(/\t/g,i)})})),o.join(r.newline)}}})},{"../assets/resources":30,"./common":71}],74:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){function e(e){function t(){}return t.prototype=e,new t}function t(e,t,n,r){this.type_=e,this.index_=t||0,this.prio_=n||0,this.number_=void 0!==r&&null!==r?r:0,this.toString=function(){switch(this.type_){case g:return this.number_;case v:case b:case y:return this.index_;case x:return"CALL";default:return"Invalid Token"}}}function n(e,t,n,r){this.tokens=e,this.ops1=t,this.ops2=n,this.functions=r}function r(e){return"string"==typeof e?(w.lastIndex=0,w.test(e)?"'"+e.replace(w,function(e){var t=C[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+"'":"'"+e+"'"):e}function i(e,t){return Number(e)+Number(t)}function o(e,t){return e-t}function s(e,t){return e*t}function a(e,t){return e/t}function l(e,t){return e%t}function u(e,t){return""+e+t}function c(e){return-e}function f(e){return Math.random()*(e||1)}function h(e){e=Math.floor(e);for(var t=e;e>1;)t*=--e;return t}function p(e,t){return Math.sqrt(e*e+t*t)}function d(e,t){return"[object Array]"!=Object.prototype.toString.call(e)?[e,t]:(e=e.slice(),e.push(t),e)}function m(){this.success=!1,this.errormsg="",this.expression="",this.pos=0,this.tokennumber=0,this.tokenprio=0,this.tokenindex=0,this.tmpprio=0,this.ops1={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,"-":c,exp:Math.exp},this.ops2={"+":i,"-":o,"*":s,"/":a,"%":l,"^":Math.pow,",":d,"||":u},this.functions={random:f,fac:h,min:Math.min,max:Math.max,pyt:p,pow:Math.pow,atan2:Math.atan2},this.consts={E:Math.E,PI:Math.PI}}var g=0,v=1,b=2,y=3,x=4,w=/[\\\'\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,C={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","'":"\\'","\\":"\\\\"};n.prototype={simplify:function(r){r=r||{};var i,o,s,a,l=[],u=[],c=this.tokens.length,f=0;for(f=0;c>f;f++){a=this.tokens[f];var h=a.type_;if(h===g)l.push(a);else if(h===y&&a.index_ in r)a=new t(g,0,0,r[a.index_]),l.push(a);else if(h===b&&l.length>1)o=l.pop(),i=l.pop(),s=this.ops2[a.index_],a=new t(g,0,0,s(i.number_,o.number_)),l.push(a);else if(h===v&&l.length>0)i=l.pop(),s=this.ops1[a.index_],a=new t(g,0,0,s(i.number_)),l.push(a);else{for(;l.length>0;)u.push(l.shift());u.push(a)}}for(;l.length>0;)u.push(l.shift());return new n(u,e(this.ops1),e(this.ops2),e(this.functions))},substitute:function(r,i){i instanceof n||(i=(new m).parse(String(i)));var o,s=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){o=this.tokens[l];var u=o.type_;if(u===y&&o.index_===r)for(var c=0;c<i.tokens.length;c++){var f=i.tokens[c],h=new t(f.type_,f.index_,f.prio_,f.number_);s.push(h)}else s.push(o)}var p=new n(s,e(this.ops1),e(this.ops2),e(this.functions));return p},evaluate:function(e){e=e||{};var t,n,r,i,o=[],s=this.tokens.length,a=0;for(a=0;s>a;a++){i=this.tokens[a];var l=i.type_;if(l===g)o.push(i.number_);else if(l===b)n=o.pop(),t=o.pop(),r=this.ops2[i.index_],o.push(r(t,n));else if(l===y)if(i.index_ in e)o.push(e[i.index_]);else{if(!(i.index_ in this.functions))throw new Error("undefined variable: "+i.index_);o.push(this.functions[i.index_])}else if(l===v)t=o.pop(),r=this.ops1[i.index_],o.push(r(t));else{if(l!==x)throw new Error("invalid Expression");if(t=o.pop(),r=o.pop(),!r.apply||!r.call)throw new Error(r+" is not a function");o.push("[object Array]"==Object.prototype.toString.call(t)?r.apply(void 0,t):r.call(void 0,t))}}if(o.length>1)throw new Error("invalid Expression (parity)");return o[0]},toString:function(e){var t,n,i,o,s=[],a=this.tokens.length,l=0;for(l=0;a>l;l++){o=this.tokens[l];var u=o.type_;if(u===g)s.push(r(o.number_));else if(u===b)n=s.pop(),t=s.pop(),i=o.index_,s.push(e&&"^"==i?"Math.pow("+t+","+n+")":"("+t+i+n+")");else if(u===y)s.push(o.index_);else if(u===v)t=s.pop(),i=o.index_,s.push("-"===i?"("+i+t+")":i+"("+t+")");else{if(u!==x)throw new Error("invalid Expression");t=s.pop(),i=s.pop(),s.push(i+"("+t+")")}}if(s.length>1)throw new Error("invalid Expression (parity)");return s[0]},variables:function(){for(var e=this.tokens.length,t=[],n=0;e>n;n++){var r=this.tokens[n];r.type_===y&&-1==t.indexOf(r.index_)&&t.push(r.index_)}return t},toJSFunction:function(e,t){var n=new Function(e,"with(Parser.values) { return "+this.simplify(t).toString(!0)+"; }");return n}},m.parse=function(e){return(new m).parse(e)},m.evaluate=function(e,t){return m.parse(e).evaluate(t)},m.Expression=n,m.values={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sqrt:Math.sqrt,log:Math.log,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,random:f,fac:h,exp:Math.exp,min:Math.min,max:Math.max,pyt:p,pow:Math.pow,atan2:Math.atan2,E:Math.E,PI:Math.PI};var S=1,D=2,k=4,A=8,E=16,_=32,F=64,P=128,L=256;return m.prototype={parse:function(r){this.errormsg="",this.success=!0;var i=[],o=[];this.tmpprio=0;var s=S|A|k|F,a=0;for(this.expression=r,this.pos=0;this.pos<this.expression.length;)if(this.isOperator())this.isSign()&&s&F?(this.isNegativeSign()&&(this.tokenprio=2,this.tokenindex="-",a++,this.addfunc(o,i,v)),s=S|A|k|F):this.isComment()||(0===(s&D)&&this.error_parsing(this.pos,"unexpected operator"),a+=2,this.addfunc(o,i,b),s=S|A|k|F);else if(this.isNumber()){0===(s&S)&&this.error_parsing(this.pos,"unexpected number");var l=new t(g,0,0,this.tokennumber);o.push(l),s=D|E|_}else if(this.isString()){0===(s&S)&&this.error_parsing(this.pos,"unexpected string");var l=new t(g,0,0,this.tokennumber);o.push(l),s=D|E|_}else if(this.isLeftParenth())0===(s&A)&&this.error_parsing(this.pos,'unexpected "("'),s&P&&(a+=2,this.tokenprio=-2,this.tokenindex=-1,this.addfunc(o,i,x)),s=S|A|k|F|L;else if(this.isRightParenth()){if(s&L){var l=new t(g,0,0,[]);o.push(l)}else 0===(s&E)&&this.error_parsing(this.pos,'unexpected ")"');s=D|E|_|A|P}else if(this.isComma())0===(s&_)&&this.error_parsing(this.pos,'unexpected ","'),this.addfunc(o,i,b),a+=2,s=S|A|k|F;else if(this.isConst()){0===(s&S)&&this.error_parsing(this.pos,"unexpected constant");var u=new t(g,0,0,this.tokennumber);o.push(u),s=D|E|_}else if(this.isOp2())0===(s&k)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,b),a+=2,s=A;else if(this.isOp1())0===(s&k)&&this.error_parsing(this.pos,"unexpected function"),this.addfunc(o,i,v),a++,s=A;else if(this.isVar()){0===(s&S)&&this.error_parsing(this.pos,"unexpected variable");var c=new t(y,this.tokenindex,0,0);o.push(c),s=D|E|_|A|P}else this.isWhite()||(""===this.errormsg?this.error_parsing(this.pos,"unknown character"):this.error_parsing(this.pos,this.errormsg));for((this.tmpprio<0||this.tmpprio>=10)&&this.error_parsing(this.pos,'unmatched "()"');i.length>0;){var f=i.pop();o.push(f)}return a+1!==o.length&&this.error_parsing(this.pos,"parity"),new n(o,e(this.ops1),e(this.ops2),e(this.functions))},evaluate:function(e,t){return this.parse(e).evaluate(t)},error_parsing:function(e,t){throw this.success=!1,this.errormsg="parse error [column "+e+"]: "+t,new Error(this.errormsg)},addfunc:function(e,n,r){for(var i=new t(r,this.tokenindex,this.tokenprio+this.tmpprio,0);n.length>0&&i.prio_<=n[n.length-1].prio_;)e.push(n.pop());n.push(i)},isNumber:function(){for(var e=!1,t="";this.pos<this.expression.length;){var n=this.expression.charCodeAt(this.pos);if(!(n>=48&&57>=n||46===n))break;t+=this.expression.charAt(this.pos),this.pos++,this.tokennumber=parseFloat(t),e=!0}return e},unescape:function(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e.charAt(i);if(r){switch(o){case"'":n.push("'");break;case"\\":n.push("\\");break;case"/":n.push("/");break;case"b":n.push("\b");break;case"f":n.push("\f");break;case"n":n.push("\n");break;case"r":n.push("\r");break;case"t":n.push("	");break;case"u":var s=parseInt(e.substring(i+1,i+5),16);n.push(String.fromCharCode(s)),i+=4;break;default:throw this.error_parsing(t+i,"Illegal escape sequence: '\\"+o+"'")}r=!1}else"\\"==o?r=!0:n.push(o)}return n.join("")},isString:function(){var e=!1,t="",n=this.pos;if(this.pos<this.expression.length&&"'"==this.expression.charAt(this.pos))for(this.pos++;this.pos<this.expression.length;){var r=this.expression.charAt(this.pos);if("'"==r&&"\\"!=t.slice(-1)){this.pos++,this.tokennumber=this.unescape(t,n),e=!0;break}t+=this.expression.charAt(this.pos),this.pos++}return e},isConst:function(){var e;for(var t in this.consts){var n=t.length;if(e=this.expression.substr(this.pos,n),t===e)return this.tokennumber=this.consts[t],this.pos+=n,!0}return!1},isOperator:function(){var e=this.expression.charCodeAt(this.pos);if(43===e)this.tokenprio=0,this.tokenindex="+";else if(45===e)this.tokenprio=0,this.tokenindex="-";else if(124===e){if(124!==this.expression.charCodeAt(this.pos+1))return!1;this.pos++,this.tokenprio=0,this.tokenindex="||"}else if(42===e)this.tokenprio=1,this.tokenindex="*";else if(47===e)this.tokenprio=2,this.tokenindex="/";else if(37===e)this.tokenprio=2,this.tokenindex="%";else{if(94!==e)return!1;this.tokenprio=3,this.tokenindex="^"}return this.pos++,!0},isSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e||43===e?!0:!1},isPositiveSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 43===e?!0:!1},isNegativeSign:function(){var e=this.expression.charCodeAt(this.pos-1);return 45===e?!0:!1},isLeftParenth:function(){var e=this.expression.charCodeAt(this.pos);return 40===e?(this.pos++,this.tmpprio+=10,!0):!1},isRightParenth:function(){var e=this.expression.charCodeAt(this.pos);return 41===e?(this.pos++,this.tmpprio-=10,!0):!1},isComma:function(){var e=this.expression.charCodeAt(this.pos);return 44===e?(this.pos++,this.tokenprio=-1,this.tokenindex=",",!0):!1},isWhite:function(){var e=this.expression.charCodeAt(this.pos);return 32===e||9===e||10===e||13===e?(this.pos++,!0):!1},isOp1:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0&&e in this.ops1?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isOp2:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0&&e in this.ops2?(this.tokenindex=e,this.tokenprio=5,this.pos+=e.length,!0):!1},isVar:function(){for(var e="",t=this.pos;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()&&(t===this.pos||"_"!=n&&("0">n||n>"9")))break;e+=n}return e.length>0?(this.tokenindex=e,this.tokenprio=4,this.pos+=e.length,!0):!1},isComment:function(){var e=this.expression.charCodeAt(this.pos-1);return 47===e&&42===this.expression.charCodeAt(this.pos)?(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0):!1}},m})},{}],75:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e){for(var t=[],n=o(e);!n.eol();)","==n.peek()&&(t.push(s.trim(n.current())),n.next(),n.start=n.pos),n.next();return t.push(s.trim(n.current())),t.filter(function(e){return!!e})}function n(e){for(var n,r=null,i=o(e);!i.eol();){if("("==i.peek()){r=i.current(),i.start=i.pos,i.skipToPair("(",")",!0),n=i.current(),n=t(n.substring(1,n.length-1));break}i.next()}return r&&{name:r,args:n}}function r(e,t){if(/^['"]/.test(e))return e.replace(/^(['"])(.+?)\1$/,"$2");if(!isNaN(+e))return+e;if(e){for(var n=e.split("."),r=t;n.length;)r=r[n.shift()];return r}}function i(e,t){return e.replace(/<%[=\-](.+?)%>/g,function(e,i){i=s.trim(i);var o=n(i);if(o){var a=o.args.map(function(e){return r(e,t)});return t[o.name].apply(t,a)}return r(i,t)})}var o=e("../assets/stringStream"),s=e("./common");return function(e,t){return t?i(e,t):function(t){return i(e,t)}}})},{"../assets/stringStream":31,"./common":71}],76:[function(e,t,n){if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(e){function t(e,t,i){var o;return o=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend(o,e),r.prototype=e.prototype,o.prototype=new r,t&&n.extend(o.prototype,t),i&&n.extend(o,i),o.prototype.constructor=o,o.__super__=e.prototype,o}var n=e("../utils/common"),r=function(){};return{extend:function(e,n){var r=t(this,e,n);return r.extend=this.extend,e.hasOwnProperty("toString")&&(r.prototype.toString=e.toString),r}}})},{"../utils/common":71}],77:[function(e,t,n){/*!
 * string_score.js: String Scoring Algorithm 0.1.10
 *
 * http://joshaven.com/string_score
 * https://github.com/joshaven/string_score
 *
 * Copyright (C) 2009-2011 Joshaven Potter <yourtech@gmail.com>
 * Special thanks to all of the contributors listed here https://github.com/joshaven/string_score
 * MIT license: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: Tue Mar 1 2011
*/
if("object"==typeof t&&"function"!=typeof r)var r=function(r){t.exports=r(e,n,t)};r(function(){return{score:function(e,t,n){if(e==t)return 1;if(""==t)return 0;for(var r,i,o,s,a,l,u,c,f,h=0,p=t.length,d=e.length,m=1,g=0;p>g;++g){if(l=t.charAt(g),u=e.indexOf(l.toLowerCase()),c=e.indexOf(l.toUpperCase()),f=Math.min(u,c),a=f>-1?f:Math.max(u,c),-1===a){if(n){m+=1-n;continue}return 0}s=.1,e[a]===l&&(s+=.1),0===a?(s+=.6,0===g&&(r=1)):" "===e.charAt(a-1)&&(s+=.8),e=e.substring(a+1,d),h+=s}return i=h/p,o=(i*(p/d)+i)/2,o/=m,r&&1>o+.15&&(o+=.15),o}}})},{}],78:[function(e,t){"use strict";function n(e){var t=void 0===arguments[1]?f:arguments[1];return t=a(t),e.__emmetKeymap=t,e.addKeyMap(t),e}function r(){if(CodeMirror.version>="3.1")return CodeMirror.Pass;throw CodeMirror.Pass}function i(e){return function(t){var n;return t.operation(function(){return n=s(e,new u(t))}),n}}function o(e){return function(t){var n=new u(t),r=n.selectionList(),i=null;return t.operation(function(){for(var t=0,o=r.length;o>t&&(n.selectionIndex=t,i=s(e,n),i!==CodeMirror.Pass);t++);}),i}}function s(e,t){if("expand_abbreviation_with_tab"==e&&(t.context.somethingSelected()||!t.isValidSyntax()))return r();var n=!1;try{if(n=c.run(e,t),!n&&"insert_formatted_line_break_only"==e)return r()}catch(i){console.error(i)}return n}function a(e){var t=/Mac/.test(navigator.platform),n={};return Object.keys(e).forEach(function(r){return n[t?r:r.replace("Cmd","Ctrl")]=e[r]}),n}var l=function(e){return e&&e.__esModule?e["default"]:e};t.exports=n;var u=l(e("./editor")),c=l(e("./emmet")),f={"Cmd-E":"emmet.expand_abbreviation",Tab:"emmet.expand_abbreviation_with_tab","Cmd-D":"emmet.balance_outward","Cmd-M":"emmet.matching_pair","Shift-Cmd-A":"emmet.wrap_with_abbreviation","Ctrl-Alt-Right":"emmet.next_edit_point","Ctrl-Alt-Left":"emmet.prev_edit_point","Cmd-L":"emmet.select_line","Cmd-Shift-M":"emmet.merge_lines","Cmd-/":"emmet.toggle_comment","Cmd-J":"emmet.split_join_tag","Cmd-K":"emmet.remove_tag","Shift-Cmd-Y":"emmet.evaluate_math_expression","Ctrl-Up":"emmet.increment_number_by_1","Ctrl-Down":"emmet.decrement_number_by_1","Ctrl-Alt-Up":"emmet.increment_number_by_01","Ctrl-Alt-Down":"emmet.decrement_number_by_01","Shift-Ctrl-Up":"emmet.increment_number_by_10","Shift-Ctrl-Down":"emmet.decrement_number_by_10","Shift-Cmd-.":"emmet.select_next_item","Shift-Cmd-,":"emmet.select_previous_item","Cmd-B":"emmet.reflect_css_value",Enter:"emmet.insert_formatted_line_break_only"},h=["prev_edit_point","next_edit_point","merge_lines","reflect_css_value","select_next_item","select_previous_item","wrap_with_abbreviation","update_tag","insert_formatted_line_break_only"];n.dispose=function(e){e.__emmetKeymap&&(e.removeKeyMap(e.__emmetKeymap),delete e.__emmetKeymap)},n.defaultKeymap=f,n.systemKeymap=a,n.emmet=c,n.EmmetEditor=u,n.setup=function(e){c.actions.getList().forEach(function(t){var n=t.name,r="emmet."+n;e.commands[r]||(e.commands[r]=~h.indexOf(n)?i(n):o(n))}),e.defineOption?e.defineOption("profile","html"):e.defaults.profile="html"},"undefined"!=typeof CodeMirror&&n.setup(CodeMirror)},{"./editor":1,"./emmet":2}]},{},[78])(78)}),/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
function(){function e(e){var n=!1;return function(){if(n)throw new Error("Callback was already called.");n=!0,e.apply(t,arguments)}}var t,n,r={};t=this,null!=t&&(n=t.async),r.noConflict=function(){return t.async=n,r};var i=Object.prototype.toString,o=Array.isArray||function(e){return"[object Array]"===i.call(e)},s=function(e,t){for(var n=0;n<e.length;n+=1)t(e[n],n,e)},a=function(e,t){if(e.map)return e.map(t);var n=[];return s(e,function(e,r,i){n.push(t(e,r,i))}),n},l=function(e,t,n){return e.reduce?e.reduce(t,n):(s(e,function(e,r,i){n=t(n,e,r,i)}),n)},u=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};"undefined"!=typeof process&&process.nextTick?(r.nextTick=process.nextTick,r.setImmediate="undefined"!=typeof setImmediate?function(e){setImmediate(e)}:r.nextTick):"function"==typeof setImmediate?(r.nextTick=function(e){setImmediate(e)},r.setImmediate=r.nextTick):(r.nextTick=function(e){setTimeout(e,0)},r.setImmediate=r.nextTick),r.each=function(t,n,r){function i(e){e?(r(e),r=function(){}):(o+=1,o>=t.length&&r())}if(r=r||function(){},!t.length)return r();var o=0;s(t,function(t){n(t,e(i))})},r.forEach=r.each,r.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1,r>=e.length?n():i())})};i()},r.forEachSeries=r.eachSeries,r.eachLimit=function(e,t,n,r){var i=c(t);i.apply(null,[e,n,r])},r.forEachLimit=r.eachLimit;var c=function(e){return function(t,n,r){if(r=r||function(){},!t.length||0>=e)return r();var i=0,o=0,s=0;!function a(){if(i>=t.length)return r();for(;e>s&&o<t.length;)o+=1,s+=1,n(t[o-1],function(e){e?(r(e),r=function(){}):(i+=1,s-=1,i>=t.length?r():a())})}()}},f=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.each].concat(t))}},h=function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[c(e)].concat(n))}},p=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[r.eachSeries].concat(t))}},d=function(e,t,n,r){if(t=a(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};r.map=f(d),r.mapSeries=p(d),r.mapLimit=function(e,t,n,r){return m(t)(e,n,r)};var m=function(e){return h(e,d)};r.reduce=function(e,t,n,i){r.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){i(e,t)})},r.inject=r.reduce,r.foldl=r.reduce,r.reduceRight=function(e,t,n,i){var o=a(e,function(e){return e}).reverse();r.reduce(o,t,n,i)},r.foldr=r.reduceRight;var g=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.filter=f(g),r.filterSeries=p(g),r.select=r.filter,r.selectSeries=r.filterSeries;var v=function(e,t,n,r){var i=[];t=a(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(){r(a(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};r.reject=f(v),r.rejectSeries=p(v);var b=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(){r()})};r.detect=f(b),r.detectSeries=p(b),r.some=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(){n(!1)})},r.any=r.some,r.every=function(e,t,n){r.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(){n(!0)})},r.all=r.every,r.sortBy=function(e,t,n){r.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);var r=function(e,t){var n=e.criteria,r=t.criteria;return r>n?-1:n>r?1:0};n(null,a(t.sort(r),function(e){return e.value}))})},r.auto=function(e,t){t=t||function(){};var n=u(e),i=n.length;if(!i)return t();var a={},c=[],f=function(e){c.unshift(e)},h=function(e){for(var t=0;t<c.length;t+=1)if(c[t]===e)return void c.splice(t,1)},p=function(){i--,s(c.slice(0),function(e){e()})};f(function(){if(!i){var e=t;t=function(){},e(null,a)}}),s(n,function(n){var i=o(e[n])?e[n]:[e[n]],c=function(e){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),e){var o={};s(u(a),function(e){o[e]=a[e]}),o[n]=i,t(e,o),t=function(){}}else a[n]=i,r.setImmediate(p)},d=i.slice(0,Math.abs(i.length-1))||[],m=function(){return l(d,function(e,t){return e&&a.hasOwnProperty(t)},!0)&&!a.hasOwnProperty(n)};if(m())i[i.length-1](c,a);else{var g=function(){m()&&(h(g),i[i.length-1](c,a))};f(g)}})},r.retry=function(e,t,n){var i=5,o=[];"function"==typeof e&&(n=t,t=e,e=i),e=parseInt(e,10)||i;var s=function(i,s){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},s)}};e;)o.push(a(t,!(e-=1)));r.series(o,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})};return n?s():s},r.waterfall=function(e,t){if(t=t||function(){},!o(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var i=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var o=Array.prototype.slice.call(arguments,1),s=e.next();o.push(s?i(s):t),r.setImmediate(function(){e.apply(null,o)})}}};i(r.iterator(e))()};var y=function(e,t,n){if(n=n||function(){},o(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(u(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};r.parallel=function(e,t){y({map:r.map,each:r.each},e,t)},r.parallelLimit=function(e,t,n){y({map:m(t),each:c(t)},e,n)},r.series=function(e,t){if(t=t||function(){},o(e))r.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};r.eachSeries(u(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},r.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},r.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var x=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};r.concat=f(x),r.concatSeries=p(x),r.whilst=function(e,t,n){e()?t(function(i){return i?n(i):void r.whilst(e,t,n)}):n()},r.doWhilst=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?r.doWhilst(e,t,n):n()})},r.until=function(e,t,n){e()?n():t(function(i){return i?n(i):void r.until(e,t,n)})},r.doUntil=function(e,t,n){e(function(i){if(i)return n(i);var o=Array.prototype.slice.call(arguments,1);t.apply(null,o)?n():r.doUntil(e,t,n)})},r.queue=function(t,n){function i(e,t,n,i){return e.started||(e.started=!0),o(t)||(t=[t]),0==t.length?r.setImmediate(function(){e.drain&&e.drain()}):void s(t,function(t){var o={data:t,callback:"function"==typeof i?i:null};n?e.tasks.unshift(o):e.tasks.push(o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}void 0===n&&(n=1);var a=0,l={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){i(l,e,!1,t)},kill:function(){l.drain=null,l.tasks=[]},unshift:function(e,t){i(l,e,!0,t)},process:function(){if(!l.paused&&a<l.concurrency&&l.tasks.length){var n=l.tasks.shift();l.empty&&0===l.tasks.length&&l.empty(),a+=1;var r=function(){a-=1,n.callback&&n.callback.apply(n,arguments),l.drain&&l.tasks.length+a===0&&l.drain(),l.process()},i=e(r);t(n.data,i)}},length:function(){return l.tasks.length},running:function(){return a},idle:function(){return l.tasks.length+a===0},pause:function(){l.paused!==!0&&(l.paused=!0)},resume:function(){if(l.paused!==!1){l.paused=!1;for(var e=1;e<=l.concurrency;e++)r.setImmediate(l.process)}}};return l},r.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function i(e,t,n){for(var r=-1,i=e.length-1;i>r;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}function a(e,t,a,l){return e.started||(e.started=!0),o(t)||(t=[t]),0==t.length?r.setImmediate(function(){e.drain&&e.drain()}):void s(t,function(t){var o={data:t,priority:a,callback:"function"==typeof l?l:null};e.tasks.splice(i(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),r.setImmediate(e.process)})}var l=r.queue(e,t);return l.push=function(e,t,n){a(l,e,t,n)},delete l.unshift,l},r.cargo=function(e,t){var n=!1,i=[],l={tasks:i,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){o(e)||(e=[e]),s(e,function(e){i.push({data:e,callback:"function"==typeof n?n:null}),l.drained=!1,l.saturated&&i.length===t&&l.saturated()}),r.setImmediate(l.process)},process:function u(){if(!n){if(0===i.length)return l.drain&&!l.drained&&l.drain(),void(l.drained=!0);var r="number"==typeof t?i.splice(0,t):i.splice(0,i.length),o=a(r,function(e){return e.data});l.empty&&l.empty(),n=!0,e(o,function(){n=!1;var e=arguments;s(r,function(t){t.callback&&t.callback.apply(null,e)}),u()})}},length:function(){return i.length},running:function(){return n}};return l};var w=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&s(n,function(t){console[e](t)}))}]))}};r.log=w("log"),r.dir=w("dir"),r.memoize=function(e,t){var n={},i={};t=t||function(e){return e};var o=function(){var o=Array.prototype.slice.call(arguments),s=o.pop(),a=t.apply(null,o);a in n?r.nextTick(function(){s.apply(null,n[a])}):a in i?i[a].push(s):(i[a]=[s],e.apply(null,o.concat([function(){n[a]=arguments;var e=i[a];delete i[a];for(var t=0,r=e.length;r>t;t++)e[t].apply(null,arguments)}])))};return o.memo=n,o.unmemoized=e,o},r.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},r.times=function(e,t,n){for(var i=[],o=0;e>o;o++)i.push(o);return r.map(i,t,n)},r.timesSeries=function(e,t,n){for(var i=[],o=0;e>o;o++)i.push(o);return r.mapSeries(i,t,n)},r.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),i=n.pop();r.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){i.apply(t,[e].concat(n))})}},r.compose=function(){return r.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};r.applyEach=f(C),r.applyEachSeries=p(C),r.forever=function(e,t){function n(r){if(r){if(t)return t(r);throw r}e(n)}n()},"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof define&&define.amd?define([],function(){return r}):t.async=r}(),window.Keytrap=function(){"use strict";function e(e){var t=e.keyCode||e.which,n=[t];return e.shiftKey&&16!==e.keyCode&&n.push(16),e.ctrlKey&&17!==e.keyCode&&n.push(17),e.altKey&&18!==e.keyCode&&n.push(18),e.metaKey&&91!==e.keyCode&&n.push(91),n.sort(),n.join("+")}function t(e){return l[e]?l[e]:e.toUpperCase().charCodeAt(0)}function n(e){for(var n=e.split("+"),r=[],i=0;i<n.length;i++)r.push(t(n[i]));return r.sort(),r.join("+")}function r(e){for(var t=[],r=e.split(","),i=0;i<r.length;i++)t.push(n(r[i]));return t}function i(e,t){if(s[t]){for(var n=s[t],r=0;r<n.length;r++)n[r](e);if(a[t]&&e)return jQuery.Event(e).stopPropagation(),!1}}function o(t){return i(t,e(t))}var s={},a={},l={backspace:8,tab:9,enter:13,"return":13,shift:16,ctrl:17,comctrl:17,alt:18,"":18,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:46,meta:91,command:91,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,'"':222};return-1!==navigator.appVersion.indexOf("Mac")&&(l.comctrl=91),$(document).on("keydown",o),{bind:function(e,t,n){for(var i=r(e),o=i.length-1;o>=0;o--)jQuery.isArray(s[i[o]])||(s[i[o]]=[]),s[i[o]].push(t),a[i[o]]=n?!0:!1},getKeyCode:function(e){return t(e)},getKeyEventID:function(t){return"string"==typeof t?n(t):e(t)},keyEventMatchesKeyCombo:function(t,r){return e(t)===n(r)},trigger:function(e,t){i(e,t)}}}(),/*!
 * typeahead.js 0.10.5
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT
 */
function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?void 0:!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){return(r=n.call(null,i,e,t))?!1:void 0}),!!r):r},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=e.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,t),s&&(i=e.apply(a,l)),i}},throttle:function(e,t){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=e.apply(n,r)},function(){var l=new Date,u=t-(l-s);return n=this,r=arguments,0>=u?(clearTimeout(i),i=null,s=l,o=e.apply(n,r)):i||(i=setTimeout(a,u)),o}},noop:function(){}}}(),n=function(){return{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion"></div>'}}(),r=function(){"use strict";var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(e.input,{marginTop:"-1px"}),e}(),i=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var r="typeahead:";return t.mixin(n.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(r+e,t)}}),n}(),o=function(){"use strict";function e(e,t,n,r){var i;if(!n)return this;for(t=t.split(l),n=r?a(n,r):n,this._callbacks=this._callbacks||{};i=t.shift();)this._callbacks[i]=this._callbacks[i]||{sync:[],async:[]},this._callbacks[i][e].push(n);return this}function t(t,n,r){return e.call(this,"async",t,n,r)}function n(t,n,r){return e.call(this,"sync",t,n,r)}function r(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function i(e){var t,n,r,i,s;if(!this._callbacks)return this;for(e=e.split(l),r=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)i=o(n.sync,this,[t].concat(r)),s=o(n.async,this,[t].concat(r)),i()&&u(s);return this}function o(e,t,n){function r(){for(var r,i=0,o=e.length;!r&&o>i;i+=1)r=e[i].apply(t,n)===!1;return!r}return r}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function a(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:t,off:r,trigger:i}}(),s=function(e){"use strict";function n(e,n,r){for(var i,o=[],s=0,a=e.length;a>s;s++)o.push(t.escapeRegExChars(e[s]));return i=r?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",n?new RegExp(i):new RegExp(i,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){function o(t){var n,r,o;return(n=a.exec(t.data))&&(o=e.createElement(i.tagName),i.className&&(o.className=i.className),r=t.splitText(n.index),r.splitText(n[0].length),o.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(o,r)),!!n}function s(e,t){for(var n,r=3,i=0;i<e.childNodes.length;i++)n=e.childNodes[i],n.nodeType===r?i+=t(n)?1:0:s(n,t)}var a;i=t.mixin({},r,i),i.node&&i.pattern&&(i.pattern=t.isArray(i.pattern)?i.pattern:[i.pattern],a=n(i.pattern,i.caseSensitive,i.wordsOnly),s(i.node,o))}}(window.document),a=function(){"use strict";function n(n){var i,o,s,l,u=this;n=n||{},n.input||e.error("input is missing"),i=t.bind(this._onBlur,this),o=t.bind(this._onFocus,this),s=t.bind(this._onKeydown,this),l=t.bind(this._onInput,this),this.$hint=e(n.hint),this.$input=e(n.input).on("blur.tt",i).on("focus.tt",o).on("keydown.tt",s),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){a[e.which||e.keyCode]||t.defer(t.bind(u._onInput,u,e))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=r(this.$input)}function r(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function i(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(e){var t=a[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(e,t){var n,r,i;switch(e){case"tab":r=this.getHint(),i=this.getInputValue(),n=r&&r!==i&&!s(t);break;case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkInputValue:function(){var e,t,n;e=this.getInputValue(),t=i(e,this.query),n=t?this.query.length!==e.length:!1,this.query=e,t?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),t?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,r;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),r=""!==e&&n&&!this.hasOverflow(),!r&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,r;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),l=function(){"use strict";function i(r){r=r||{},r.templates=r.templates||{},r.source||e.error("missing source"),r.name&&!u(r.name)&&e.error("invalid dataset name: "+r.name),this.query=null,this.highlight=!!r.highlight,this.name=r.name||t.getUniqueId(),this.source=r.source,this.displayFn=a(r.display||r.displayKey),this.templates=l(r.templates,this.displayFn),this.$el=e(n.dataset.replace("%CLASS%",this.name))}function a(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function l(e,n){function r(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||r}}function u(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var c="ttDataset",f="ttValue",h="ttDatum";return i.extractDatasetName=function(t){return e(t).data(c)},i.extractValue=function(t){return e(t).data(f)},i.extractDatum=function(t){return e(t).data(h)},t.mixin(i.prototype,o,{_render:function(i,o){function a(){return m.templates.empty({query:i,isEmpty:!0})}function l(){function a(t){var i;return i=e(n.suggestion).append(m.templates.suggestion(t)).data(c,m.name).data(f,m.displayFn(t)).data(h,t),i.children().each(function(){e(this).css(r.suggestionChild)}),i}var l,u;return l=e(n.suggestions).css(r.suggestions),u=t.map(o,a),l.append.apply(l,u),m.highlight&&s({className:"tt-highlight",node:l[0],pattern:i}),l}function u(){return m.templates.header({query:i,isEmpty:!d})}function p(){return m.templates.footer({query:i,isEmpty:!d})}if(this.$el){var d,m=this;this.$el.empty(),d=o&&o.length,!d&&this.templates.empty?this.$el.html(a()).prepend(m.templates.header?u():null).append(m.templates.footer?p():null):d&&this.$el.html(l()).prepend(m.templates.header?u():null).append(m.templates.footer?p():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(e){function t(t){n.canceled||e!==n.query||n._render(e,t)}var n=this;this.query=e,this.canceled=!1,this.source(e,t)},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),i}(),u=function(){"use strict";function n(n){var r,o,s,a=this;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,i),r=t.bind(this._onSuggestionClick,this),o=t.bind(this._onSuggestionMouseEnter,this),s=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",r).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),t.each(this.datasets,function(e){a.$menu.append(e.getRoot()),e.onSync("rendered",a._onRendered,a)})}function i(e){return new l(e)}return t.mixin(n.prototype,o,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",e(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(e(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){function e(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,e),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(e,t){e.first().addClass("tt-cursor"),!t&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(e){var t,n,r,i;if(this.isOpen){if(n=this._getCursor(),t=this._getSuggestions(),this._removeCursor(),r=t.index(n)+e,r=(r+1)%(t.length+1)-1,-1===r)return void this.trigger("cursorRemoved");-1>r&&(r=t.length-1),this._setCursor(i=t.eq(r)),this._ensureVisible(i)}},_ensureVisible:function(e){var t,n,r,i;t=e.position().top,n=t+e.outerHeight(!0),r=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),0>t?this.$menu.scrollTop(r+t):n>i&&this.$menu.scrollTop(r+(n-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){this.$menu.css("ltr"===e?r.ltr:r.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(e){var t=null;return e.length&&(t={raw:l.extractDatum(e),value:l.extractValue(e),datasetName:l.extractDatasetName(e)}),t},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){function n(t){t.update(e)}t.each(this.datasets,n)},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function e(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,e)}}),n}(),c=function(){"use strict";function o(n){var r,o,l;n=n||{},n.input||e.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=s(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),l=this.$node.find(".tt-hint"),o.on("blur.tt",function(e){var n,i,s;n=document.activeElement,i=r.is(n),s=r.has(n).length>0,t.isMsie()&&(i||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){o.focus()}))}),r.on("mousedown.tt",function(e){e.preventDefault()}),this.eventBus=n.eventBus||new i({el:o}),this.dropdown=new u({menu:r,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new a({input:o,hint:l}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function s(t,i){var o,s,a,u;o=e(t),s=e(n.wrapper).css(r.wrapper),a=e(n.dropdown).css(r.dropdown),u=o.clone().css(r.hint).css(l(o)),u.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),o.data(f,{dir:o.attr("dir"),autocomplete:o.attr("autocomplete"),spellcheck:o.attr("spellcheck"),style:o.attr("style")}),o.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(i?r.input:r.inputWithNoHint);try{!o.attr("dir")&&o.attr("dir","auto")}catch(c){}return o.wrap(s).parent().prepend(i?u:null).append(a)}function l(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function c(e){var n=e.find(".tt-input");t.each(n.data(f),function(e,r){t.isUndefined(e)?n.removeAttr(r):n.attr(r,e)}),n.detach().removeData(f).removeClass("tt-input").insertAfter(e),e.remove()}var f="ttAttrs";return t.mixin(o.prototype,{_onSuggestionClicked:function(e,t){var n;(n=this.dropdown.getDatumForSuggestion(t))&&this._select(n)},_onCursorMoved:function(){var e=this.dropdown.getDatumForCursor();this.input.setInputValue(e.value,!0),this.eventBus.trigger("cursorchanged",e.raw,e.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(e,t){var n,r;n=this.dropdown.getDatumForCursor(),r=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),t.preventDefault()):this.autoselect&&r&&(this._select(r),t.preventDefault())},_onTabKeyed:function(e,t){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),t.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var e=this.input.getQuery();this.dropdown.isEmpty&&e.length>=this.minLength?this.dropdown.update(e):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(e,t){this.input.clearHintIfInvalid(),t.length>=this.minLength?this.dropdown.update(t):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var e;this.dir!==(e=this.input.getLanguageDirection())&&(this.dir=e,this.$node.css("direction",e),this.dropdown.setLanguageDirection(e))},_updateHint:function(){var e,n,r,i,o,s;e=this.dropdown.getDatumForTopSuggestion(),e&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),r=a.normalizeQuery(n),i=t.escapeRegExChars(r),o=new RegExp("^(?:"+i+")(.+$)","i"),s=o.exec(e.value),s?this.input.setHint(n+s[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(e){var t,n,r,i;t=this.input.getHint(),n=this.input.getQuery(),r=e||this.input.isCursorAtEnd(),t&&n!==t&&r&&(i=this.dropdown.getDatumForTopSuggestion(),i&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(e){this.input.setQuery(e.value),this.input.setInputValue(e.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",e.raw,e.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(e){e=t.toStr(e),this.isActivated?this.input.setInputValue(e):(this.input.setQuery(e),this.input.setInputValue(e,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),c(this.$node),this.$node=null}}),o}();!function(){"use strict";var n,r,o;n=e.fn.typeahead,r="ttTypeahead",o={initialize:function(n,o){function s(){var s,a,l=e(this);t.each(o,function(e){e.highlight=!!n.highlight}),a=new c({input:l,eventBus:s=new i({el:l}),withHint:t.isUndefined(n.hint)?!0:!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:o}),l.data(r,a)}return o=t.isArray(o)?o:[].slice.call(arguments,1),n=n||{},this.each(s)},open:function(){function t(){var t,n=e(this);(t=n.data(r))&&t.open()}return this.each(t)},close:function(){function t(){var t,n=e(this);(t=n.data(r))&&t.close()}return this.each(t)},val:function(t){function n(){var n,i=e(this);(n=i.data(r))&&n.setVal(t)}function i(e){var t,n;return(t=e.data(r))&&(n=t.getVal()),n}return arguments.length?this.each(n):i(this.first())},destroy:function(){function t(){var t,n=e(this);(t=n.data(r))&&(t.destroy(),n.removeData(r))}return this.each(t)}},e.fn.typeahead=function(t){var n;return o[t]&&"initialize"!==t?(n=this.filter(function(){return!!e(this).data(r)}),o[t].apply(n,[].slice.call(arguments,1))):o.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}}()}(window.jQuery),/*
  Copyright (c) jQuery Foundation, Inc. and Contributors, All Rights Reserved.

  Redistribution and use in source and binary forms, with or without
  modification, are permitted provided that the following conditions are met:

    * Redistributions of source code must retain the above copyright
      notice, this list of conditions and the following disclaimer.
    * Redistributions in binary form must reproduce the above copyright
      notice, this list of conditions and the following disclaimer in the
      documentation and/or other materials provided with the distribution.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  ARE DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> BE LIABLE FOR ANY
  DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
  (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF
  THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t("undefined"!=typeof exports?exports:e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e){return e>=48&&57>=e}function r(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function i(e){return"01234567".indexOf(e)>=0}function o(e){var t="0"!==e,n="01234567".indexOf(e);return yr>lr&&i(sr[lr])&&(t=!0,n=8*n+"01234567".indexOf(sr[lr++]),"0123".indexOf(e)>=0&&yr>lr&&i(sr[lr])&&(n=8*n+"01234567".indexOf(sr[lr++]))),{code:n,octal:t}}function s(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function a(e){return 10===e||13===e||8232===e||8233===e}function l(e){return 65536>e?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))}function u(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&or.NonAsciiIdentifierStart.test(l(e))}function c(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&or.NonAsciiIdentifierPart.test(l(e))}function f(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}}function h(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function p(e){return"eval"===e||"arguments"===e}function d(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function m(e,n,r,i,o){var s;t("number"==typeof r,"Comment must have valid position"),wr.lastCommentStart=r,s={type:e,value:n},Cr.range&&(s.range=[r,i]),Cr.loc&&(s.loc=o),Cr.comments.push(s),Cr.attachComment&&(Cr.leadingComments.push(s),Cr.trailingComments.push(s)),Cr.tokenize&&(s.type=s.type+"Comment",Cr.delegate&&(s=Cr.delegate(s)),Cr.tokens.push(s))}function g(e){var t,n,r,i;for(t=lr-e,n={start:{line:ur,column:lr-cr-e}};yr>lr;)if(r=sr.charCodeAt(lr),++lr,a(r))return fr=!0,Cr.comments&&(i=sr.slice(t+e,lr-1),n.end={line:ur,column:lr-cr-1},m("Line",i,t,lr-1,n)),13===r&&10===sr.charCodeAt(lr)&&++lr,++ur,void(cr=lr);Cr.comments&&(i=sr.slice(t+e,lr),n.end={line:ur,column:lr-cr},m("Line",i,t,lr,n))}function v(){var e,t,n,r;for(Cr.comments&&(e=lr-2,t={start:{line:ur,column:lr-cr-2}});yr>lr;)if(n=sr.charCodeAt(lr),a(n))13===n&&10===sr.charCodeAt(lr+1)&&++lr,fr=!0,++ur,++lr,cr=lr;else if(42===n){if(47===sr.charCodeAt(lr+1))return++lr,++lr,void(Cr.comments&&(r=sr.slice(e+2,lr-2),t.end={line:ur,column:lr-cr},m("Block",r,e,lr,t)));++lr}else++lr;Cr.comments&&(t.end={line:ur,column:lr-cr},r=sr.slice(e+2,lr),m("Block",r,e,lr,t)),nt()}function b(){var e,t;for(fr=!1,t=0===lr;yr>lr;)if(e=sr.charCodeAt(lr),s(e))++lr;else if(a(e))fr=!0,++lr,13===e&&10===sr.charCodeAt(lr)&&++lr,++ur,cr=lr,t=!0;else if(47===e)if(e=sr.charCodeAt(lr+1),47===e)++lr,++lr,g(2),t=!0;else{if(42!==e)break;++lr,++lr,v()}else if(t&&45===e){if(45!==sr.charCodeAt(lr+1)||62!==sr.charCodeAt(lr+2))break;lr+=3,g(3)}else{if(60!==e)break;if("!--"!==sr.slice(lr+1,lr+4))break;++lr,++lr,++lr,++lr,g(4)}}function y(e){var t,n,i,o=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(yr>lr&&r(sr[lr])))return"";i=sr[lr++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function x(){var e,t;for(e=sr[lr],t=0,"}"===e&&tt();yr>lr&&(e=sr[lr++],r(e));)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&tt(),l(t)}function w(e){var t,n,r;return t=sr.charCodeAt(e),t>=55296&&56319>=t&&(r=sr.charCodeAt(e+1),r>=56320&&57343>=r&&(n=t,t=1024*(n-55296)+r-56320+65536)),t}function C(){var e,t,n;for(e=w(lr),n=l(e),lr+=n.length,92===e&&(117!==sr.charCodeAt(lr)&&tt(),++lr,"{"===sr[lr]?(++lr,t=x()):(t=y("u"),e=t.charCodeAt(0),t&&"\\"!==t&&u(e)||tt()),n=t);yr>lr&&(e=w(lr),c(e));)t=l(e),n+=t,lr+=t.length,92===e&&(n=n.substr(0,n.length-1),117!==sr.charCodeAt(lr)&&tt(),++lr,"{"===sr[lr]?(++lr,t=x()):(t=y("u"),e=t.charCodeAt(0),t&&"\\"!==t&&c(e)||tt()),n+=t);return n}function S(){var e,t;for(e=lr++;yr>lr;){if(t=sr.charCodeAt(lr),92===t)return lr=e,C();if(t>=55296&&57343>t)return lr=e,C();if(!c(t))break;++lr}return sr.slice(e,lr)}function D(){var e,t,n;return e=lr,t=92===sr.charCodeAt(lr)?C():S(),n=1===t.length?Zn.Identifier:d(t)?Zn.Keyword:"null"===t?Zn.NullLiteral:"true"===t||"false"===t?Zn.BooleanLiteral:Zn.Identifier,{type:n,value:t,lineNumber:ur,lineStart:cr,start:e,end:lr}}function k(){var e,t;switch(e={type:Zn.Punctuator,value:"",lineNumber:ur,lineStart:cr,start:lr,end:lr},t=sr[lr]){case"(":Cr.tokenize&&(Cr.openParenToken=Cr.tokenValues.length),++lr;break;case"{":Cr.tokenize&&(Cr.openCurlyToken=Cr.tokenValues.length),wr.curlyStack.push("{"),++lr;break;case".":++lr,"."===sr[lr]&&"."===sr[lr+1]&&(lr+=2,t="...");break;case"}":++lr,wr.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++lr;break;default:t=sr.substr(lr,4),">>>="===t?lr+=4:(t=t.substr(0,3),"==="===t||"!=="===t||">>>"===t||"<<="===t||">>="===t?lr+=3:(t=t.substr(0,2),"&&"===t||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t?lr+=2:(t=sr[lr],"<>=!+-*%&|^/".indexOf(t)>=0&&++lr)))}return lr===e.start&&tt(),e.end=lr,e.value=t,e}function A(e){for(var t="";yr>lr&&r(sr[lr]);)t+=sr[lr++];return 0===t.length&&tt(),u(sr.charCodeAt(lr))&&tt(),{type:Zn.NumericLiteral,value:parseInt("0x"+t,16),lineNumber:ur,lineStart:cr,start:e,end:lr}}function E(e){var t,r;for(r="";yr>lr&&(t=sr[lr],"0"===t||"1"===t);)r+=sr[lr++];return 0===r.length&&tt(),yr>lr&&(t=sr.charCodeAt(lr),(u(t)||n(t))&&tt()),{type:Zn.NumericLiteral,value:parseInt(r,2),lineNumber:ur,lineStart:cr,start:e,end:lr}}function _(e,t){var r,o;for(i(e)?(o=!0,r="0"+sr[lr++]):(o=!1,++lr,r="");yr>lr&&i(sr[lr]);)r+=sr[lr++];return o||0!==r.length||tt(),(u(sr.charCodeAt(lr))||n(sr.charCodeAt(lr)))&&tt(),{type:Zn.NumericLiteral,value:parseInt(r,8),octal:o,lineNumber:ur,lineStart:cr,start:t,end:lr}}function F(){var e,t;for(e=lr+1;yr>e;++e){if(t=sr[e],"8"===t||"9"===t)return!1;if(!i(t))return!0}return!0}function P(){var e,r,o;if(o=sr[lr],t(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=lr,e="","."!==o){if(e=sr[lr++],o=sr[lr],"0"===e){if("x"===o||"X"===o)return++lr,A(r);if("b"===o||"B"===o)return++lr,E(r);if("o"===o||"O"===o)return _(o,r);if(i(o)&&F())return _(o,r)}for(;n(sr.charCodeAt(lr));)e+=sr[lr++];o=sr[lr]}if("."===o){for(e+=sr[lr++];n(sr.charCodeAt(lr));)e+=sr[lr++];o=sr[lr]}if("e"===o||"E"===o)if(e+=sr[lr++],o=sr[lr],("+"===o||"-"===o)&&(e+=sr[lr++]),n(sr.charCodeAt(lr)))for(;n(sr.charCodeAt(lr));)e+=sr[lr++];else tt();return u(sr.charCodeAt(lr))&&tt(),{type:Zn.NumericLiteral,value:parseFloat(e),lineNumber:ur,lineStart:cr,start:r,end:lr}}function L(){var e,n,r,s,l,u="",c=!1;for(e=sr[lr],t("'"===e||'"'===e,"String literal must starts with a quote"),n=lr,++lr;yr>lr;){if(r=sr[lr++],r===e){e="";break}if("\\"===r)if(r=sr[lr++],r&&a(r.charCodeAt(0)))++ur,"\r"===r&&"\n"===sr[lr]&&++lr,cr=lr;else switch(r){case"u":case"x":if("{"===sr[lr])++lr,u+=x();else{if(s=y(r),!s)throw tt();u+=s}break;case"n":u+="\n";break;case"r":u+="\r";break;case"t":u+="	";break;case"b":u+="\b";break;case"f":u+="\f";break;case"v":u+="";break;case"8":case"9":u+=r,nt();break;default:i(r)?(l=o(r),c=l.octal||c,u+=String.fromCharCode(l.code)):u+=r}else{if(a(r.charCodeAt(0)))break;u+=r}}return""!==e&&(lr=n,tt()),{type:Zn.StringLiteral,value:u,octal:c,lineNumber:gr,lineStart:vr,start:n,end:lr}}function I(){var e,t,r,o,s,l,u,c,f="";for(o=!1,l=!1,t=lr,s="`"===sr[lr],r=2,++lr;yr>lr;){if(e=sr[lr++],"`"===e){r=1,l=!0,o=!0;break}if("$"===e){if("{"===sr[lr]){wr.curlyStack.push("${"),++lr,o=!0;break}f+=e}else if("\\"===e)if(e=sr[lr++],a(e.charCodeAt(0)))++ur,"\r"===e&&"\n"===sr[lr]&&++lr,cr=lr;else switch(e){case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="	";break;case"u":case"x":"{"===sr[lr]?(++lr,f+=x()):(u=lr,c=y(e),c?f+=c:(lr=u,f+=e));break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="";break;default:"0"===e?(n(sr.charCodeAt(lr))&&J(ir.TemplateOctalLiteral),f+="\x00"):i(e)?J(ir.TemplateOctalLiteral):f+=e}else a(e.charCodeAt(0))?(++ur,"\r"===e&&"\n"===sr[lr]&&++lr,cr=lr,f+="\n"):f+=e}return o||tt(),s||wr.curlyStack.pop(),{type:Zn.Template,value:{cooked:f,raw:sr.slice(t+1,lr-r)},head:s,tail:l,lineNumber:ur,lineStart:cr,start:t,end:lr}}function T(e,t){var n="\uffff",r=e;t.indexOf("u")>=0&&(r=r.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,r){var i=parseInt(t||r,16);return i>1114111&&tt(null,ir.InvalidRegExp),65535>=i?String.fromCharCode(i):n}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n));try{RegExp(r)}catch(i){tt(null,ir.InvalidRegExp)}try{return new RegExp(e,t)}catch(o){return null}}function M(){var e,n,r,i,o;for(e=sr[lr],t("/"===e,"Regular expression literal must start with a slash"),n=sr[lr++],r=!1,i=!1;yr>lr;)if(e=sr[lr++],n+=e,"\\"===e)e=sr[lr++],a(e.charCodeAt(0))&&tt(null,ir.UnterminatedRegExp),n+=e;else if(a(e.charCodeAt(0)))tt(null,ir.UnterminatedRegExp);else if(r)"]"===e&&(r=!1);else{if("/"===e){i=!0;break}"["===e&&(r=!0)}return i||tt(null,ir.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function O(){var e,t,n,r;for(t="",n="";yr>lr&&(e=sr[lr],c(e.charCodeAt(0)));)if(++lr,"\\"===e&&yr>lr)if(e=sr[lr],"u"===e){if(++lr,r=lr,e=y("u"))for(n+=e,t+="\\u";lr>r;++r)t+=sr[r];else lr=r,n+="u",t+="\\u";nt()}else t+="\\",nt();else n+=e,t+=e;return{value:n,literal:t}}function B(){var e,t,n,r;return br=!0,xr=null,b(),e=lr,t=M(),n=O(),r=T(t.value,n.value),br=!1,Cr.tokenize?{type:Zn.RegularExpression,value:r,regex:{pattern:t.value,flags:n.value},lineNumber:ur,lineStart:cr,start:e,end:lr}:{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:lr}}function z(){var e,t,n,r;return b(),e=lr,t={start:{line:ur,column:lr-cr}},n=B(),t.end={line:ur,column:lr-cr},Cr.tokenize||(Cr.tokens.length>0&&(r=Cr.tokens[Cr.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Cr.tokens.pop()),Cr.tokens.push({type:"RegularExpression",value:n.literal,regex:n.regex,range:[e,lr],loc:t})),n}function N(e){return e.type===Zn.Identifier||e.type===Zn.Keyword||e.type===Zn.BooleanLiteral||e.type===Zn.NullLiteral}function R(){function e(e){return e&&e.length>1&&e[0]>="a"&&e[0]<="z"}var t,n,r;switch(n=Cr.tokenValues[Cr.tokens.length-1],t=null!==n,n){case"this":case"]":t=!1;break;case")":r=Cr.tokenValues[Cr.openParenToken-1],t="if"===r||"while"===r||"for"===r||"with"===r;break;case"}":t=!1,e(Cr.tokenValues[Cr.openCurlyToken-3])?(r=Cr.tokenValues[Cr.openCurlyToken-4],t=r?tr.indexOf(r)<0:!1):e(Cr.tokenValues[Cr.openCurlyToken-4])&&(r=Cr.tokenValues[Cr.openCurlyToken-5],t=r?tr.indexOf(r)<0:!0)}return t?z():k()}function j(){var e,t;return lr>=yr?{type:Zn.EOF,lineNumber:ur,lineStart:cr,start:lr,end:lr}:(e=sr.charCodeAt(lr),u(e)?(t=D(),ar&&h(t.value)&&(t.type=Zn.Keyword),t):40===e||41===e||59===e?k():39===e||34===e?L():46===e?n(sr.charCodeAt(lr+1))?P():k():n(e)?P():Cr.tokenize&&47===e?R():96===e||125===e&&"${"===wr.curlyStack[wr.curlyStack.length-1]?I():e>=55296&&57343>e&&(e=w(lr),u(e))?D():k())}function W(){var e,t,n,r;return e={start:{line:ur,column:lr-cr}},t=j(),e.end={line:ur,column:lr-cr},t.type!==Zn.EOF&&(n=sr.slice(t.start,t.end),r={type:er[t.type],value:n,range:[t.start,t.end],loc:e},t.regex&&(r.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Cr.tokenValues&&Cr.tokenValues.push("Punctuator"===r.type||"Keyword"===r.type?r.value:null),Cr.tokenize&&(Cr.range||delete r.range,Cr.loc||delete r.loc,Cr.delegate&&(r=Cr.delegate(r))),Cr.tokens.push(r)),t}function $(){var e;return br=!0,hr=lr,pr=ur,dr=cr,b(),e=xr,mr=lr,gr=ur,vr=cr,xr="undefined"!=typeof Cr.tokens?W():j(),br=!1,e}function H(){br=!0,b(),hr=lr,pr=ur,dr=cr,mr=lr,gr=ur,vr=cr,xr="undefined"!=typeof Cr.tokens?W():j(),br=!1}function q(){this.line=gr,this.column=mr-vr}function U(){this.start=new q,this.end=null}function V(e){this.start={line:e.lineNumber,column:e.start-e.lineStart},this.end=null}function K(){Cr.range&&(this.range=[mr,0]),Cr.loc&&(this.loc=new U)}function Y(e){Cr.range&&(this.range=[e.start,0]),Cr.loc&&(this.loc=new V(e))}function G(e){var t,n;for(t=0;t<Cr.errors.length;t++)if(n=Cr.errors[t],n.index===e.index&&n.message===e.message)return;Cr.errors.push(e)}function X(e,t){var n=new Error(e);try{throw n}catch(r){Object.create&&Object.defineProperty&&(n=Object.create(r),Object.defineProperty(n,"column",{value:t}))}finally{return n}}function Q(e,t,n){var r,i,o;return r="Line "+e+": "+n,i=t-(br?cr:dr)+1,o=X(r,i),o.lineNumber=e,o.description=n,o.index=t,o}function J(e){var n,r;throw n=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,r){return t(r<n.length,"Message reference must be in range"),n[r]}),Q(pr,hr,r)}function Z(e){var n,r,i;if(n=Array.prototype.slice.call(arguments,1),r=e.replace(/%(\d)/g,function(e,r){return t(r<n.length,"Message reference must be in range"),n[r]}),i=Q(ur,hr,r),!Cr.errors)throw i;G(i)}function et(e,t){var n,r=t||ir.UnexpectedToken;return e?(t||(r=e.type===Zn.EOF?ir.UnexpectedEOS:e.type===Zn.Identifier?ir.UnexpectedIdentifier:e.type===Zn.NumericLiteral?ir.UnexpectedNumber:e.type===Zn.StringLiteral?ir.UnexpectedString:e.type===Zn.Template?ir.UnexpectedTemplate:ir.UnexpectedToken,e.type===Zn.Keyword&&(f(e.value)?r=ir.UnexpectedReserved:ar&&h(e.value)&&(r=ir.StrictReservedWord))),n=e.type===Zn.Template?e.value.raw:e.value):n="ILLEGAL",r=r.replace("%0",n),e&&"number"==typeof e.lineNumber?Q(e.lineNumber,e.start,r):Q(br?ur:pr,br?lr:hr,r)}function tt(e,t){throw et(e,t)}function nt(e,t){var n=et(e,t);if(!Cr.errors)throw n;G(n)}function rt(e){var t=$();(t.type!==Zn.Punctuator||t.value!==e)&&tt(t)}function it(){var e;Cr.errors?(e=xr,e.type===Zn.Punctuator&&","===e.value?$():e.type===Zn.Punctuator&&";"===e.value?($(),nt(e)):nt(e,ir.UnexpectedToken)):rt(",")}function ot(e){var t=$();(t.type!==Zn.Keyword||t.value!==e)&&tt(t)}function st(e){return xr.type===Zn.Punctuator&&xr.value===e}function at(e){return xr.type===Zn.Keyword&&xr.value===e}function lt(e){return xr.type===Zn.Identifier&&xr.value===e}function ut(){var e;return xr.type!==Zn.Punctuator?!1:(e=xr.value,"="===e||"*="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)}function ct(){return 59===sr.charCodeAt(mr)||st(";")?void $():void(fr||(hr=mr,pr=gr,dr=vr,xr.type===Zn.EOF||st("}")||tt(xr)))}function ft(e){var t,n=Sr,r=Dr,i=kr;return Sr=!0,Dr=!0,kr=null,t=e(),null!==kr&&tt(kr),Sr=n,Dr=r,kr=i,t}function ht(e){var t,n=Sr,r=Dr,i=kr;return Sr=!0,Dr=!0,kr=null,t=e(),Sr=Sr&&n,Dr=Dr&&r,kr=i||kr,t}function pt(e,t){var n,r,i=new K,o=[];for(rt("[");!st("]");)if(st(","))$(),o.push(null);else{if(st("...")){r=new K,$(),e.push(xr),n=Zt(t),o.push(r.finishRestElement(n));break}o.push(vt(e,t)),st("]")||rt(",")}return rt("]"),i.finishArrayPattern(o)}function dt(e,t){var n,r,i,o=new K,s=st("[");if(xr.type===Zn.Identifier){if(r=xr,n=Zt(),st("="))return e.push(r),$(),i=Yt(),o.finishProperty("init",n,!1,new Y(r).finishAssignmentPattern(n,i),!1,!0);if(!st(":"))return e.push(r),o.finishProperty("init",n,!1,n,!1,!0)}else n=wt();return rt(":"),i=vt(e,t),o.finishProperty("init",n,s,i,!1,!1)}function mt(e,t){var n=new K,r=[];for(rt("{");!st("}");)r.push(dt(e,t)),st("}")||rt(",");return $(),n.finishObjectPattern(r)}function gt(e,t){return st("[")?pt(e,t):st("{")?mt(e,t):(at("let")&&("const"===t||"let"===t)&&nt(xr,ir.UnexpectedToken),e.push(xr),Zt(t))}function vt(e,t){var n,r,i,o=xr;return n=gt(e,t),st("=")&&($(),r=wr.allowYield,wr.allowYield=!0,i=ft(Yt),wr.allowYield=r,n=new Y(o).finishAssignmentPattern(n,i)),n}function bt(){var e,t=[],n=new K;for(rt("[");!st("]");)st(",")?($(),t.push(null)):st("...")?(e=new K,$(),e.finishSpreadElement(ht(Yt)),st("]")||(Dr=Sr=!1,rt(",")),t.push(e)):(t.push(ht(Yt)),st("]")||rt(","));return $(),n.finishArrayExpression(t)}function yt(e,t,n){var r,i;return Dr=Sr=!1,r=ar,i=ft(_n),ar&&t.firstRestricted&&nt(t.firstRestricted,t.message),ar&&t.stricted&&nt(t.stricted,t.message),ar=r,e.finishFunctionExpression(null,t.params,t.defaults,i,n)}function xt(){var e,t,n=new K,r=wr.allowYield;return wr.allowYield=!1,e=Ln(),wr.allowYield=r,wr.allowYield=!1,t=yt(n,e,!1),wr.allowYield=r,t}function wt(){var e,t,n=new K;switch(e=$(),e.type){case Zn.StringLiteral:case Zn.NumericLiteral:return ar&&e.octal&&nt(e,ir.StrictOctalLiteral),n.finishLiteral(e);case Zn.Identifier:case Zn.BooleanLiteral:case Zn.NullLiteral:case Zn.Keyword:return n.finishIdentifier(e.value);case Zn.Punctuator:if("["===e.value)return t=ft(Yt),rt("]"),t}tt(e)}function Ct(){switch(xr.type){case Zn.Identifier:case Zn.StringLiteral:case Zn.BooleanLiteral:case Zn.NullLiteral:case Zn.NumericLiteral:case Zn.Keyword:return!0;case Zn.Punctuator:return"["===xr.value}return!1}function St(e,t,n,r){var i,o,s,a,l=wr.allowYield;if(e.type===Zn.Identifier){if("get"===e.value&&Ct())return n=st("["),t=wt(),s=new K,rt("("),rt(")"),wr.allowYield=!1,i=yt(s,{params:[],defaults:[],stricted:null,firstRestricted:null,message:null},!1),wr.allowYield=l,r.finishProperty("get",t,n,i,!1,!1);if("set"===e.value&&Ct())return n=st("["),t=wt(),s=new K,rt("("),o={params:[],defaultCount:0,defaults:[],firstRestricted:null,paramSet:{}},st(")")?nt(xr):(wr.allowYield=!1,Pn(o),wr.allowYield=l,0===o.defaultCount&&(o.defaults=[])),rt(")"),wr.allowYield=!1,i=yt(s,o,!1),wr.allowYield=l,r.finishProperty("set",t,n,i,!1,!1)}else if(e.type===Zn.Punctuator&&"*"===e.value&&Ct())return n=st("["),t=wt(),s=new K,wr.allowYield=!0,a=Ln(),wr.allowYield=l,wr.allowYield=!1,i=yt(s,a,!0),wr.allowYield=l,r.finishProperty("init",t,n,i,!0,!1);return t&&st("(")?(i=xt(),r.finishProperty("init",t,n,i,!0,!1)):null}function Dt(e){var t,n,r,i,o,s=xr,a=new K;return t=st("["),st("*")?$():n=wt(),(r=St(s,n,t,a))?r:(n||tt(xr),t||(i=n.type===nr.Identifier&&"__proto__"===n.name||n.type===nr.Literal&&"__proto__"===n.value,e.value&&i&&Z(ir.DuplicateProtoProperty),e.value|=i),st(":")?($(),o=ht(Yt),a.finishProperty("init",n,t,o,!1,!1)):s.type===Zn.Identifier?st("=")?(kr=xr,$(),o=ft(Yt),a.finishProperty("init",n,t,new Y(s).finishAssignmentPattern(n,o),!1,!0)):a.finishProperty("init",n,t,n,!1,!0):void tt(xr))}function kt(){var e=[],t={value:!1},n=new K;for(rt("{");!st("}");)e.push(Dt(t)),st("}")||it();return rt("}"),n.finishObjectExpression(e)}function At(e){var t;switch(e.type){case nr.Identifier:case nr.MemberExpression:case nr.RestElement:case nr.AssignmentPattern:break;case nr.SpreadElement:e.type=nr.RestElement,At(e.argument);break;case nr.ArrayExpression:for(e.type=nr.ArrayPattern,t=0;t<e.elements.length;t++)null!==e.elements[t]&&At(e.elements[t]);break;case nr.ObjectExpression:for(e.type=nr.ObjectPattern,t=0;t<e.properties.length;t++)At(e.properties[t].value);break;case nr.AssignmentExpression:e.type=nr.AssignmentPattern,At(e.left)}}function Et(e){var t,n;return(xr.type!==Zn.Template||e.head&&!xr.head)&&tt(),t=new K,n=$(),t.finishTemplateElement({raw:n.value.raw,cooked:n.value.cooked},n.tail)}function _t(){var e,t,n,r=new K;for(e=Et({head:!0}),t=[e],n=[];!e.tail;)n.push(Gt()),e=Et({head:!1}),t.push(e);return r.finishTemplateLiteral(t,n)}function Ft(){var e,t,n,r,i=[];if(rt("("),st(")"))return $(),st("=>")||rt("=>"),{type:rr.ArrowParameterPlaceHolder,params:[],rawParams:[]};if(n=xr,st("..."))return e=cn(i),rt(")"),st("=>")||rt("=>"),{type:rr.ArrowParameterPlaceHolder,params:[e]};if(Sr=!0,e=ht(Yt),st(",")){for(Dr=!1,t=[e];yr>mr&&st(",");){if($(),st("...")){for(Sr||tt(xr),t.push(cn(i)),rt(")"),st("=>")||rt("=>"),Sr=!1,r=0;r<t.length;r++)At(t[r]);return{type:rr.ArrowParameterPlaceHolder,params:t}}t.push(ht(Yt))}e=new Y(n).finishSequenceExpression(t)}if(rt(")"),st("=>")){if(e.type===nr.Identifier&&"yield"===e.name)return{type:rr.ArrowParameterPlaceHolder,params:[e]};if(Sr||tt(xr),e.type===nr.SequenceExpression)for(r=0;r<e.expressions.length;r++)At(e.expressions[r]);else At(e);e={type:rr.ArrowParameterPlaceHolder,params:e.type===nr.SequenceExpression?e.expressions:[e]}}return Sr=!1,e}function Pt(){var e,t,n,r;if(st("("))return Sr=!1,ht(Ft);if(st("["))return ht(bt);if(st("{"))return ht(kt);if(e=xr.type,r=new K,e===Zn.Identifier)"module"===wr.sourceType&&"await"===xr.value&&nt(xr),n=r.finishIdentifier($().value);else if(e===Zn.StringLiteral||e===Zn.NumericLiteral)Dr=Sr=!1,ar&&xr.octal&&nt(xr,ir.StrictOctalLiteral),n=r.finishLiteral($());else if(e===Zn.Keyword){if(!ar&&wr.allowYield&&at("yield"))return It();if(!ar&&at("let"))return r.finishIdentifier($().value);if(Dr=Sr=!1,at("function"))return Tn();if(at("this"))return $(),r.finishThisExpression();if(at("class"))return Bn();tt($())}else e===Zn.BooleanLiteral?(Dr=Sr=!1,t=$(),t.value="true"===t.value,n=r.finishLiteral(t)):e===Zn.NullLiteral?(Dr=Sr=!1,t=$(),t.value=null,n=r.finishLiteral(t)):st("/")||st("/=")?(Dr=Sr=!1,lr=mr,t="undefined"!=typeof Cr.tokens?z():B(),$(),n=r.finishLiteral(t)):e===Zn.Template?n=_t():tt($());return n}function Lt(){var e,t=[];if(rt("("),!st(")"))for(;yr>mr&&(st("...")?(e=new K,$(),e.finishSpreadElement(ft(Yt))):e=ft(Yt),t.push(e),!st(")"));)it();return rt(")"),t}function It(){var e,t=new K;return e=$(),N(e)||tt(e),t.finishIdentifier(e.value)}function Tt(){return rt("."),It()}function Mt(){var e;return rt("["),e=ft(Gt),rt("]"),e}function Ot(){var e,t,n=new K;if(ot("new"),st(".")){if($(),xr.type===Zn.Identifier&&"target"===xr.value&&wr.inFunctionBody)return $(),n.finishMetaProperty("new","target");tt(xr)}return e=ft(zt),t=st("(")?Lt():[],Dr=Sr=!1,n.finishNewExpression(e,t)}function Bt(){var e,t,n,r,i,o=wr.allowIn;for(i=xr,wr.allowIn=!0,at("super")&&wr.inFunctionBody?(t=new K,$(),t=t.finishSuper(),st("(")||st(".")||st("[")||tt(xr)):t=ht(at("new")?Ot:Pt);;)if(st("."))Sr=!1,Dr=!0,r=Tt(),t=new Y(i).finishMemberExpression(".",t,r);else if(st("("))Sr=!1,Dr=!1,n=Lt(),t=new Y(i).finishCallExpression(t,n);else if(st("["))Sr=!1,Dr=!0,r=Mt(),t=new Y(i).finishMemberExpression("[",t,r);else{if(xr.type!==Zn.Template||!xr.head)break;e=_t(),t=new Y(i).finishTaggedTemplateExpression(t,e)}return wr.allowIn=o,t}function zt(){var e,n,r,i;for(t(wr.allowIn,"callee of new expression always allow in keyword."),i=xr,at("super")&&wr.inFunctionBody?(n=new K,$(),n=n.finishSuper(),st("[")||st(".")||tt(xr)):n=ht(at("new")?Ot:Pt);;)if(st("["))Sr=!1,Dr=!0,r=Mt(),n=new Y(i).finishMemberExpression("[",n,r);else if(st("."))Sr=!1,Dr=!0,r=Tt(),n=new Y(i).finishMemberExpression(".",n,r);else{if(xr.type!==Zn.Template||!xr.head)break;e=_t(),n=new Y(i).finishTaggedTemplateExpression(n,e)}return n}function Nt(){var e,t,n=xr;return e=ht(Bt),fr||xr.type!==Zn.Punctuator||(st("++")||st("--"))&&(ar&&e.type===nr.Identifier&&p(e.name)&&Z(ir.StrictLHSPostfix),Dr||Z(ir.InvalidLHSInAssignment),Dr=Sr=!1,t=$(),e=new Y(n).finishPostfixExpression(t.value,e)),e}function Rt(){var e,t,n;return xr.type!==Zn.Punctuator&&xr.type!==Zn.Keyword?t=Nt():st("++")||st("--")?(n=xr,e=$(),t=ht(Rt),ar&&t.type===nr.Identifier&&p(t.name)&&Z(ir.StrictLHSPrefix),Dr||Z(ir.InvalidLHSInAssignment),t=new Y(n).finishUnaryExpression(e.value,t),Dr=Sr=!1):st("+")||st("-")||st("~")||st("!")?(n=xr,e=$(),t=ht(Rt),t=new Y(n).finishUnaryExpression(e.value,t),Dr=Sr=!1):at("delete")||at("void")||at("typeof")?(n=xr,e=$(),t=ht(Rt),t=new Y(n).finishUnaryExpression(e.value,t),ar&&"delete"===t.operator&&t.argument.type===nr.Identifier&&Z(ir.StrictDelete),Dr=Sr=!1):t=Nt(),t}function jt(e,t){var n=0;if(e.type!==Zn.Punctuator&&e.type!==Zn.Keyword)return 0;switch(e.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=t?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function Wt(){var e,t,n,r,i,o,s,a,l,u;if(e=xr,l=ht(Rt),r=xr,i=jt(r,wr.allowIn),0===i)return l;for(Dr=Sr=!1,r.prec=i,$(),t=[e,xr],s=ft(Rt),o=[l,r,s];(i=jt(xr,wr.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=new Y(t[t.length-1]).finishBinaryExpression(a,l,s),o.push(n);r=$(),r.prec=i,o.push(r),t.push(xr),n=ft(Rt),o.push(n)}for(u=o.length-1,n=o[u],t.pop();u>1;)n=new Y(t.pop()).finishBinaryExpression(o[u-1].value,o[u-2],n),u-=2;return n}function $t(){var e,t,n,r,i;return i=xr,e=ht(Wt),st("?")&&($(),t=wr.allowIn,wr.allowIn=!0,n=ft(Yt),wr.allowIn=t,rt(":"),r=ft(Yt),e=new Y(i).finishConditionalExpression(e,n,r),Dr=Sr=!1),e}function Ht(){return st("{")?_n():ft(Yt)}function qt(e,n){var r;switch(n.type){case nr.Identifier:Fn(e,n,n.name);break;case nr.RestElement:qt(e,n.argument);break;case nr.AssignmentPattern:qt(e,n.left);break;case nr.ArrayPattern:for(r=0;r<n.elements.length;r++)null!==n.elements[r]&&qt(e,n.elements[r]);break;case nr.YieldExpression:break;default:for(t(n.type===nr.ObjectPattern,"Invalid type"),r=0;r<n.properties.length;r++)qt(e,n.properties[r].value)}}function Ut(e){var t,n,r,i,o,s,a,l;switch(o=[],s=0,i=[e],e.type){case nr.Identifier:break;case rr.ArrowParameterPlaceHolder:i=e.params;break;default:return null}for(a={paramSet:{}},t=0,n=i.length;n>t;t+=1)switch(r=i[t],r.type){case nr.AssignmentPattern:i[t]=r.left,r.right.type===nr.YieldExpression&&(r.right.argument&&tt(xr),r.right.type=nr.Identifier,r.right.name="yield",delete r.right.argument,delete r.right.delegate),o.push(r.right),++s,qt(a,r.left);break;default:qt(a,r),i[t]=r,o.push(null)}if(ar||!wr.allowYield)for(t=0,n=i.length;n>t;t+=1)r=i[t],r.type===nr.YieldExpression&&tt(xr);return a.message===ir.StrictParamDupe&&(l=ar?a.stricted:a.firstRestricted,tt(l,a.message)),0===s&&(o=[]),{params:i,defaults:o,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function Vt(e,t){var n,r,i;return fr&&nt(xr),rt("=>"),n=ar,r=wr.allowYield,wr.allowYield=!0,i=Ht(),ar&&e.firstRestricted&&tt(e.firstRestricted,e.message),ar&&e.stricted&&nt(e.stricted,e.message),ar=n,wr.allowYield=r,t.finishArrowFunctionExpression(e.params,e.defaults,i,i.type!==nr.BlockStatement)}function Kt(){var e,t,n,r;return e=null,t=new K,n=!1,ot("yield"),fr||(r=wr.allowYield,wr.allowYield=!1,n=st("*"),n?($(),e=Yt()):st(";")||st("}")||st(")")||xr.type===Zn.EOF||(e=Yt()),wr.allowYield=r),t.finishYieldExpression(e,n)}function Yt(){var e,t,n,r,i;return i=xr,e=xr,!wr.allowYield&&at("yield")?Kt():(t=$t(),t.type===rr.ArrowParameterPlaceHolder||st("=>")?(Dr=Sr=!1,r=Ut(t),r?(kr=null,Vt(r,new Y(i))):t):(ut()&&(Dr||Z(ir.InvalidLHSInAssignment),ar&&t.type===nr.Identifier&&(p(t.name)&&nt(e,ir.StrictLHSAssignment),h(t.name)&&nt(e,ir.StrictReservedWord)),st("=")?At(t):Dr=Sr=!1,e=$(),n=ft(Yt),t=new Y(i).finishAssignmentExpression(e.value,t,n),kr=null),t))}function Gt(){var e,t,n=xr;if(e=ft(Yt),st(",")){for(t=[e];yr>mr&&st(",");)$(),t.push(ft(Yt));e=new Y(n).finishSequenceExpression(t)}return e}function Xt(){if(xr.type===Zn.Keyword)switch(xr.value){case"export":return"module"!==wr.sourceType&&nt(xr,ir.IllegalExportDeclaration),$n();case"import":return"module"!==wr.sourceType&&nt(xr,ir.IllegalImportDeclaration),Kn();case"const":return un({inFor:!1});case"function":return In(new K);case"class":return On()}return at("let")&&ln()?un({inFor:!1}):En()}function Qt(){for(var e=[];yr>mr&&!st("}");)e.push(Xt());return e}function Jt(){var e,t=new K;return rt("{"),e=Qt(),rt("}"),t.finishBlockStatement(e)}function Zt(e){var t,n=new K;return t=$(),t.type===Zn.Keyword&&"yield"===t.value?(ar&&nt(t,ir.StrictReservedWord),wr.allowYield||tt(t)):t.type!==Zn.Identifier?ar&&t.type===Zn.Keyword&&h(t.value)?nt(t,ir.StrictReservedWord):(ar||"let"!==t.value||"var"!==e)&&tt(t):"module"===wr.sourceType&&t.type===Zn.Identifier&&"await"===t.value&&nt(t),n.finishIdentifier(t.value)}function en(e){var t,n=null,r=new K,i=[];return t=gt(i,"var"),ar&&p(t.name)&&Z(ir.StrictVarName),st("=")?($(),n=ft(Yt)):t.type===nr.Identifier||e.inFor||rt("="),r.finishVariableDeclarator(t,n)}function tn(e){var t,n;for(t={inFor:e.inFor},n=[en(t)];st(",");)$(),n.push(en(t));return n}function nn(e){var t;return ot("var"),t=tn({inFor:!1}),ct(),e.finishVariableDeclaration(t)}function rn(e,t){var n,r=null,i=new K,o=[];return n=gt(o,e),ar&&n.type===nr.Identifier&&p(n.name)&&Z(ir.StrictVarName),"const"===e?at("in")||lt("of")||(rt("="),r=ft(Yt)):(!t.inFor&&n.type!==nr.Identifier||st("="))&&(rt("="),r=ft(Yt)),i.finishVariableDeclarator(n,r)}function on(e,t){for(var n=[rn(e,t)];st(",");)$(),n.push(rn(e,t));return n}function sn(){return{index:lr,lineNumber:ur,lineStart:cr,hasLineTerminator:fr,lastIndex:hr,lastLineNumber:pr,lastLineStart:dr,startIndex:mr,startLineNumber:gr,startLineStart:vr,lookahead:xr,tokenCount:Cr.tokens?Cr.tokens.length:0}}function an(e){lr=e.index,ur=e.lineNumber,cr=e.lineStart,fr=e.hasLineTerminator,hr=e.lastIndex,pr=e.lastLineNumber,dr=e.lastLineStart,mr=e.startIndex,gr=e.startLineNumber,vr=e.startLineStart,xr=e.lookahead,Cr.tokens&&Cr.tokens.splice(e.tokenCount,Cr.tokens.length)}function ln(){var e,t;return t=sn(),$(),e=xr.type===Zn.Identifier||st("[")||st("{")||at("let")||at("yield"),an(t),e}function un(e){var n,r,i=new K;return n=$().value,t("let"===n||"const"===n,"Lexical declaration must be either let or const"),r=on(n,e),ct(),i.finishLexicalDeclaration(r,n)}function cn(e){var t,n=new K;return $(),st("{")&&J(ir.ObjectPatternAsRestParameter),e.push(xr),t=Zt(),st("=")&&J(ir.DefaultRestParameter),st(")")||J(ir.ParameterAfterRestParameter),n.finishRestElement(t)}function fn(e){return rt(";"),e.finishEmptyStatement()}function hn(e){var t=Gt();return ct(),e.finishExpressionStatement(t)}function pn(e){var t,n,r;return ot("if"),rt("("),t=Gt(),rt(")"),n=En(),at("else")?($(),r=En()):r=null,e.finishIfStatement(t,n,r)}function dn(e){var t,n,r;return ot("do"),r=wr.inIteration,wr.inIteration=!0,t=En(),wr.inIteration=r,ot("while"),rt("("),n=Gt(),rt(")"),st(";")&&$(),e.finishDoWhileStatement(t,n)}function mn(e){var t,n,r;return ot("while"),rt("("),t=Gt(),rt(")"),r=wr.inIteration,wr.inIteration=!0,n=En(),wr.inIteration=r,e.finishWhileStatement(t,n)}function gn(e){var t,n,r,i,o,s,a,l,u,c,f,h,p=wr.allowIn;if(t=o=s=null,n=!0,ot("for"),rt("("),st(";"))$();else if(at("var"))t=new K,$(),wr.allowIn=!1,c=tn({inFor:!0}),wr.allowIn=p,1===c.length&&at("in")?(t=t.finishVariableDeclaration(c),$(),a=t,l=Gt(),t=null):1===c.length&&null===c[0].init&&lt("of")?(t=t.finishVariableDeclaration(c),$(),a=t,l=Yt(),t=null,n=!1):(t=t.finishVariableDeclaration(c),rt(";"));else if(at("const")||at("let"))t=new K,u=$().value,ar||"in"!==xr.value?(wr.allowIn=!1,c=on(u,{inFor:!0}),wr.allowIn=p,1===c.length&&null===c[0].init&&at("in")?(t=t.finishLexicalDeclaration(c,u),$(),a=t,l=Gt(),t=null):1===c.length&&null===c[0].init&&lt("of")?(t=t.finishLexicalDeclaration(c,u),$(),a=t,l=Yt(),t=null,n=!1):(ct(),t=t.finishLexicalDeclaration(c,u))):(t=t.finishIdentifier(u),$(),a=t,l=Gt(),t=null);else if(i=xr,wr.allowIn=!1,t=ht(Yt),wr.allowIn=p,at("in"))Dr||Z(ir.InvalidLHSInForIn),$(),At(t),a=t,l=Gt(),t=null;else if(lt("of"))Dr||Z(ir.InvalidLHSInForLoop),$(),At(t),a=t,l=Yt(),t=null,n=!1;else{if(st(",")){for(r=[t];st(",");)$(),r.push(ft(Yt));t=new Y(i).finishSequenceExpression(r)}rt(";")}return"undefined"==typeof a&&(st(";")||(o=Gt()),rt(";"),st(")")||(s=Gt())),rt(")"),h=wr.inIteration,wr.inIteration=!0,f=ft(En),wr.inIteration=h,"undefined"==typeof a?e.finishForStatement(t,o,s,f):n?e.finishForInStatement(a,l,f):e.finishForOfStatement(a,l,f)}function vn(e){var t,n=null;return ot("continue"),59===sr.charCodeAt(mr)?($(),wr.inIteration||J(ir.IllegalContinue),e.finishContinueStatement(null)):fr?(wr.inIteration||J(ir.IllegalContinue),e.finishContinueStatement(null)):(xr.type===Zn.Identifier&&(n=Zt(),t="$"+n.name,Object.prototype.hasOwnProperty.call(wr.labelSet,t)||J(ir.UnknownLabel,n.name)),ct(),null!==n||wr.inIteration||J(ir.IllegalContinue),e.finishContinueStatement(n))}function bn(e){var t,n=null;return ot("break"),59===sr.charCodeAt(hr)?($(),wr.inIteration||wr.inSwitch||J(ir.IllegalBreak),e.finishBreakStatement(null)):(fr?wr.inIteration||wr.inSwitch||J(ir.IllegalBreak):xr.type===Zn.Identifier&&(n=Zt(),t="$"+n.name,Object.prototype.hasOwnProperty.call(wr.labelSet,t)||J(ir.UnknownLabel,n.name)),ct(),null!==n||wr.inIteration||wr.inSwitch||J(ir.IllegalBreak),e.finishBreakStatement(n))
}function yn(e){var t=null;return ot("return"),wr.inFunctionBody||Z(ir.IllegalReturn),32===sr.charCodeAt(hr)&&u(sr.charCodeAt(hr+1))?(t=Gt(),ct(),e.finishReturnStatement(t)):fr?e.finishReturnStatement(null):(st(";")||st("}")||xr.type===Zn.EOF||(t=Gt()),ct(),e.finishReturnStatement(t))}function xn(e){var t,n;return ar&&Z(ir.StrictModeWith),ot("with"),rt("("),t=Gt(),rt(")"),n=En(),e.finishWithStatement(t,n)}function wn(){var e,t,n=[],r=new K;for(at("default")?($(),e=null):(ot("case"),e=Gt()),rt(":");yr>mr&&!(st("}")||at("default")||at("case"));)t=Xt(),n.push(t);return r.finishSwitchCase(e,n)}function Cn(e){var t,n,r,i,o;if(ot("switch"),rt("("),t=Gt(),rt(")"),rt("{"),n=[],st("}"))return $(),e.finishSwitchStatement(t,n);for(i=wr.inSwitch,wr.inSwitch=!0,o=!1;yr>mr&&!st("}");)r=wn(),null===r.test&&(o&&J(ir.MultipleDefaultsInSwitch),o=!0),n.push(r);return wr.inSwitch=i,rt("}"),e.finishSwitchStatement(t,n)}function Sn(e){var t;return ot("throw"),fr&&J(ir.NewlineAfterThrow),t=Gt(),ct(),e.finishThrowStatement(t)}function Dn(){var e,t,n,r,i=[],o={},s=new K;for(ot("catch"),rt("("),st(")")&&tt(xr),e=gt(i),n=0;n<i.length;n++)t="$"+i[n].value,Object.prototype.hasOwnProperty.call(o,t)&&Z(ir.DuplicateBinding,i[n].value),o[t]=!0;return ar&&p(e.name)&&Z(ir.StrictCatchVariable),rt(")"),r=Jt(),s.finishCatchClause(e,r)}function kn(e){var t,n=null,r=null;return ot("try"),t=Jt(),at("catch")&&(n=Dn()),at("finally")&&($(),r=Jt()),n||r||J(ir.NoCatchOrFinally),e.finishTryStatement(t,n,r)}function An(e){return ot("debugger"),ct(),e.finishDebuggerStatement()}function En(){var e,t,n,r,i=xr.type;if(i===Zn.EOF&&tt(xr),i===Zn.Punctuator&&"{"===xr.value)return Jt();if(Dr=Sr=!0,r=new K,i===Zn.Punctuator)switch(xr.value){case";":return fn(r);case"(":return hn(r)}else if(i===Zn.Keyword)switch(xr.value){case"break":return bn(r);case"continue":return vn(r);case"debugger":return An(r);case"do":return dn(r);case"for":return gn(r);case"function":return In(r);case"if":return pn(r);case"return":return yn(r);case"switch":return Cn(r);case"throw":return Sn(r);case"try":return kn(r);case"var":return nn(r);case"while":return mn(r);case"with":return xn(r)}return e=Gt(),e.type===nr.Identifier&&st(":")?($(),n="$"+e.name,Object.prototype.hasOwnProperty.call(wr.labelSet,n)&&J(ir.Redeclaration,"Label",e.name),wr.labelSet[n]=!0,t=En(),delete wr.labelSet[n],r.finishLabeledStatement(e,t)):(ct(),r.finishExpressionStatement(e))}function _n(){var e,t,n,r,i,o,s,a,l=[],u=new K;for(rt("{");yr>mr&&xr.type===Zn.StringLiteral&&(t=xr,e=Xt(),l.push(e),e.expression.type===nr.Literal);)n=sr.slice(t.start+1,t.end-1),"use strict"===n?(ar=!0,r&&nt(r,ir.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(i=wr.labelSet,o=wr.inIteration,s=wr.inSwitch,a=wr.inFunctionBody,wr.labelSet={},wr.inIteration=!1,wr.inSwitch=!1,wr.inFunctionBody=!0;yr>mr&&!st("}");)l.push(Xt());return rt("}"),wr.labelSet=i,wr.inIteration=o,wr.inSwitch=s,wr.inFunctionBody=a,u.finishBlockStatement(l)}function Fn(e,t,n){var r="$"+n;ar?(p(n)&&(e.stricted=t,e.message=ir.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=ir.StrictParamDupe)):e.firstRestricted||(p(n)?(e.firstRestricted=t,e.message=ir.StrictParamName):h(n)?(e.firstRestricted=t,e.message=ir.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=ir.StrictParamDupe)),e.paramSet[r]=!0}function Pn(e){var t,n,r,i,o=[];if(t=xr,"..."===t.value)return n=cn(o),Fn(e,n.argument,n.argument.name),e.params.push(n),e.defaults.push(null),!1;for(n=vt(o),r=0;r<o.length;r++)Fn(e,o[r],o[r].value);return n.type===nr.AssignmentPattern&&(i=n.right,n=n.left,++e.defaultCount),e.params.push(n),e.defaults.push(i),!st(")")}function Ln(e){var t;if(t={params:[],defaultCount:0,defaults:[],firstRestricted:e},rt("("),!st(")"))for(t.paramSet={};yr>mr&&Pn(t);)rt(",");return rt(")"),0===t.defaultCount&&(t.defaults=[]),{params:t.params,defaults:t.defaults,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}}function In(e,t){var n,r,i,o,s,a,l,u,c,f=null,d=[],m=[];return c=wr.allowYield,ot("function"),u=st("*"),u&&$(),t&&st("(")||(r=xr,f=Zt(),ar?p(r.value)&&nt(r,ir.StrictFunctionName):p(r.value)?(s=r,a=ir.StrictFunctionName):h(r.value)&&(s=r,a=ir.StrictReservedWord)),wr.allowYield=!u,o=Ln(s),d=o.params,m=o.defaults,i=o.stricted,s=o.firstRestricted,o.message&&(a=o.message),l=ar,n=_n(),ar&&s&&tt(s,a),ar&&i&&nt(i,a),ar=l,wr.allowYield=c,e.finishFunctionDeclaration(f,d,m,n,u)}function Tn(){var e,t,n,r,i,o,s,a,l,u=null,c=[],f=[],d=new K;return l=wr.allowYield,ot("function"),a=st("*"),a&&$(),wr.allowYield=!a,st("(")||(e=xr,u=ar||a||!at("yield")?Zt():It(),ar?p(e.value)&&nt(e,ir.StrictFunctionName):p(e.value)?(n=e,r=ir.StrictFunctionName):h(e.value)&&(n=e,r=ir.StrictReservedWord)),i=Ln(n),c=i.params,f=i.defaults,t=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),s=ar,o=_n(),ar&&n&&tt(n,r),ar&&t&&nt(t,r),ar=s,wr.allowYield=l,d.finishFunctionExpression(u,c,f,o,a)}function Mn(){var e,t,n,r,i,o,s,a=!1;for(e=new K,rt("{"),r=[];!st("}");)st(";")?$():(i=new K,t=xr,n=!1,o=st("["),st("*")?$():(s=wt(),"static"===s.name&&(Ct()||st("*"))&&(t=xr,n=!0,o=st("["),st("*")?$():s=wt())),i=St(t,s,o,i),i?(i["static"]=n,"init"===i.kind&&(i.kind="method"),n?i.computed||"prototype"!==(i.key.name||i.key.value.toString())||tt(t,ir.StaticPrototype):i.computed||"constructor"!==(i.key.name||i.key.value.toString())||(("method"!==i.kind||!i.method||i.value.generator)&&tt(t,ir.ConstructorSpecialMethod),a?tt(t,ir.DuplicateConstructor):a=!0,i.kind="constructor"),i.type=nr.MethodDefinition,delete i.method,delete i.shorthand,r.push(i)):tt(xr));return $(),e.finishClassBody(r)}function On(e){var t,n=null,r=null,i=new K,o=ar;return ar=!0,ot("class"),e&&xr.type!==Zn.Identifier||(n=Zt()),at("extends")&&($(),r=ft(Bt)),t=Mn(),ar=o,i.finishClassDeclaration(n,r,t)}function Bn(){var e,t=null,n=null,r=new K,i=ar;return ar=!0,ot("class"),xr.type===Zn.Identifier&&(t=Zt()),at("extends")&&($(),n=ft(Bt)),e=Mn(),ar=i,r.finishClassExpression(t,n,e)}function zn(){var e=new K;return xr.type!==Zn.StringLiteral&&J(ir.InvalidModuleSpecifier),e.finishLiteral($())}function Nn(){var e,t,n,r=new K;return at("default")?(n=new K,$(),t=n.finishIdentifier("default")):t=Zt(),lt("as")&&($(),e=It()),r.finishExportSpecifier(t,e)}function Rn(e){var t,n=null,r=null,i=[];if(xr.type===Zn.Keyword)switch(xr.value){case"let":case"const":return n=un({inFor:!1}),e.finishExportNamedDeclaration(n,i,null);case"var":case"class":case"function":return n=Xt(),e.finishExportNamedDeclaration(n,i,null)}for(rt("{");!st("}")&&(t=t||at("default"),i.push(Nn()),st("}")||(rt(","),!st("}"))););return rt("}"),lt("from")?($(),r=zn(),ct()):t?J(xr.value?ir.UnexpectedToken:ir.MissingFromClause,xr.value):ct(),e.finishExportNamedDeclaration(n,i,r)}function jn(e){var t=null,n=null;return ot("default"),at("function")?(t=In(new K,!0),e.finishExportDefaultDeclaration(t)):at("class")?(t=On(!0),e.finishExportDefaultDeclaration(t)):(lt("from")&&J(ir.UnexpectedToken,xr.value),n=st("{")?kt():st("[")?bt():Yt(),ct(),e.finishExportDefaultDeclaration(n))}function Wn(e){var t;return rt("*"),lt("from")||J(xr.value?ir.UnexpectedToken:ir.MissingFromClause,xr.value),$(),t=zn(),ct(),e.finishExportAllDeclaration(t)}function $n(){var e=new K;return wr.inFunctionBody&&J(ir.IllegalExportDeclaration),ot("export"),at("default")?jn(e):st("*")?Wn(e):Rn(e)}function Hn(){var e,t,n=new K;return t=It(),lt("as")&&($(),e=Zt()),n.finishImportSpecifier(e,t)}function qn(){var e=[];for(rt("{");!st("}")&&(e.push(Hn()),st("}")||(rt(","),!st("}"))););return rt("}"),e}function Un(){var e,t=new K;return e=It(),t.finishImportDefaultSpecifier(e)}function Vn(){var e,t=new K;return rt("*"),lt("as")||J(ir.NoAsAfterImportNamespace),$(),e=It(),t.finishImportNamespaceSpecifier(e)}function Kn(){var e,t=[],n=new K;return wr.inFunctionBody&&J(ir.IllegalImportDeclaration),ot("import"),xr.type===Zn.StringLiteral?e=zn():(st("{")?t=t.concat(qn()):st("*")?t.push(Vn()):N(xr)&&!at("default")?(t.push(Un()),st(",")&&($(),st("*")?t.push(Vn()):st("{")?t=t.concat(qn()):tt(xr))):tt($()),lt("from")||J(xr.value?ir.UnexpectedToken:ir.MissingFromClause,xr.value),$(),e=zn()),ct(),n.finishImportDeclaration(t,e)}function Yn(){for(var e,t,n,r,i=[];yr>mr&&(t=xr,t.type===Zn.StringLiteral)&&(e=Xt(),i.push(e),e.expression.type===nr.Literal);)n=sr.slice(t.start+1,t.end-1),"use strict"===n?(ar=!0,r&&nt(r,ir.StrictOctalLiteral)):!r&&t.octal&&(r=t);for(;yr>mr&&(e=Xt(),"undefined"!=typeof e);)i.push(e);return i}function Gn(){var e,t;return H(),t=new K,e=Yn(),t.finishProgram(e,wr.sourceType)}function Xn(){var e,t,n,r=[];for(e=0;e<Cr.tokens.length;++e)t=Cr.tokens[e],n={type:t.type,value:t.value},t.regex&&(n.regex={pattern:t.regex.pattern,flags:t.regex.flags}),Cr.range&&(n.range=t.range),Cr.loc&&(n.loc=t.loc),r.push(n);Cr.tokens=r}function Qn(e,t,n){var r,i;r=String,"string"==typeof e||e instanceof String||(e=r(e)),sr=e,lr=0,ur=sr.length>0?1:0,cr=0,mr=lr,gr=ur,vr=cr,yr=sr.length,xr=null,wr={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[]},Cr={},t=t||{},t.tokens=!0,Cr.tokens=[],Cr.tokenValues=[],Cr.tokenize=!0,Cr.delegate=n,Cr.openParenToken=-1,Cr.openCurlyToken=-1,Cr.range="boolean"==typeof t.range&&t.range,Cr.loc="boolean"==typeof t.loc&&t.loc,"boolean"==typeof t.comment&&t.comment&&(Cr.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Cr.errors=[]);try{if(H(),xr.type===Zn.EOF)return Cr.tokens;for($();xr.type!==Zn.EOF;)try{$()}catch(o){if(Cr.errors){G(o);break}throw o}i=Cr.tokens,"undefined"!=typeof Cr.errors&&(i.errors=Cr.errors)}catch(s){throw s}finally{Cr={}}return i}function Jn(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),sr=e,lr=0,ur=sr.length>0?1:0,cr=0,mr=lr,gr=ur,vr=cr,yr=sr.length,xr=null,wr={allowIn:!0,allowYield:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,curlyStack:[],sourceType:"script"},ar=!1,Cr={},"undefined"!=typeof t&&(Cr.range="boolean"==typeof t.range&&t.range,Cr.loc="boolean"==typeof t.loc&&t.loc,Cr.attachComment="boolean"==typeof t.attachComment&&t.attachComment,Cr.loc&&null!==t.source&&void 0!==t.source&&(Cr.source=r(t.source)),"boolean"==typeof t.tokens&&t.tokens&&(Cr.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(Cr.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(Cr.errors=[]),Cr.attachComment&&(Cr.range=!0,Cr.comments=[],Cr.bottomRightStack=[],Cr.trailingComments=[],Cr.leadingComments=[]),"module"===t.sourceType&&(wr.sourceType=t.sourceType,ar=!0));try{n=Gn(),"undefined"!=typeof Cr.comments&&(n.comments=Cr.comments),"undefined"!=typeof Cr.tokens&&(Xn(),n.tokens=Cr.tokens),"undefined"!=typeof Cr.errors&&(n.errors=Cr.errors)}catch(i){throw i}finally{Cr={}}return n}var Zn,er,tr,nr,rr,ir,or,sr,ar,lr,ur,cr,fr,hr,pr,dr,mr,gr,vr,br,yr,xr,wr,Cr,Sr,Dr,kr;Zn={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9,Template:10},er={},er[Zn.BooleanLiteral]="Boolean",er[Zn.EOF]="<end>",er[Zn.Identifier]="Identifier",er[Zn.Keyword]="Keyword",er[Zn.NullLiteral]="Null",er[Zn.NumericLiteral]="Numeric",er[Zn.Punctuator]="Punctuator",er[Zn.StringLiteral]="String",er[Zn.RegularExpression]="RegularExpression",er[Zn.Template]="Template",tr=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],nr={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},rr={ArrowParameterPlaceHolder:"ArrowParameterPlaceHolder"},ir={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",DefaultRestParameter:"Unexpected token =",ObjectPatternAsRestParameter:"Unexpected token {",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ConstructorSpecialMethod:"Class constructor may not be an accessor",DuplicateConstructor:"A class may only have one constructor",StaticPrototype:"Classes may not have static property named prototype",MissingFromClause:"Unexpected token",NoAsAfterImportNamespace:"Unexpected token",InvalidModuleSpecifier:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalExportDeclaration:"Unexpected token",DuplicateBinding:"Duplicate binding %0"},or={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDE00-\uDE11\uDE13-\uDE2B\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDE00-\uDE2F\uDE44\uDE80-\uDEAA]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDD0-\uDDDA\uDE00-\uDE11\uDE13-\uDE37\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF01-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF98]|\uD809[\uDC00-\uDC6E]|[\uD80C\uD840-\uD868\uD86A-\uD86C][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},Y.prototype=K.prototype={processComment:function(){var e,t,n,r,i,o,s=Cr.bottomRightStack,a=s[s.length-1];if(!(this.type===nr.Program&&this.body.length>0)){if(this.type===nr.BlockStatement&&0===this.body.length){for(t=[],i=Cr.leadingComments.length-1;i>=0;--i)o=Cr.leadingComments[i],this.range[1]>=o.range[1]&&(t.unshift(o),Cr.leadingComments.splice(i,1),Cr.trailingComments.splice(i,1));if(t.length)return void(this.innerComments=t)}if(Cr.trailingComments.length>0){for(r=[],i=Cr.trailingComments.length-1;i>=0;--i)o=Cr.trailingComments[i],o.range[0]>=this.range[1]&&(r.unshift(o),Cr.trailingComments.splice(i,1));Cr.trailingComments=[]}else a&&a.trailingComments&&a.trailingComments[0].range[0]>=this.range[1]&&(r=a.trailingComments,delete a.trailingComments);for(;a&&a.range[0]>=this.range[0];)e=s.pop(),a=s[s.length-1];if(e){if(e.leadingComments){for(n=[],i=e.leadingComments.length-1;i>=0;--i)o=e.leadingComments[i],o.range[1]<=this.range[0]&&(n.unshift(o),e.leadingComments.splice(i,1));e.leadingComments.length||(e.leadingComments=void 0)}}else if(Cr.leadingComments.length>0)for(n=[],i=Cr.leadingComments.length-1;i>=0;--i)o=Cr.leadingComments[i],o.range[1]<=this.range[0]&&(n.unshift(o),Cr.leadingComments.splice(i,1));n&&n.length>0&&(this.leadingComments=n),r&&r.length>0&&(this.trailingComments=r),s.push(this)}},finish:function(){Cr.range&&(this.range[1]=hr),Cr.loc&&(this.loc.end={line:pr,column:hr-dr},Cr.source&&(this.loc.source=Cr.source)),Cr.attachComment&&this.processComment()},finishArrayExpression:function(e){return this.type=nr.ArrayExpression,this.elements=e,this.finish(),this},finishArrayPattern:function(e){return this.type=nr.ArrayPattern,this.elements=e,this.finish(),this},finishArrowFunctionExpression:function(e,t,n,r){return this.type=nr.ArrowFunctionExpression,this.id=null,this.params=e,this.defaults=t,this.body=n,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(e,t,n){return this.type=nr.AssignmentExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishAssignmentPattern:function(e,t){return this.type=nr.AssignmentPattern,this.left=e,this.right=t,this.finish(),this
},finishBinaryExpression:function(e,t,n){return this.type="||"===e||"&&"===e?nr.LogicalExpression:nr.BinaryExpression,this.operator=e,this.left=t,this.right=n,this.finish(),this},finishBlockStatement:function(e){return this.type=nr.BlockStatement,this.body=e,this.finish(),this},finishBreakStatement:function(e){return this.type=nr.BreakStatement,this.label=e,this.finish(),this},finishCallExpression:function(e,t){return this.type=nr.CallExpression,this.callee=e,this.arguments=t,this.finish(),this},finishCatchClause:function(e,t){return this.type=nr.CatchClause,this.param=e,this.body=t,this.finish(),this},finishClassBody:function(e){return this.type=nr.ClassBody,this.body=e,this.finish(),this},finishClassDeclaration:function(e,t,n){return this.type=nr.ClassDeclaration,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishClassExpression:function(e,t,n){return this.type=nr.ClassExpression,this.id=e,this.superClass=t,this.body=n,this.finish(),this},finishConditionalExpression:function(e,t,n){return this.type=nr.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishContinueStatement:function(e){return this.type=nr.ContinueStatement,this.label=e,this.finish(),this},finishDebuggerStatement:function(){return this.type=nr.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(e,t){return this.type=nr.DoWhileStatement,this.body=e,this.test=t,this.finish(),this},finishEmptyStatement:function(){return this.type=nr.EmptyStatement,this.finish(),this},finishExpressionStatement:function(e){return this.type=nr.ExpressionStatement,this.expression=e,this.finish(),this},finishForStatement:function(e,t,n,r){return this.type=nr.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r,this.finish(),this},finishForOfStatement:function(e,t,n){return this.type=nr.ForOfStatement,this.left=e,this.right=t,this.body=n,this.finish(),this},finishForInStatement:function(e,t,n){return this.type=nr.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(e,t,n,r,i){return this.type=nr.FunctionDeclaration,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=i,this.expression=!1,this.finish(),this},finishFunctionExpression:function(e,t,n,r,i){return this.type=nr.FunctionExpression,this.id=e,this.params=t,this.defaults=n,this.body=r,this.generator=i,this.expression=!1,this.finish(),this},finishIdentifier:function(e){return this.type=nr.Identifier,this.name=e,this.finish(),this},finishIfStatement:function(e,t,n){return this.type=nr.IfStatement,this.test=e,this.consequent=t,this.alternate=n,this.finish(),this},finishLabeledStatement:function(e,t){return this.type=nr.LabeledStatement,this.label=e,this.body=t,this.finish(),this},finishLiteral:function(e){return this.type=nr.Literal,this.value=e.value,this.raw=sr.slice(e.start,e.end),e.regex&&(this.regex=e.regex),this.finish(),this},finishMemberExpression:function(e,t,n){return this.type=nr.MemberExpression,this.computed="["===e,this.object=t,this.property=n,this.finish(),this},finishMetaProperty:function(e,t){return this.type=nr.MetaProperty,this.meta=e,this.property=t,this.finish(),this},finishNewExpression:function(e,t){return this.type=nr.NewExpression,this.callee=e,this.arguments=t,this.finish(),this},finishObjectExpression:function(e){return this.type=nr.ObjectExpression,this.properties=e,this.finish(),this},finishObjectPattern:function(e){return this.type=nr.ObjectPattern,this.properties=e,this.finish(),this},finishPostfixExpression:function(e,t){return this.type=nr.UpdateExpression,this.operator=e,this.argument=t,this.prefix=!1,this.finish(),this},finishProgram:function(e,t){return this.type=nr.Program,this.body=e,this.sourceType=t,this.finish(),this},finishProperty:function(e,t,n,r,i,o){return this.type=nr.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=i,this.shorthand=o,this.finish(),this},finishRestElement:function(e){return this.type=nr.RestElement,this.argument=e,this.finish(),this},finishReturnStatement:function(e){return this.type=nr.ReturnStatement,this.argument=e,this.finish(),this},finishSequenceExpression:function(e){return this.type=nr.SequenceExpression,this.expressions=e,this.finish(),this},finishSpreadElement:function(e){return this.type=nr.SpreadElement,this.argument=e,this.finish(),this},finishSwitchCase:function(e,t){return this.type=nr.SwitchCase,this.test=e,this.consequent=t,this.finish(),this},finishSuper:function(){return this.type=nr.Super,this.finish(),this},finishSwitchStatement:function(e,t){return this.type=nr.SwitchStatement,this.discriminant=e,this.cases=t,this.finish(),this},finishTaggedTemplateExpression:function(e,t){return this.type=nr.TaggedTemplateExpression,this.tag=e,this.quasi=t,this.finish(),this},finishTemplateElement:function(e,t){return this.type=nr.TemplateElement,this.value=e,this.tail=t,this.finish(),this},finishTemplateLiteral:function(e,t){return this.type=nr.TemplateLiteral,this.quasis=e,this.expressions=t,this.finish(),this},finishThisExpression:function(){return this.type=nr.ThisExpression,this.finish(),this},finishThrowStatement:function(e){return this.type=nr.ThrowStatement,this.argument=e,this.finish(),this},finishTryStatement:function(e,t,n){return this.type=nr.TryStatement,this.block=e,this.guardedHandlers=[],this.handlers=t?[t]:[],this.handler=t,this.finalizer=n,this.finish(),this},finishUnaryExpression:function(e,t){return this.type="++"===e||"--"===e?nr.UpdateExpression:nr.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(e){return this.type=nr.VariableDeclaration,this.declarations=e,this.kind="var",this.finish(),this},finishLexicalDeclaration:function(e,t){return this.type=nr.VariableDeclaration,this.declarations=e,this.kind=t,this.finish(),this},finishVariableDeclarator:function(e,t){return this.type=nr.VariableDeclarator,this.id=e,this.init=t,this.finish(),this},finishWhileStatement:function(e,t){return this.type=nr.WhileStatement,this.test=e,this.body=t,this.finish(),this},finishWithStatement:function(e,t){return this.type=nr.WithStatement,this.object=e,this.body=t,this.finish(),this},finishExportSpecifier:function(e,t){return this.type=nr.ExportSpecifier,this.exported=t||e,this.local=e,this.finish(),this},finishImportDefaultSpecifier:function(e){return this.type=nr.ImportDefaultSpecifier,this.local=e,this.finish(),this},finishImportNamespaceSpecifier:function(e){return this.type=nr.ImportNamespaceSpecifier,this.local=e,this.finish(),this},finishExportNamedDeclaration:function(e,t,n){return this.type=nr.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n,this.finish(),this},finishExportDefaultDeclaration:function(e){return this.type=nr.ExportDefaultDeclaration,this.declaration=e,this.finish(),this},finishExportAllDeclaration:function(e){return this.type=nr.ExportAllDeclaration,this.source=e,this.finish(),this},finishImportSpecifier:function(e,t){return this.type=nr.ImportSpecifier,this.local=e||t,this.imported=t,this.finish(),this},finishImportDeclaration:function(e,t){return this.type=nr.ImportDeclaration,this.specifiers=e,this.source=t,this.finish(),this},finishYieldExpression:function(e,t){return this.type=nr.YieldExpression,this.argument=e,this.delegate=t,this.finish(),this}},e.version="2.7.2",e.tokenize=Qn,e.parse=Jn,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in nr)nr.hasOwnProperty(e)&&(t[e]=nr[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()}),function(e){function t(e,n){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];var r=t.resolve(e);if(!r)throw new Error("Failed to resolve module "+e);var i={id:e,require:t,filename:e,exports:{},loaded:!1,parent:n,children:[]};n&&n.children.push(i);var o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=i.exports,r.call(i.exports,i,i.exports,o,e),i.loaded=!0,t.cache[e]=i.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,n){t.modules[e]=n};var n=function(t){return t="/",{title:"browser",version:"v0.10.26",browser:!0,env:{},argv:[],nextTick:e.setImmediate||function(e){setTimeout(e,0)},cwd:function(){return t},chdir:function(e){t=e}}}();t.define("/tools/entry-point.js",function(n){!function(){"use strict";e.escodegen=t("/escodegen.js",n),escodegen.browser=!0}()}),t.define("/escodegen.js",function(n,r){!function(i,o,s,a,l,u,c,f,h,p,d,m,g,v,b,y,x,w,C,S,D,k,A,E,_){"use strict";function F(e){switch(e.type){case i.AssignmentExpression:case i.ArrayExpression:case i.ArrayPattern:case i.BinaryExpression:case i.CallExpression:case i.ConditionalExpression:case i.ClassExpression:case i.ExportBatchSpecifier:case i.ExportSpecifier:case i.FunctionExpression:case i.Identifier:case i.ImportSpecifier:case i.Literal:case i.LogicalExpression:case i.MemberExpression:case i.MethodDefinition:case i.NewExpression:case i.ObjectExpression:case i.ObjectPattern:case i.Property:case i.SequenceExpression:case i.ThisExpression:case i.UnaryExpression:case i.UpdateExpression:case i.YieldExpression:return!0}return!1}function P(e){switch(e.type){case i.BlockStatement:case i.BreakStatement:case i.CatchClause:case i.ContinueStatement:case i.ClassDeclaration:case i.ClassBody:case i.DirectiveStatement:case i.DoWhileStatement:case i.DebuggerStatement:case i.EmptyStatement:case i.ExpressionStatement:case i.ForStatement:case i.ForInStatement:case i.ForOfStatement:case i.FunctionDeclaration:case i.IfStatement:case i.LabeledStatement:case i.ModuleDeclaration:case i.Program:case i.ReturnStatement:case i.SwitchStatement:case i.SwitchCase:case i.ThrowStatement:case i.TryStatement:case i.VariableDeclaration:case i.VariableDeclarator:case i.WhileStatement:case i.WithStatement:return!0}return!1}function L(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null}}function I(e,t){var n="";for(t|=0;t>0;t>>>=1,e+=e)1&t&&(n+=e);return n}function T(e){return/[\r\n]/g.test(e)}function M(e){var t=e.length;return t&&u.code.isLineTerminator(e.charCodeAt(t-1))}function O(e,t){function n(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}var r,i;for(r in t)t.hasOwnProperty(r)&&(i=t[r],n(i)?n(e[r])?O(e[r],i):e[r]=O({},i):e[r]=i);return e}function B(e){var t,n,r,i,o;if(e!==e)throw new Error("Numeric literal whose value is NaN");if(0>e||0===e&&0>1/e)throw new Error("Numeric literal whose value is negative");if(e===1/0)return p?"null":d?"1e400":"1e+400";if(t=""+e,!d||t.length<3)return t;for(n=t.indexOf("."),!p&&48===t.charCodeAt(0)&&1===n&&(n=0,t=t.slice(1)),r=t,t=t.replace("e+","e"),i=0,(o=r.indexOf("e"))>0&&(i=+r.slice(o+1),r=r.slice(0,o)),n>=0&&(i-=r.length-n-1,r=+(r.slice(0,n)+r.slice(n+1))+""),o=0;48===r.charCodeAt(r.length+o-1);)--o;return 0!==o&&(i-=o,r=r.slice(0,o)),0!==i&&(r+="e"+i),(r.length<t.length||m&&e>1e12&&Math.floor(e)===e&&(r="0x"+e.toString(16)).length<t.length)&&+r===e&&(t=r),t}function z(e,t){return 8232===(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function N(e){var t,n,r,i,o,s,a,l;if(n=e.toString(),e.source){if(t=n.match(/\/([^/]*)$/),!t)return n;for(r=t[1],n="",a=!1,l=!1,i=0,o=e.source.length;o>i;++i)s=e.source.charCodeAt(i),l?(n+=z(s,l),l=!1):(a?93===s&&(a=!1):47===s?n+="\\":91===s&&(a=!0),n+=z(s,l),l=92===s);return"/"+n+"/"+r}return n}function R(e,t){var n,r="\\";switch(e){case 8:r+="b";break;case 12:r+="f";break;case 9:r+="t";break;default:n=e.toString(16).toUpperCase(),r+=p||e>255?"u"+"0000".slice(n.length)+n:0!==e||u.code.isDecimalDigit(t)?11===e?"x0B":"x"+"00".slice(n.length)+n:"0"}return r}function j(e){var t="\\";switch(e){case 92:t+="\\";break;case 10:t+="n";break;case 13:t+="r";break;case 8232:t+="u2028";break;case 8233:t+="u2029";break;default:throw new Error("Incorrectly classified character")}return t}function W(e){var t,n,r,i;for(i="double"===g?'"':"'",t=0,n=e.length;n>t;++t){if(r=e.charCodeAt(t),39===r){i='"';break}if(34===r){i="'";break}92===r&&++t}return i+e+i}function $(e){var t,n,r,i,o,s="",a=0,l=0;for(t=0,n=e.length;n>t;++t){if(r=e.charCodeAt(t),39===r)++a;else if(34===r)++l;else if(47===r&&p)s+="\\";else{if(u.code.isLineTerminator(r)||92===r){s+=j(r);continue}if(p&&32>r||!(p||v||r>=32&&126>=r)){s+=R(r,e.charCodeAt(t+1));continue}}s+=String.fromCharCode(r)}if(i=!("double"===g||"auto"===g&&a>l),o=i?"'":'"',!(i?a:l))return o+s+o;for(e=s,s=o,t=0,n=e.length;n>t;++t)r=e.charCodeAt(t),(39===r&&i||34===r&&!i)&&(s+="\\"),s+=String.fromCharCode(r);return s+o}function H(e){var t,n,r,i="";for(t=0,n=e.length;n>t;++t)r=e[t],i+=c(r)?H(r):r;return i}function q(e,t){if(!A)return c(e)?H(e):e;if(null==t){if(e instanceof a)return e;t={}}return null==t.loc?new a(null,null,A,e,t.name||null):new a(t.loc.start.line,t.loc.start.column,A===!0?t.loc.source||null:A,e,t.name||null)}function U(){return y?y:" "}function V(e,t){var n,r,i,o;return n=q(e).toString(),0===n.length?[t]:(r=q(t).toString(),0===r.length?[e]:(i=n.charCodeAt(n.length-1),o=r.charCodeAt(0),(43===i||45===i)&&i===o||u.code.isIdentifierPart(i)&&u.code.isIdentifierPart(o)||47===i&&105===o?[e,U(),t]:u.code.isWhiteSpace(i)||u.code.isLineTerminator(i)||u.code.isWhiteSpace(o)||u.code.isLineTerminator(o)?[e,t]:[e,y,t]))}function K(e){return[f,e]}function Y(e){var t,n;return t=f,f+=h,n=e.call(this,f),f=t,n}function G(e){var t;for(t=e.length-1;t>=0&&!u.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}function X(e,t){var n,r,i,o,s,a,l,c;for(n=e.split(/\r\n|[\r\n]/),a=Number.MAX_VALUE,r=1,i=n.length;i>r;++r){for(o=n[r],s=0;s<o.length&&u.code.isWhiteSpace(o.charCodeAt(s));)++s;a>s&&(a=s)}for(void 0!==t?(l=f,"*"===n[1][a]&&(t+=" "),f=t):(1&a&&--a,l=f),r=1,i=n.length;i>r;++r)c=q(K(n[r].slice(a))),n[r]=A?c.join(""):c;return f=l,n.join("\n")}function Q(e,t){return"Line"===e.type?M(e.value)?"//"+e.value:"//"+e.value+"\n":D.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)?X("/*"+e.value+"*/",t):"/*"+e.value+"*/"}function J(e,t){var n,r,o,s,a,l,u;if(e.leadingComments&&e.leadingComments.length>0){for(s=t,o=e.leadingComments[0],t=[],C&&e.type===i.Program&&0===e.body.length&&t.push("\n"),t.push(Q(o)),M(q(t).toString())||t.push("\n"),n=1,r=e.leadingComments.length;r>n;++n)o=e.leadingComments[n],u=[Q(o)],M(q(u).toString())||u.push("\n"),t.push(K(u));t.push(K(s))}if(e.trailingComments)for(a=!M(q(t).toString()),l=I(" ",G(q([f,t,h]).toString())),n=0,r=e.trailingComments.length;r>n;++n)o=e.trailingComments[n],a?(t=0===n?[t,h]:[t,l],t.push(Q(o,l))):t=[t,K(Q(o))],n!==r-1&&!M(q(t).toString())&&(t=[t,"\n"]);return t}function Z(e,t,n){return n>t?["(",e,")"]:e}function et(e,t,n){var r,o;return o=!D.comment||!e.leadingComments,e.type===i.BlockStatement&&o?[y,gt(e,{functionBody:n})]:e.type===i.EmptyStatement&&o?";":(Y(function(){r=[b,K(gt(e,{semicolonOptional:t,functionBody:n}))]}),r)}function tt(e,t){var n=M(q(t).toString());return e.type!==i.BlockStatement||D.comment&&e.leadingComments||n?n?[t,f]:[t,b,f]:[t,y]}function nt(e){var t,n,r;for(r=e.split(/\r\n|\n/),t=1,n=r.length;n>t;t++)r[t]=b+f+r[t];return r}function rt(e,t){var n,r,i;return n=e[D.verbatim],"string"==typeof n?r=Z(nt(n),o.Sequence,t.precedence):(r=nt(n.content),i=null!=n.precedence?n.precedence:o.Sequence,r=Z(r,i,t.precedence)),q(r,e)}function it(e){return q(e.name,e)}function ot(e,t){var n;return n=e.type===i.Identifier?it(e):dt(e,{precedence:t.precedence,allowIn:t.allowIn,allowCall:!0})}function st(e){var t,n,r,s;if(s=!1,e.type!==i.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==i.Identifier){for(r=["("],e.defaults&&(s=!0),t=0,n=e.params.length;n>t;++t)r.push(s&&e.defaults[t]?pt(e.params[t],e.defaults[t],"=",{precedence:o.Assignment,allowIn:!0,allowCall:!0}):ot(e.params[t],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),n>t+1&&r.push(","+y);e.rest&&(e.params.length&&r.push(","+y),r.push("..."),r.push(it(e.rest,{precedence:o.Assignment,allowIn:!0,allowCall:!0}))),r.push(")")}else r=[it(e.params[0])];return r}function at(e){var t,n;return t=st(e),e.type===i.ArrowFunctionExpression&&(t.push(y),t.push("=>")),e.expression?(t.push(y),n=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),"{"===n.toString().charAt(0)&&(n=["(",n,")"]),t.push(n)):t.push(et(e.body,!1,!0)),t}function lt(e,t,n){var r=["for"+y+"("];return Y(function(){t.left.type===i.VariableDeclaration?Y(function(){r.push(t.left.kind+U()),r.push(gt(t.left.declarations[0],{allowIn:!1}))}):r.push(dt(t.left,{precedence:o.Call,allowIn:!0,allowCall:!0})),r=V(r,e),r=[V(r,dt(t.right,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),")"]}),r.push(et(t.body,n)),r}function ut(e,t,n){function r(){for(a=e.declarations[0],D.comment&&a.leadingComments?(i.push("\n"),i.push(K(gt(a,{allowIn:n})))):(i.push(U()),i.push(gt(a,{allowIn:n}))),o=1,s=e.declarations.length;s>o;++o)a=e.declarations[o],D.comment&&a.leadingComments?(i.push(","+b),i.push(K(gt(a,{allowIn:n})))):(i.push(","+y),i.push(gt(a,{allowIn:n})))}var i,o,s,a;return i=[e.kind],e.declarations.length>1?Y(r):r(),i.push(t),i}function ct(e){var t=["{",b];return Y(function(n){var r,s;for(r=0,s=e.body.length;s>r;++r)t.push(n),t.push(dt(e.body[r],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})),s>r+1&&t.push(b)}),M(q(t).toString())||t.push(b),t.push(f),t.push("}"),t}function ft(e){var t;if(e.hasOwnProperty("raw")&&k&&D.raw)try{if(t=k(e.raw).body[0].expression,t.type===i.Literal&&t.value===e.value)return e.raw}catch(e){}return null===e.value?"null":"string"==typeof e.value?$(e.value):"number"==typeof e.value?B(e.value):"boolean"==typeof e.value?e.value?"true":"false":N(e.value)}function ht(e,t,n){var r=[];return t&&r.push("["),r.push(dt(e,n)),t&&r.push("]"),r}function pt(e,t,n,r){var i,s;return s=r.precedence,i=r.allowIn||o.Assignment<s,Z([dt(e,{precedence:o.Call,allowIn:i,allowCall:!0}),y+n+y,dt(t,{precedence:o.Assignment,allowIn:i,allowCall:!0})],o.Assignment,s)}function dt(e,t){var n,r,a,l,c,h,p,d,m,g,v,w,C,S,k,A;if(r=t.precedence,w=t.allowIn,C=t.allowCall,a=e.type||t.type,D.verbatim&&e.hasOwnProperty(D.verbatim))return rt(e,t);switch(a){case i.SequenceExpression:for(n=[],w|=o.Sequence<r,c=0,h=e.expressions.length;h>c;++c)n.push(dt(e.expressions[c],{precedence:o.Assignment,allowIn:w,allowCall:!0})),h>c+1&&n.push(","+y);n=Z(n,o.Sequence,r);break;case i.AssignmentExpression:n=pt(e.left,e.right,e.operator,t);break;case i.ArrowFunctionExpression:w|=o.ArrowFunction<r,n=Z(at(e),o.ArrowFunction,r);break;case i.ConditionalExpression:w|=o.Conditional<r,n=Z([dt(e.test,{precedence:o.LogicalOR,allowIn:w,allowCall:!0}),y+"?"+y,dt(e.consequent,{precedence:o.Assignment,allowIn:w,allowCall:!0}),y+":"+y,dt(e.alternate,{precedence:o.Assignment,allowIn:w,allowCall:!0})],o.Conditional,r);break;case i.LogicalExpression:case i.BinaryExpression:l=s[e.operator],w|=r>l,p=dt(e.left,{precedence:l,allowIn:w,allowCall:!0}),g=p.toString(),n=47===g.charCodeAt(g.length-1)&&u.code.isIdentifierPart(e.operator.charCodeAt(0))?[p,U(),e.operator]:V(p,e.operator),p=dt(e.right,{precedence:l+1,allowIn:w,allowCall:!0}),"/"===e.operator&&"/"===p.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===p.toString().slice(0,3)?(n.push(U()),n.push(p)):n=V(n,p),n="in"!==e.operator||w?Z(n,l,r):["(",n,")"];break;case i.CallExpression:for(n=[dt(e.callee,{precedence:o.Call,allowIn:!0,allowCall:!0,allowUnparenthesizedNew:!1})],n.push("("),c=0,h=e.arguments.length;h>c;++c)n.push(dt(e.arguments[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+y);n.push(")"),n=C?Z(n,o.Call,r):["(",n,")"];break;case i.NewExpression:if(h=e.arguments.length,S=void 0===t.allowUnparenthesizedNew||t.allowUnparenthesizedNew,n=V("new",dt(e.callee,{precedence:o.New,allowIn:!0,allowCall:!1,allowUnparenthesizedNew:S&&!x&&0===h})),!S||x||h>0){for(n.push("("),c=0;h>c;++c)n.push(dt(e.arguments[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+y);n.push(")")}n=Z(n,o.New,r);break;case i.MemberExpression:n=[dt(e.object,{precedence:o.Call,allowIn:!0,allowCall:C,allowUnparenthesizedNew:!1})],e.computed?(n.push("["),n.push(dt(e.property,{precedence:o.Sequence,allowIn:!0,allowCall:C})),n.push("]")):(e.object.type===i.Literal&&"number"==typeof e.object.value&&(p=q(n).toString(),p.indexOf(".")<0&&!/[eExX]/.test(p)&&u.code.isDecimalDigit(p.charCodeAt(p.length-1))&&!(p.length>=2&&48===p.charCodeAt(0))&&n.push(".")),n.push("."),n.push(it(e.property))),n=Z(n,o.Member,r);break;case i.UnaryExpression:p=dt(e.argument,{precedence:o.Unary,allowIn:!0,allowCall:!0}),""===y?n=V(e.operator,p):(n=[e.operator],e.operator.length>2?n=V(n,p):(g=q(n).toString(),m=g.charCodeAt(g.length-1),v=p.toString().charCodeAt(0),(43===m||45===m)&&m===v||u.code.isIdentifierPart(m)&&u.code.isIdentifierPart(v)?(n.push(U()),n.push(p)):n.push(p))),n=Z(n,o.Unary,r);break;case i.YieldExpression:n=e.delegate?"yield*":"yield",e.argument&&(n=V(n,dt(e.argument,{precedence:o.Yield,allowIn:!0,allowCall:!0}))),n=Z(n,o.Yield,r);break;case i.UpdateExpression:n=e.prefix?Z([e.operator,dt(e.argument,{precedence:o.Unary,allowIn:!0,allowCall:!0})],o.Unary,r):Z([dt(e.argument,{precedence:o.Postfix,allowIn:!0,allowCall:!0}),e.operator],o.Postfix,r);break;case i.FunctionExpression:A=e.generator&&!D.moz.starlessGenerator,n=A?"function*":"function",n=e.id?[n,A?y:U(),it(e.id),at(e)]:[n+y,at(e)];break;case i.ExportBatchSpecifier:n="*";break;case i.ArrayPattern:case i.ArrayExpression:if(!e.elements.length){n="[]";break}d=e.elements.length>1,n=["[",d?b:""],Y(function(t){for(c=0,h=e.elements.length;h>c;++c)e.elements[c]?(n.push(d?t:""),n.push(dt(e.elements[c],{precedence:o.Assignment,allowIn:!0,allowCall:!0}))):(d&&n.push(t),c+1===h&&n.push(",")),h>c+1&&n.push(","+(d?b:y))}),d&&!M(q(n).toString())&&n.push(b),n.push(d?f:""),n.push("]");break;case i.ClassExpression:n=["class"],e.id&&(n=V(n,dt(e.id,{allowIn:!0,allowCall:!0}))),e.superClass&&(p=V("extends",dt(e.superClass,{precedence:o.Assignment,allowIn:!0,allowCall:!0})),n=V(n,p)),n.push(y),n.push(gt(e.body,{semicolonOptional:!0,directiveContext:!1}));break;case i.MethodDefinition:n=e["static"]?["static"+y]:[],"get"===e.kind||"set"===e.kind?n=V(n,[V(e.kind,ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),at(e.value)]):(p=[ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),at(e.value)],e.value.generator?(n.push("*"),n.push(p)):n=V(n,p));break;case i.Property:"get"===e.kind||"set"===e.kind?n=[e.kind,U(),ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),at(e.value)]:e.shorthand?n=ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}):e.method?(n=[],e.value.generator&&n.push("*"),n.push(ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(at(e.value))):n=[ht(e.key,e.computed,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),":"+y,dt(e.value,{precedence:o.Assignment,allowIn:!0,allowCall:!0})];break;case i.ObjectExpression:if(!e.properties.length){n="{}";break}if(d=e.properties.length>1,Y(function(){p=dt(e.properties[0],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})}),!d&&!T(q(p).toString())){n=["{",y,p,y,"}"];break}Y(function(t){if(n=["{",b,t,p],d)for(n.push(","+b),c=1,h=e.properties.length;h>c;++c)n.push(t),n.push(dt(e.properties[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0,type:i.Property})),h>c+1&&n.push(","+b)}),M(q(n).toString())||n.push(b),n.push(f),n.push("}");break;case i.ObjectPattern:if(!e.properties.length){n="{}";break}if(d=!1,1===e.properties.length)k=e.properties[0],k.value.type!==i.Identifier&&(d=!0);else for(c=0,h=e.properties.length;h>c;++c)if(k=e.properties[c],!k.shorthand){d=!0;break}n=["{",d?b:""],Y(function(t){for(c=0,h=e.properties.length;h>c;++c)n.push(d?t:""),n.push(dt(e.properties[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),h>c+1&&n.push(","+(d?b:y))}),d&&!M(q(n).toString())&&n.push(b),n.push(d?f:""),n.push("}");break;case i.ThisExpression:n="this";break;case i.Identifier:n=it(e);break;case i.ImportSpecifier:case i.ExportSpecifier:n=[e.id.name],e.name&&n.push(U()+"as"+U()+e.name.name);break;case i.Literal:n=ft(e);break;case i.GeneratorExpression:case i.ComprehensionExpression:n=a===i.GeneratorExpression?["("]:["["],D.moz.comprehensionExpressionStartsWithAssignment&&(p=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),n.push(p)),e.blocks&&Y(function(){for(c=0,h=e.blocks.length;h>c;++c)p=dt(e.blocks[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0}),c>0||D.moz.comprehensionExpressionStartsWithAssignment?n=V(n,p):n.push(p)}),e.filter&&(n=V(n,"if"+y),p=dt(e.filter,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),n=V(n,["(",p,")"])),D.moz.comprehensionExpressionStartsWithAssignment||(p=dt(e.body,{precedence:o.Assignment,allowIn:!0,allowCall:!0}),n=V(n,p)),n.push(a===i.GeneratorExpression?")":"]");break;case i.ComprehensionBlock:p=e.left.type===i.VariableDeclaration?[e.left.kind,U(),gt(e.left.declarations[0],{allowIn:!1})]:dt(e.left,{precedence:o.Call,allowIn:!0,allowCall:!0}),p=V(p,e.of?"of":"in"),p=V(p,dt(e.right,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n=["for"+y+"(",p,")"];break;case i.SpreadElement:n=["...",dt(e.argument,{precedence:o.Assignment,allowIn:!0,allowCall:!0})];break;case i.TaggedTemplateExpression:n=[dt(e.tag,{precedence:o.Call,allowIn:!0,allowCall:C,allowUnparenthesizedNew:!1}),dt(e.quasi,{precedence:o.Primary})],n=Z(n,o.TaggedTemplate,r);break;case i.TemplateElement:n=e.value.raw;break;case i.TemplateLiteral:for(n=["`"],c=0,h=e.quasis.length;h>c;++c)n.push(dt(e.quasis[c],{precedence:o.Primary,allowIn:!0,allowCall:!0})),h>c+1&&(n.push("${"+y),n.push(dt(e.expressions[c],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(y+"}"));n.push("`");break;default:throw new Error("Unknown expression type: "+e.type)}return D.comment&&(n=J(e,n)),q(n,e)}function mt(e,t){var n,r;return 0===e.specifiers.length?["import",y,ft(e.source),t]:(n=["import"],r=0,e.specifiers[0]["default"]&&(n=V(n,[e.specifiers[0].id.name]),++r),e.specifiers[r]&&(0!==r&&n.push(","),n.push(y+"{"),e.specifiers.length-r===1?(n.push(y),n.push(dt(e.specifiers[r],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),n.push(y+"}"+y)):(Y(function(t){var i,s;for(n.push(b),i=r,s=e.specifiers.length;s>i;++i)n.push(t),n.push(dt(e.specifiers[i],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s>i+1&&n.push(","+b)}),M(q(n).toString())||n.push(b),n.push(f+"}"+y))),n=V(n,["from"+y,ft(e.source),t]))}function gt(e,t){var n,r,s,a,l,u,h,p,d,m;switch(a=!0,p=";",l=!1,u=!1,t&&(a=void 0===t.allowIn||t.allowIn,!w&&t.semicolonOptional===!0&&(p=""),l=t.functionBody,u=t.directiveContext),e.type){case i.BlockStatement:s=["{",b],Y(function(){for(n=0,r=e.body.length;r>n;++n)h=K(gt(e.body[n],{semicolonOptional:n===r-1,directiveContext:l})),s.push(h),M(q(h).toString())||s.push(b)}),s.push(K("}"));break;case i.BreakStatement:s=e.label?"break "+e.label.name+p:"break"+p;break;case i.ContinueStatement:s=e.label?"continue "+e.label.name+p:"continue"+p;break;case i.ClassBody:s=ct(e);break;case i.ClassDeclaration:s=["class "+e.id.name],e.superClass&&(h=V("extends",dt(e.superClass,{precedence:o.Assignment,allowIn:!0,allowCall:!0})),s=V(s,h)),s.push(y),s.push(gt(e.body,{semicolonOptional:!0,directiveContext:!1}));break;case i.DirectiveStatement:s=D.raw&&e.raw?e.raw+p:W(e.directive)+p;break;case i.DoWhileStatement:s=V("do",et(e.body)),s=tt(e.body,s),s=V(s,["while"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"+p]);break;case i.CatchClause:Y(function(){var t;s=["catch"+y+"(",dt(e.param,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"],e.guard&&(t=dt(e.guard,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),s.splice(2,0," if ",t))}),s.push(et(e.body));break;case i.DebuggerStatement:s="debugger"+p;break;case i.EmptyStatement:s=";";break;case i.ExportDeclaration:if(s=["export"],e["default"]){s=V(s,"default"),s=V(s,dt(e.declaration,{precedence:o.Assignment,allowIn:!0,allowCall:!0})+p);break}if(e.specifiers){0===e.specifiers.length?s=V(s,"{"+y+"}"):e.specifiers[0].type===i.ExportBatchSpecifier?s=V(s,dt(e.specifiers[0],{precedence:o.Sequence,allowIn:!0,allowCall:!0})):(s=V(s,"{"),Y(function(t){var n,r;for(s.push(b),n=0,r=e.specifiers.length;r>n;++n)s.push(t),s.push(dt(e.specifiers[n],{precedence:o.Sequence,allowIn:!0,allowCall:!0})),r>n+1&&s.push(","+b)}),M(q(s).toString())||s.push(b),s.push(f+"}")),e.source?s=V(s,["from"+y,ft(e.source),p]):s.push(p);break}e.declaration&&(s=V(s,gt(e.declaration,{semicolonOptional:""===p})));break;case i.ExpressionStatement:s=[dt(e.expression,{precedence:o.Sequence,allowIn:!0,allowCall:!0})],h=q(s).toString(),"{"===h.charAt(0)||"class"===h.slice(0,5)&&" {".indexOf(h.charAt(5))>=0||"function"===h.slice(0,8)&&"* (".indexOf(h.charAt(8))>=0||S&&u&&e.expression.type===i.Literal&&"string"==typeof e.expression.value?s=["(",s,")"+p]:s.push(p);break;case i.ImportDeclaration:s=mt(e,p);break;case i.VariableDeclarator:s=e.init?[dt(e.id,{precedence:o.Assignment,allowIn:a,allowCall:!0}),y,"=",y,dt(e.init,{precedence:o.Assignment,allowIn:a,allowCall:!0})]:ot(e.id,{precedence:o.Assignment,allowIn:a});break;case i.VariableDeclaration:s=ut(e,p,a);break;case i.ThrowStatement:s=[V("throw",dt(e.argument,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),p];break;case i.TryStatement:if(s=["try",et(e.block)],s=tt(e.block,s),e.handlers)for(n=0,r=e.handlers.length;r>n;++n)s=V(s,gt(e.handlers[n])),(e.finalizer||n+1!==r)&&(s=tt(e.handlers[n].body,s));else{for(m=e.guardedHandlers||[],n=0,r=m.length;r>n;++n)s=V(s,gt(m[n])),(e.finalizer||n+1!==r)&&(s=tt(m[n].body,s));if(e.handler)if(c(e.handler))for(n=0,r=e.handler.length;r>n;++n)s=V(s,gt(e.handler[n])),(e.finalizer||n+1!==r)&&(s=tt(e.handler[n].body,s));else s=V(s,gt(e.handler)),e.finalizer&&(s=tt(e.handler.body,s))}e.finalizer&&(s=V(s,["finally",et(e.finalizer)]));break;case i.SwitchStatement:if(Y(function(){s=["switch"+y+"(",dt(e.discriminant,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"+y+"{"+b]}),e.cases)for(n=0,r=e.cases.length;r>n;++n)h=K(gt(e.cases[n],{semicolonOptional:n===r-1})),s.push(h),M(q(h).toString())||s.push(b);s.push(K("}"));break;case i.SwitchCase:Y(function(){for(s=e.test?[V("case",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),":"]:["default:"],n=0,r=e.consequent.length,r&&e.consequent[0].type===i.BlockStatement&&(h=et(e.consequent[0]),s.push(h),n=1),n!==r&&!M(q(s).toString())&&s.push(b);r>n;++n)h=K(gt(e.consequent[n],{semicolonOptional:n===r-1&&""===p})),s.push(h),n+1!==r&&!M(q(h).toString())&&s.push(b)});break;case i.IfStatement:Y(function(){s=["if"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),e.alternate?(s.push(et(e.consequent)),s=tt(e.consequent,s),s=e.alternate.type===i.IfStatement?V(s,["else ",gt(e.alternate,{semicolonOptional:""===p})]):V(s,V("else",et(e.alternate,""===p)))):s.push(et(e.consequent,""===p));break;case i.ForStatement:Y(function(){s=["for"+y+"("],e.init?e.init.type===i.VariableDeclaration?s.push(gt(e.init,{allowIn:!1})):(s.push(dt(e.init,{precedence:o.Sequence,allowIn:!1,allowCall:!0})),s.push(";")):s.push(";"),e.test?(s.push(y),s.push(dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s.push(";")):s.push(";"),e.update?(s.push(y),s.push(dt(e.update,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),s.push(")")):s.push(")")}),s.push(et(e.body,""===p));break;case i.ForInStatement:s=lt("in",e,""===p);break;case i.ForOfStatement:s=lt("of",e,""===p);break;case i.LabeledStatement:s=[e.label.name+":",et(e.body,""===p)];break;case i.ModuleDeclaration:s=["module",U(),e.id.name,U(),"from",y,ft(e.source),p];break;case i.Program:for(r=e.body.length,s=[C&&r>0?"\n":""],n=0;r>n;++n)h=K(gt(e.body[n],{semicolonOptional:!C&&n===r-1,directiveContext:!0})),s.push(h),r>n+1&&!M(q(h).toString())&&s.push(b);break;case i.FunctionDeclaration:d=e.generator&&!D.moz.starlessGenerator,s=[d?"function*":"function",d?y:U(),it(e.id),at(e)];break;case i.ReturnStatement:s=e.argument?[V("return",dt(e.argument,{precedence:o.Sequence,allowIn:!0,allowCall:!0})),p]:["return"+p];break;case i.WhileStatement:Y(function(){s=["while"+y+"(",dt(e.test,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),s.push(et(e.body,""===p));break;case i.WithStatement:Y(function(){s=["with"+y+"(",dt(e.object,{precedence:o.Sequence,allowIn:!0,allowCall:!0}),")"]}),s.push(et(e.body,""===p));break;default:throw new Error("Unknown statement type: "+e.type)
}return D.comment&&(s=J(e,s)),h=q(s).toString(),e.type===i.Program&&!C&&""===b&&"\n"===h.charAt(h.length-1)&&(s=A?q(s).replaceRight(/\s+$/,""):h.replace(/\s+$/,"")),q(s,e)}function vt(e){if(P(e))return gt(e);if(F(e))return dt(e,{precedence:o.Sequence,allowIn:!0,allowCall:!0});throw new Error("Unknown node type: "+e.type)}function bt(i,o){var s,l,u=L();return null!=o?("string"==typeof o.indent&&(u.format.indent.style=o.indent),"number"==typeof o.base&&(u.format.indent.base=o.base),o=O(u,o),h=o.format.indent.style,f="string"==typeof o.base?o.base:I(h,o.format.indent.base)):(o=u,h=o.format.indent.style,f=I(h,o.format.indent.base)),p=o.format.json,d=o.format.renumber,m=p?!1:o.format.hexadecimal,g=p?"double":o.format.quotes,v=o.format.escapeless,b=o.format.newline,y=o.format.space,o.format.compact&&(b=y=h=f=""),x=o.format.parentheses,w=o.format.semicolons,C=o.format.safeConcatenation,S=o.directive,k=p?null:o.parse,A=o.sourceMap,D=o,A&&(a=r.browser?e.sourceMap.SourceNode:t("/node_modules/source-map/lib/source-map.js",n).SourceNode),s=vt(i),A?(l=s.toStringWithSourceMap({file:o.file,sourceRoot:o.sourceMapRoot}),o.sourceContent&&l.map.setSourceContent(o.sourceMap,o.sourceContent),o.sourceMapWithCode?l:l.map.toString()):(l={code:s.toString(),map:null},o.sourceMapWithCode?l:l.code)}l=t("/node_modules/estraverse/estraverse.js",n),u=t("/node_modules/esutils/lib/utils.js",n),i={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportBatchSpecifier:"ExportBatchSpecifier",ExportDeclaration:"ExportDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportSpecifier:"ImportSpecifier",ImportDeclaration:"ImportDeclaration",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleDeclaration:"ModuleDeclaration",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},o={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Unary:13,Postfix:14,Call:15,New:16,TaggedTemplate:17,Member:18,Primary:19},s={"||":o.LogicalOR,"&&":o.LogicalAND,"|":o.BitwiseOR,"^":o.BitwiseXOR,"&":o.BitwiseAND,"==":o.Equality,"!=":o.Equality,"===":o.Equality,"!==":o.Equality,is:o.Equality,isnt:o.Equality,"<":o.Relational,">":o.Relational,"<=":o.Relational,">=":o.Relational,"in":o.Relational,"instanceof":o.Relational,"<<":o.BitwiseSHIFT,">>":o.BitwiseSHIFT,">>>":o.BitwiseSHIFT,"+":o.Additive,"-":o.Additive,"*":o.Multiplicative,"%":o.Multiplicative,"/":o.Multiplicative},c=Array.isArray,c||(c=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),E={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},_=L().format,r.version=t("/package.json",n).version,r.generate=bt,r.attachComments=l.attachComments,r.Precedence=O({},o),r.browser=!1,r.FORMAT_MINIFY=E,r.FORMAT_DEFAULTS=_}()}),t.define("/package.json",function(e){e.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/Constellation/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},version:"1.4.1",engines:{node:">=0.10.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/Constellation/escodegen.git"},dependencies:{estraverse:"^1.5.1",esutils:"^1.1.4",esprima:"^1.2.2"},optionalDependencies:{"source-map":"~0.1.37"},devDependencies:{"esprima-moz":"*",semver:"^3.0.1",bluebird:"^2.2.2","jshint-stylish":"^0.4.0",chai:"^1.9.1","gulp-mocha":"^1.0.0","gulp-eslint":"^0.1.8",gulp:"^3.8.6","bower-registry-client":"^0.2.1","gulp-jshint":"^1.8.0","commonjs-everywhere":"^0.9.7"},licenses:[{type:"BSD",url:"http://github.com/Constellation/escodegen/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}}),t.define("/node_modules/source-map/lib/source-map.js",function(e,n){n.SourceMapGenerator=t("/node_modules/source-map/lib/source-map/source-map-generator.js",e).SourceMapGenerator,n.SourceMapConsumer=t("/node_modules/source-map/lib/source-map/source-map-consumer.js",e).SourceMapConsumer,n.SourceNode=t("/node_modules/source-map/lib/source-map/source-node.js",e).SourceNode}),t.define("/node_modules/source-map/lib/source-map/source-node.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,null!=r&&this.add(r)}var i=e("/node_modules/source-map/lib/source-map/source-map-generator.js",n).SourceMapGenerator,o=e("/node_modules/source-map/lib/source-map/util.js",n),s=/(\r?\n)/,a=/\r\n|[\s\S]/g;r.fromStringWithSourceMap=function(e,t,n){function i(e,t){if(null===e||void 0===e.source)a.add(t);else{var i=n?o.join(n,e.source):e.source;a.add(new r(e.originalLine,e.originalColumn,i,t,e.name))}}var a=new r,l=e.split(s),u=function(){var e=l.shift(),t=l.shift()||"";return e+t},c=1,f=0,h=null;return t.eachMapping(function(e){if(null!==h){if(!(c<e.generatedLine)){var t=l[0],n=t.substr(0,e.generatedColumn-f);return l[0]=t.substr(e.generatedColumn-f),f=e.generatedColumn,i(h,n),h=e,void 0}var n="";i(h,u()),c++,f=0}for(;c<e.generatedLine;)a.add(u()),c++;if(f<e.generatedColumn){var t=l[0];a.add(t.substr(0,e.generatedColumn)),l[0]=t.substr(e.generatedColumn),f=e.generatedColumn}h=e},this),l.length>0&&(h&&i(h,u()),a.add(l.join(""))),t.sources.forEach(function(e){var r=t.sourceContentFor(e);null!=r&&(null!=n&&(e=o.join(n,e)),a.setSourceContent(e,r))}),a},r.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!(e instanceof r||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},r.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!(e instanceof r||"string"==typeof e))throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},r.prototype.walk=function(e){for(var t,n=0,i=this.children.length;i>n;n++)t=this.children[n],t instanceof r?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},r.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;r-1>n;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},r.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n instanceof r?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},r.prototype.setSourceContent=function(e,t){this.sourceContents[o.toSetString(e)]=t},r.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;n>t;t++)this.children[t]instanceof r&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,n=i.length;n>t;t++)e(o.fromSetString(i[t]),this.sourceContents[i[t]])},r.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},r.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),r=!1,o=null,l=null,u=null,c=null;return this.walk(function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?((o!==i.source||l!==i.line||u!==i.column||c!==i.name)&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,l=i.line,u=i.column,c=i.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1),e.match(a).forEach(function(e,a,l){s.test(e)?(t.line++,t.column=0,a+1===l.length?(o=null,r=!1):r&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column+=e.length})}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=r})}),t.define("/node_modules/source-map/lib/source-map/util.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){function n(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')}function r(e){var t=e.match(p);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function o(e){var t=e,n=r(e);if(n){if(!n.path)return e;t=n.path}for(var o,s="/"===t.charAt(0),a=t.split(/\/+/),l=0,u=a.length-1;u>=0;u--)o=a[u],"."===o?a.splice(u,1):".."===o?l++:l>0&&(""===o?(a.splice(u+1,l),l=0):(a.splice(u,2),l--));return t=a.join("/"),""===t&&(t=s?"/":"."),n?(n.path=t,i(n)):t}function s(e,t){""===e&&(e="."),""===t&&(t=".");var n=r(t),s=r(e);if(s&&(e=s.path||"/"),n&&!n.scheme)return s&&(n.scheme=s.scheme),i(n);if(n||t.match(d))return t;if(s&&!s.host&&!s.path)return s.host=t,i(s);var a="/"===t.charAt(0)?t:o(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=a,i(s)):a}function a(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");var n=r(e);return"/"==t.charAt(0)&&n&&"/"==n.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t}function l(e){return"$"+e}function u(e){return e.substr(1)}function c(e,t){var n=e||"",r=t||"";return(n>r)-(r>n)}function f(e,t,n){var r;return r=c(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r||n?r:(r=c(e.name,t.name),r?r:(r=e.generatedLine-t.generatedLine,r?r:e.generatedColumn-t.generatedColumn))))}function h(e,t,n){var r;return r=e.generatedLine-t.generatedLine,r?r:(r=e.generatedColumn-t.generatedColumn,r||n?r:(r=c(e.source,t.source),r?r:(r=e.originalLine-t.originalLine,r?r:(r=e.originalColumn-t.originalColumn,r?r:c(e.name,t.name)))))}t.getArg=n;var p=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,d=/^data:.+\,.+$/;t.urlParse=r,t.urlGenerate=i,t.normalize=o,t.join=s,t.relative=a,t.toSetString=l,t.fromSetString=u,t.compareByOriginalPositions=f,t.compareByGeneratedPositions=h})}),t.define("/node_modules/source-map/node_modules/amdefine/amdefine.js",function(e,r,i,o){"use strict";function s(e,r){function i(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function s(e,t){var n;return e&&"."===e.charAt(0)&&t&&(n=t.split("/"),n=n.slice(0,n.length-1),n=n.concat(e.split("/")),i(n),e=n.join("/")),e}function a(e){return function(t){return s(t,e)}}function l(e){function t(t){d[e]=t}return t.fromText=function(){throw new Error("amdefine does not implement load.fromText")},t}function u(t,n,i){var s,a,l,u;if(t)a=d[t]={},l={id:t,uri:o,exports:a},s=f(r,a,l,t);else{if(m)throw new Error("amdefine with no module ID cannot be called more than once per file.");m=!0,a=e.exports,l=e,s=f(r,a,l,e.id)}n&&(n=n.map(function(e){return s(e)})),u="function"==typeof i?i.apply(l.exports,n):i,void 0!==u&&(l.exports=u,t&&(d[t]=l.exports))}function c(e,t,n){Array.isArray(e)?(n=t,t=e,e=void 0):"string"!=typeof e&&(n=e,e=t=void 0),t&&!Array.isArray(t)&&(n=t,t=void 0),t||(t=["require","exports","module"]),e?p[e]=[e,t,n]:u(e,t,n)}var f,h,p={},d={},m=!1,g=t("path",e);return f=function(e,t,r,i){function o(o,s){return"string"==typeof o?h(e,t,r,o,i):(o=o.map(function(n){return h(e,t,r,n,i)}),void n.nextTick(function(){s.apply(null,o)}))}return o.toUrl=function(e){return 0===e.indexOf(".")?s(e,g.dirname(r.filename)):e},o},r=r||function(){return e.require.apply(e,arguments)},h=function(e,t,n,r,i){var o,c,m=r.indexOf("!"),g=r;if(-1===m){if(r=s(r,i),"require"===r)return f(e,t,n,i);if("exports"===r)return t;if("module"===r)return n;if(d.hasOwnProperty(r))return d[r];if(p[r])return u.apply(null,p[r]),d[r];if(e)return e(g);throw new Error("No module with ID: "+r)}return o=r.substring(0,m),r=r.substring(m+1,r.length),c=h(e,t,n,o,i),r=c.normalize?c.normalize(r,a(i)):s(r,i),d[r]?d[r]:(c.load(r,f(e,t,n,i),l(r),{}),d[r])},c.require=function(e){return d[e]?d[e]:p[e]?(u.apply(null,p[e]),d[e]):void 0},c.amd={},c}e.exports=s}),t.define("/node_modules/source-map/lib/source-map/source-map-generator.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){e||(e={}),this._file=o.getArg(e,"file",null),this._sourceRoot=o.getArg(e,"sourceRoot",null),this._sources=new s,this._names=new s,this._mappings=[],this._sourcesContents=null}var i=e("/node_modules/source-map/lib/source-map/base64-vlq.js",n),o=e("/node_modules/source-map/lib/source-map/util.js",n),s=e("/node_modules/source-map/lib/source-map/array-set.js",n).ArraySet;r.prototype._version=3,r.fromSourceMap=function(e){var t=e.sourceRoot,n=new r({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=o.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},r.prototype.addMapping=function(e){var t=o.getArg(e,"generated"),n=o.getArg(e,"original",null),r=o.getArg(e,"source",null),i=o.getArg(e,"name",null);this._validateMapping(t,n,r,i),null!=r&&!this._sources.has(r)&&this._sources.add(r),null!=i&&!this._names.has(i)&&this._names.add(i),this._mappings.push({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:i})},r.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=o.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[o.toSetString(n)]=t):(delete this._sourcesContents[o.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},r.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var i=this._sourceRoot;null!=i&&(r=o.relative(i,r));var a=new s,l=new s;this._mappings.forEach(function(t){if(t.source===r&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=n&&(t.source=o.join(n,t.source)),null!=i&&(t.source=o.relative(i,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&null!=t.name&&(t.name=s.name))}var u=t.source;null!=u&&!a.has(u)&&a.add(u);var c=t.name;null!=c&&!l.has(c)&&l.add(c)},this),this._sources=a,this._names=l,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=o.join(n,t)),null!=i&&(t=o.relative(i,t)),this.setSourceContent(t,r))},this)},r.prototype._validateMapping=function(e,t,n,r){if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!t&&!n&&!r||e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},r.prototype._serializeMappings=function(){var e,t=0,n=1,r=0,s=0,a=0,l=0,u="";this._mappings.sort(o.compareByGeneratedPositions);for(var c=0,f=this._mappings.length;f>c;c++){if(e=this._mappings[c],e.generatedLine!==n)for(t=0;e.generatedLine!==n;)u+=";",n++;else if(c>0){if(!o.compareByGeneratedPositions(e,this._mappings[c-1]))continue;u+=","}u+=i.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(u+=i.encode(this._sources.indexOf(e.source)-l),l=this._sources.indexOf(e.source),u+=i.encode(e.originalLine-1-s),s=e.originalLine-1,u+=i.encode(e.originalColumn-r),r=e.originalColumn,null!=e.name&&(u+=i.encode(this._names.indexOf(e.name)-a),a=this._names.indexOf(e.name)))}return u},r.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=o.relative(t,e));var n=o.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},r.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},r.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=r})}),t.define("/node_modules/source-map/lib/source-map/array-set.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(){this._array=[],this._set={}}var i=e("/node_modules/source-map/lib/source-map/util.js",n);r.fromArray=function(e,t){for(var n=new r,i=0,o=e.length;o>i;i++)n.add(e[i],t);return n},r.prototype.add=function(e,t){var n=this.has(e),r=this._array.length;(!n||t)&&this._array.push(e),n||(this._set[i.toSetString(e)]=r)},r.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,i.toSetString(e))},r.prototype.indexOf=function(e){if(this.has(e))return this._set[i.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.ArraySet=r})}),t.define("/node_modules/source-map/lib/source-map/base64-vlq.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){return 0>e?(-e<<1)+1:(e<<1)+0}function i(e){var t=1===(1&e),n=e>>1;return t?-n:n}var o=e("/node_modules/source-map/lib/source-map/base64.js",n),s=5,a=1<<s,l=a-1,u=a;t.encode=function(e){var t,n="",i=r(e);do t=i&l,i>>>=s,i>0&&(t|=u),n+=o.encode(t);while(i>0);return n},t.decode=function(e){var t,n,r=0,a=e.length,c=0,f=0;do{if(r>=a)throw new Error("Expected more digits in base 64 VLQ value.");n=o.decode(e.charAt(r++)),t=!!(n&u),n&=l,c+=n<<f,f+=s}while(t);return{value:i(c),rest:e.slice(r)}}})}),t.define("/node_modules/source-map/lib/source-map/base64.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){var n={},r={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach(function(e,t){n[e]=t,r[t]=e}),t.encode=function(e){if(e in r)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in n)return n[e];throw new TypeError("Not a valid base 64 digit: "+e)}})}),t.define("/node_modules/source-map/lib/source-map/source-map-consumer.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t,n){function r(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=i.getArg(t,"version"),r=i.getArg(t,"sources"),o=i.getArg(t,"names",[]),a=i.getArg(t,"sourceRoot",null),l=i.getArg(t,"sourcesContent",null),u=i.getArg(t,"mappings"),c=i.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);this._names=s.fromArray(o,!0),this._sources=s.fromArray(r,!0),this.sourceRoot=a,this.sourcesContent=l,this._mappings=u,this.file=c}var i=e("/node_modules/source-map/lib/source-map/util.js",n),o=e("/node_modules/source-map/lib/source-map/binary-search.js",n),s=e("/node_modules/source-map/lib/source-map/array-set.js",n).ArraySet,a=e("/node_modules/source-map/lib/source-map/base64-vlq.js",n);r.fromSourceMap=function(e){var t=Object.create(r.prototype);return t._names=s.fromArray(e._names.toArray(),!0),t._sources=s.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.slice().sort(i.compareByGeneratedPositions),t.__originalMappings=e._mappings.slice().sort(i.compareByOriginalPositions),t},r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?i.join(this.sourceRoot,e):e},this)}}),r.prototype.__generatedMappings=null,Object.defineProperty(r.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),r.prototype.__originalMappings=null,Object.defineProperty(r.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),r.prototype._parseMappings=function(e){for(var t,n,r=1,o=0,s=0,l=0,u=0,c=0,f=/^[,;]/,h=e;h.length>0;)if(";"===h.charAt(0))r++,h=h.slice(1),o=0;else if(","===h.charAt(0))h=h.slice(1);else{if(t={},t.generatedLine=r,n=a.decode(h),t.generatedColumn=o+n.value,o=t.generatedColumn,h=n.rest,h.length>0&&!f.test(h.charAt(0))){if(n=a.decode(h),t.source=this._sources.at(u+n.value),u+=n.value,h=n.rest,0===h.length||f.test(h.charAt(0)))throw new Error("Found a source, but no line and column");if(n=a.decode(h),t.originalLine=s+n.value,s=t.originalLine,t.originalLine+=1,h=n.rest,0===h.length||f.test(h.charAt(0)))throw new Error("Found a source and line, but no column");n=a.decode(h),t.originalColumn=l+n.value,l=t.originalColumn,h=n.rest,h.length>0&&!f.test(h.charAt(0))&&(n=a.decode(h),t.name=this._names.at(c+n.value),c+=n.value,h=n.rest)}this.__generatedMappings.push(t),"number"==typeof t.originalLine&&this.__originalMappings.push(t)}this.__generatedMappings.sort(i.compareByGeneratedPositions),this.__originalMappings.sort(i.compareByOriginalPositions)},r.prototype._findMapping=function(e,t,n,r,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return o.search(e,t,i)},r.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositions);if(n&&n.generatedLine===t.generatedLine){var r=i.getArg(n,"source",null);return null!=r&&null!=this.sourceRoot&&(r=i.join(this.sourceRoot,r)),{source:r,line:i.getArg(n,"originalLine",null),column:i.getArg(n,"originalColumn",null),name:i.getArg(n,"name",null)}}return{source:null,line:null,column:null,name:null}},r.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=i.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=i.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){var t={source:i.getArg(e,"source"),originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")};null!=this.sourceRoot&&(t.source=i.relative(this.sourceRoot,t.source));var n=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions);return n?{line:i.getArg(n,"generatedLine",null),column:i.getArg(n,"generatedColumn",null)}:{line:null,column:null}},r.GENERATED_ORDER=1,r.ORIGINAL_ORDER=2,r.prototype.eachMapping=function(e,t,n){var o,s=t||null,a=n||r.GENERATED_ORDER;switch(a){case r.GENERATED_ORDER:o=this._generatedMappings;break;case r.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var l=this.sourceRoot;o.map(function(e){var t=e.source;return null!=t&&null!=l&&(t=i.join(l,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}}).forEach(e,s)},t.SourceMapConsumer=r})}),t.define("/node_modules/source-map/lib/source-map/binary-search.js",function(e){if("function"!=typeof n)var n=t("/node_modules/source-map/node_modules/amdefine/amdefine.js",e)(e,t);n(function(e,t){function n(e,t,r,i,o){var s=Math.floor((t-e)/2)+e,a=o(r,i[s],!0);return 0===a?i[s]:a>0?t-s>1?n(s,t,r,i,o):i[s]:s-e>1?n(e,s,r,i,o):0>e?null:i[e]}t.search=function(e,t,r){return t.length>0?n(-1,t.length,e,t,r):null}})}),t.define("/node_modules/esutils/lib/utils.js",function(e,n){!function(){"use strict";n.ast=t("/node_modules/esutils/lib/ast.js",e),n.code=t("/node_modules/esutils/lib/code.js",e),n.keyword=t("/node_modules/esutils/lib/keyword.js",e)}()}),t.define("/node_modules/esutils/lib/keyword.js",function(e){!function(n){"use strict";function r(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function i(e,t){return t||"yield"!==e?o(e,t):!1}function o(e,t){if(t&&r(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function s(e,t){return"null"===e||"true"===e||"false"===e||i(e,t)}function a(e,t){return"null"===e||"true"===e||"false"===e||o(e,t)}function l(e){return"eval"===e||"arguments"===e}function u(e){var t,r,i;if(0===e.length)return!1;if(i=e.charCodeAt(0),!n.isIdentifierStart(i)||92===i)return!1;for(t=1,r=e.length;r>t;++t)if(i=e.charCodeAt(t),!n.isIdentifierPart(i)||92===i)return!1;return!0}function c(e,t){return u(e)&&!s(e,t)}function f(e,t){return u(e)&&!a(e,t)}n=t("/node_modules/esutils/lib/code.js",e),e.exports={isKeywordES5:i,isKeywordES6:o,isReservedWordES5:s,isReservedWordES6:a,isRestrictedWord:l,isIdentifierName:u,isIdentifierES5:c,isIdentifierES6:f}}()}),t.define("/node_modules/esutils/lib/code.js",function(e){!function(t){"use strict";function n(e){return e>=48&&57>=e}function r(e){return n(e)||e>=97&&102>=e||e>=65&&70>=e}function i(e){return e>=48&&55>=e}function o(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function s(e){return 10===e||13===e||8232===e||8233===e}function a(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||92===e||e>=128&&t.NonAsciiIdentifierStart.test(String.fromCharCode(e))}function l(e){return 36===e||95===e||e>=65&&90>=e||e>=97&&122>=e||e>=48&&57>=e||92===e||e>=128&&t.NonAsciiIdentifierPart.test(String.fromCharCode(e))}t={NonAsciiIdentifierStart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),NonAsciiIdentifierPart:new RegExp("[\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0\u08a2-\u08ac\u08e4-\u08fe\u0900-\u0963\u0966-\u096f\u0971-\u0977\u0979-\u097f\u0981-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d02\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191c\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1d00-\u1de6\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua697\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a\uaa7b\uaa80-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]")},e.exports={isDecimalDigit:n,isHexDigit:r,isOctalDigit:i,isWhiteSpace:o,isLineTerminator:s,isIdentifierStart:a,isIdentifierPart:l}
}()}),t.define("/node_modules/esutils/lib/ast.js",function(e){!function(){"use strict";function t(e){if(null==e)return!1;switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function n(e){if(null==e)return!1;switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function r(e){if(null==e)return!1;switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function i(e){return r(e)||null!=e&&"FunctionDeclaration"===e.type}function o(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}function s(e){var t;if("IfStatement"!==e.type)return!1;if(null==e.alternate)return!1;t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0;t=o(t)}while(t);return!1}e.exports={isExpression:t,isStatement:r,isIterationStatement:n,isSourceElement:i,isProblematicIfStatement:s,trailingStatement:o}}()}),t.define("/node_modules/estraverse/estraverse.js",function(e,t){!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["exports"],n):n(void 0!==t?t:e.estraverse={})}(this,function(e){"use strict";function t(){}function n(e){var t,r,i={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],i[t]="object"==typeof r&&null!==r?n(r):r);return i}function r(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function i(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?r=n:(i=o+1,r-=n+1);return i}function o(e,t){var n,r,i,o;for(r=e.length,i=0;r;)n=r>>>1,o=i+n,t(e[o])?(i=o+1,r-=n+1):r=n;return i}function s(e,t){this.parent=e,this.key=t}function a(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function l(){}function u(e,t){var n=new l;return n.traverse(e,t)}function c(e,t){var n=new l;return n.replace(e,t)}function f(e,t){var n;return n=i(t,function(t){return t.range[0]>e.range[0]}),e.extendedRange=[e.range[0],e.range[1]],n!==t.length&&(e.extendedRange[1]=t[n].range[0]),n-=1,n>=0&&(e.extendedRange[0]=t[n].range[1]),e}function h(e,t,r){var i,o,s,a,l=[];if(!e.range)throw new Error("attachComments needs range information");if(!r.length){if(t.length){for(s=0,o=t.length;o>s;s+=1)i=n(t[s]),i.extendedRange=[0,e.range[0]],l.push(i);e.leadingComments=l}return e}for(s=0,o=t.length;o>s;s+=1)l.push(f(n(t[s]),r));return a=0,u(e,{enter:function(e){for(var t;a<l.length&&(t=l[a],!(t.extendedRange[1]>e.range[0]));)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?m.Break:l[a].extendedRange[0]>e.range[1]?m.Skip:void 0}}),a=0,u(e,{leave:function(e){for(var t;a<l.length&&(t=l[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),l.splice(a,1)):a+=1;return a===l.length?m.Break:l[a].extendedRange[0]>e.range[1]?m.Skip:void 0}}),e}var p,d,m,g,v,b;p={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},d=Array.isArray,d||(d=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),t(r),t(o),g={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},v={},b={},m={Break:v,Skip:b},s.prototype.replace=function(e){this.parent[this.key]=e},l.prototype.path=function(){function e(e,t){if(d(t))for(r=0,i=t.length;i>r;++r)e.push(t[r]);else e.push(t)}var t,n,r,i,o,s;if(!this.__current.path)return null;for(o=[],t=2,n=this.__leavelist.length;n>t;++t)s=this.__leavelist[t],e(o,s.path);return e(o,this.__current.path),o},l.prototype.parents=function(){var e,t,n;for(n=[],e=1,t=this.__leavelist.length;t>e;++e)n.push(this.__leavelist[e].node);return n},l.prototype.current=function(){return this.__current.node},l.prototype.__execute=function(e,t){var n,r;return r=void 0,n=this.__current,this.__current=t,this.__state=null,e&&(r=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=n,r},l.prototype.notify=function(e){this.__state=e},l.prototype.skip=function(){this.notify(b)},l.prototype["break"]=function(){this.notify(v)},l.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},l.prototype.traverse=function(e,t){var n,r,i,o,s,l,u,c,f,h,m,y;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,n.push(new a(e,null,null,null)),r.push(new a(null,null,null,null));n.length;)if(i=n.pop(),i!==y){if(i.node){if(l=this.__execute(t.enter,i),this.__state===v||l===v)return;if(n.push(y),r.push(i),this.__state===b||l===b)continue;for(o=i.node,s=i.wrap||o.type,h=g[s],c=h.length;(c-=1)>=0;)if(u=h[c],m=o[u])if(d(m))for(f=m.length;(f-=1)>=0;)m[f]&&(i=s!==p.ObjectExpression&&s!==p.ObjectPattern||"properties"!==h[c]?new a(m[f],[u,f],null,null):new a(m[f],[u,f],"Property",null),n.push(i));else n.push(new a(m,u,null,null))}}else if(i=r.pop(),l=this.__execute(t.leave,i),this.__state===v||l===v)return},l.prototype.replace=function(e,t){var n,r,i,o,l,u,c,f,h,m,y,x,w;for(this.__initialize(e,t),y={},n=this.__worklist,r=this.__leavelist,x={root:e},u=new a(e,null,null,new s(x,"root")),n.push(u),r.push(u);n.length;)if(u=n.pop(),u!==y){if(l=this.__execute(t.enter,u),void 0!==l&&l!==v&&l!==b&&(u.ref.replace(l),u.node=l),this.__state===v||l===v)return x.root;if((i=u.node)&&(n.push(y),r.push(u),this.__state!==b&&l!==b))for(o=u.wrap||i.type,h=g[o],c=h.length;(c-=1)>=0;)if(w=h[c],m=i[w])if(d(m))for(f=m.length;(f-=1)>=0;)m[f]&&(u=o===p.ObjectExpression&&"properties"===h[c]?new a(m[f],[w,f],"Property",new s(m,f)):new a(m[f],[w,f],null,new s(m,f)),n.push(u));else n.push(new a(m,w,null,new s(i,w)))}else if(u=r.pop(),l=this.__execute(t.leave,u),void 0!==l&&l!==v&&l!==b&&u.ref.replace(l),this.__state===v||l===v)return x.root;return x.root},e.version="1.5.1-dev",e.Syntax=p,e.traverse=u,e.replace=c,e.attachComments=h,e.VisitorKeys=g,e.VisitorOption=m,e.Controller=l})}),t("/tools/entry-point.js")}.call(this,this),/**
 * lscache library
 * Copyright (c) 2011, Pamela Fox
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.lscache=t()}(this,function(){function e(){var e="__lscachetest__",n=e;if(void 0!==h)return h;try{s(e,n),a(e),h=!0}catch(r){h=t(r)?!0:!1}return h}function t(e){return e&&"QUOTA_EXCEEDED_ERR"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||"QuotaExceededError"===e.name?!0:!1}function n(){return void 0===p&&(p=null!=window.JSON),p}function r(e){return e+m}function i(){return Math.floor((new Date).getTime()/v)}function o(e){return localStorage.getItem(d+y+e)}function s(e,t){localStorage.removeItem(d+y+e),localStorage.setItem(d+y+e,t)}function a(e){localStorage.removeItem(d+y+e)}function l(e){for(var t=new RegExp("^"+d+y+"(.*)"),n=localStorage.length-1;n>=0;--n){var i=localStorage.key(n);i=i&&i.match(t),i=i&&i[1],i&&i.indexOf(m)<0&&e(i,r(i))}}function u(e){var t=r(e);a(e),a(t)}function c(e){var t=r(e),n=o(t);if(n){var s=parseInt(n,g);if(i()>=s)return a(e),a(t),!0}}function f(e,t){x&&"console"in window&&"function"==typeof window.console.warn&&(window.console.warn("lscache - "+e),t&&window.console.warn("lscache - The error was: "+t.message))}var h,p,d="lscache-",m="-cacheexpiration",g=10,v=6e4,b=Math.floor(864e13/v),y="",x=!1,w={set:function(c,h,p){if(e()){if("string"!=typeof h){if(!n())return;try{h=JSON.stringify(h)}catch(d){return}}try{s(c,h)}catch(d){if(!t(d))return void f("Could not add item with key '"+c+"'",d);var m,v=[];l(function(e,t){var n=o(t);n=n?parseInt(n,g):b,v.push({key:e,size:(o(e)||"").length,expiration:n})}),v.sort(function(e,t){return t.expiration-e.expiration});for(var y=(h||"").length;v.length&&y>0;)m=v.pop(),f("Cache is full, removing item with key '"+c+"'"),u(m.key),y-=m.size;try{s(c,h)}catch(d){return void f("Could not add item with key '"+c+"', perhaps it's too big?",d)}}p?s(r(c),(i()+p).toString(g)):a(r(c))}},get:function(t){if(!e())return null;if(c(t))return null;var r=o(t);if(!r||!n())return r;try{return JSON.parse(r)}catch(i){return r}},remove:function(t){e()&&u(t)},supported:function(){return e()},flush:function(){e()&&l(function(e){u(e)})},flushExpired:function(){e()&&l(function(e){c(e)})},setBucket:function(e){y=e},resetBucket:function(){y=""},enableWarnings:function(e){x=e}};return w});var CacheGet={_inMemoryStore:{},findInMemory:function(e){this._find(e,"inmemory")},findInLocalStorage:function(e){this._find(e,"localstorage")},_find:function(e,t){this._validateOpts(e);var n=this._findInStorage(e,t);n?e.cb(n):this._fetchAndCache(e,"inmemory")},_validateOpts:function(e){if(!e.key)throw"Invalid key";if(!e.url)throw"Invalid URL";if(!e.cb)throw"Invalid callback"},_findInStorage:function(e,t){return"inmemory"===t?this._inMemoryStore[e.key]:lscache.get(e.key)},_fetchAndCache:function(e,t){var n=this;$.ajax({dataType:e.dataType||"text",url:e.url,success:function(r){"inmemory"===t?n._inMemoryStore[e.key]=r:lscache.set(e.key,r,e.expire),e.cb(r)}})}},IDGenerator={length:8,generate:function(){for(var e=(+new Date).toString().split("").reverse(),t="",n=0;n<this.length;++n){var r=this._getRandomInt(0,e.length-1);t+=e[r]}return t},_getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}};